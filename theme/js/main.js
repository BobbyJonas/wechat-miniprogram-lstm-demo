!function(e){"use strict";var t=800,s=e(window);document.documentElement.setAttribute("data-useragent",navigator.userAgent);var o=document.getElementById("contactForm"),n=(document.getElementById("contactFormButton"),e(".submit-loader"));function i(){o.reset(),n.slideUp("slow"),e(".message-warning").fadeOut(),e("#contactForm").fadeOut(),e(".message-success").fadeIn()}function a(){n.slideUp("slow"),e(".message-warning").html("Oh no！訊息寄送失敗，請查看你的網路連線並再度嘗試。"),e(".message-warning").slideDown("slow")}o.addEventListener("submit",function(e){e.preventDefault();var t=new FormData(o);!function(e,t,s,o,n){var i=new XMLHttpRequest;i.open(e,t),i.setRequestHeader("Accept","application/json"),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(200===i.status?o(i.response,i.responseType):n(i.status,i.response,i.responseType))},i.send(s)}(o.method,o.action,t,i,a)});var r,l,d,c,u,f,p,m,h,g,w,v,y,C;e("html").addClass("ss-preload"),s.on("load",function(){e("#loader").fadeOut("slow",function(){e("#preloader").delay(300).fadeOut("slow")}),e("html").removeClass("ss-preload"),e("html").addClass("ss-loaded")}),e("pre").addClass("prettyprint"),e(document).ready(function(){prettyPrint()}),r=e(".page-hero"),l=e("header"),d=r.outerHeight()-170,s.on("scroll",function(){var e=s.scrollTop();e>d?l.addClass("sticky"):l.removeClass("sticky"),e>d+20?l.addClass("offset"):l.removeClass("offset"),e>d+150?l.addClass("scrolling"):l.removeClass("scrolling")}),c=e(".header-menu-toggle"),u=e(".header-nav-wrap"),c.on("click",function(e){e.preventDefault(),c.toggleClass("is-clicked"),u.slideToggle()}),c.is(":visible")&&u.addClass("mobile"),s.on("resize",function(){c.is(":visible")?u.addClass("mobile"):u.removeClass("mobile")}),u.find("a").on("click",function(){u.hasClass("mobile")&&(c.toggleClass("is-clicked"),u.slideToggle())}),(f=e(".masonry")).imagesLoaded(function(){f.masonry({itemSelector:".masonry__brick",resize:!0})}),p=[],m=e(".pswp")[0],(h=e(".item-folio")).each(function(t){var s=e(this),o=s.find(".thumb-link"),n=s.find(".item-folio__title"),i=s.find(".item-folio__caption"),a="<h4>"+e.trim(n.html())+"</h4>",r=e.trim(i.html()),l=o.attr("href"),d=o.data("size").split("x"),c={src:l,w:d[0],h:d[1]};i.length>0&&(c.title=e.trim(a+r)),p.push(c)}),h.each(function(t){e(this).on("click",function(e){new PhotoSwipe(m,PhotoSwipeUI_Default,p,{index:t,showHideOpacity:!0}).init()})}),e(".testimonials__slider").slick({arrows:!0,dots:!1,infinite:!0,slidesToShow:2,slidesToScroll:1,prevArrow:"<div class='slick-prev'><i class='im im-arrow-left' aria-hidden='true'></i></div>",nextArrow:"<div class='slick-next'><i class='im im-arrow-right' aria-hidden='true'></i></div>",pauseOnFocus:!1,autoplaySpeed:1500,responsive:[{breakpoint:900,settings:{slidesToShow:1,slidesToScroll:1}}]}),g=e(".target-section"),w=e(".header-nav li a"),g.waypoint({handler:function(t){var s;s=e("section#"+this.element.id),"up"===t&&(s=s.prevAll(".target-section").first());var o=e('.header-nav li a[href="#'+s.attr("id")+'"]');w.parent().removeClass("current"),o.parent().addClass("current")},offset:"25%"}),v=e(".s-stats"),y=e(".stats__count"),v.waypoint({handler:function(t){"down"===t&&y.each(function(){var t=e(this);e({Counter:0}).animate({Counter:t.text()},{duration:4e3,easing:"swing",step:function(e){t.text(Math.ceil(e))}})}),this.destroy()},offset:"90%"}),e(".smoothscroll").on("click",function(s){var o=this.hash,n=e(o);s.preventDefault(),s.stopPropagation(),e("html, body").stop().animate({scrollTop:n.offset().top},t,"swing",function(){window.location.hash=o})}),e("input, textarea, select").placeholder(),e(".alert-box").on("click",".alert-box__close",function(){e(this).parent().fadeOut(500)}),C=e(".go-top"),e(window).on("scroll",function(){e(window).scrollTop()>=500?C.fadeIn(400):C.fadeOut(400)})}(jQuery);