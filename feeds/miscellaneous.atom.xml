<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>LeeMeng - Miscellaneous</title><link href="https://leemengtaiwan.github.io/" rel="alternate"></link><link href="https://leemengtaiwan.github.io/feeds/miscellaneous.atom.xml" rel="self"></link><id>https://leemengtaiwan.github.io/</id><updated>2018-09-17T12:00:00+09:00</updated><entry><title>資料科學文摘 Vol.5 數據科學家面臨的挑戰、儀表板設計以及未來的被駭人生</title><link href="https://leemengtaiwan.github.io/data-science-digest-volume-5-challenges-that-data-scientists-facing-dashboard-design-and-hackable-humans.html" rel="alternate"></link><published>2018-09-17T12:00:00+09:00</published><updated>2018-09-17T12:00:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-09-17:/data-science-digest-volume-5-challenges-that-data-scientists-facing-dashboard-design-and-hackable-humans.html</id><summary type="html">&lt;p&gt;真正的數據科學家面臨的 8 個挑戰是什麼？何時一個資料科學家可以說他 / 她真正地「完成」了工作？ 10 個儀表板設計的原則是什麼？何謂「被駭」人生？為了了解這些跟資料科學息息相關的問題以及可能的解答，這週我們一樣會透過閱讀幾篇文章，來分別了解幾位優秀的資料科學家、UI/UX 設計師甚至是歷史學家是怎麼思考這些問題的。如同以往的文摘，我會附上摘要並穿插自己的心得，供時間寶貴的你參考。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;ul&gt;
&lt;li&gt;真正的數據科學家面臨的 8 個挑戰是什麼？&lt;/li&gt;
&lt;li&gt;何時一個資料科學家可以說他 / 她真正地「完成」了工作？ &lt;/li&gt;
&lt;li&gt;10 個儀表板設計的原則是什麼？&lt;/li&gt;
&lt;li&gt;何謂「被駭」人生？&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;為了了解這些跟資料科學息息相關的問題以及可能的解答，這週我們一樣會透過閱讀幾篇文章，來分別了解幾位優秀的資料科學家、UI/UX 設計師甚至是歷史學家是怎麼想的。如同以往的&lt;a href="https://leemeng.tw/tag/wen-zhai.html"&gt;文摘&lt;/a&gt;，針對每篇英文文章我會附上摘要並穿插自己的心得，供時間寶貴的你做參考。&lt;/p&gt;
&lt;p&gt;事不宜遲，讓我們直接開始吧：）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="本週閱讀清單"&gt;本週閱讀清單&lt;a class="anchor-link" href="#本週閱讀清單"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#When-Your-Job-Is-Done-as-a-Data-Scientist"&gt;When Your Job Is Done as a Data Scientist&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#8-Real-Challenges-Data-Scientists-Face"&gt;8 Real Challenges Data Scientists Face&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Data-visualisation,-from-1987-to-today"&gt;Data visualisation, from 1987 to today&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#10-rules-for-better-dashboard-design"&gt;10 rules for better dashboard design&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Hackable-humans-and-digital-dictators"&gt;Hackable humans and digital dictators&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本週想跟你分享 5 篇文章。如同以往的&lt;a href="https://leemeng.tw/tag/wen-zhai.html"&gt;文摘&lt;/a&gt;，你可以點擊任一連結，從有興趣的摘要看起。有時間的話，我則鼓勵你點擊下面各文章的標題 / 圖片來查看英文原文。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="When-Your-Job-Is-Done-as-a-Data-Scientist"&gt;&lt;a href="https://towardsdatascience.com/when-your-job-is-done-as-a-data-scientist-c5d887bb0d0e"&gt;When Your Job Is Done as a Data Scientist&lt;/a&gt;&lt;a class="anchor-link" href="#When-Your-Job-Is-Done-as-a-Data-Scientist"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;center&gt;
&lt;a href="https://towardsdatascience.com/when-your-job-is-done-as-a-data-scientist-c5d887bb0d0e" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/1_7cF6Us4qWFN6jX49OI4zgg.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;在一個企業裡頭，資料科學家（&lt;strong&gt;D&lt;/strong&gt;ata &lt;strong&gt;S&lt;/strong&gt;cientist, &lt;strong&gt;DS&lt;/strong&gt;）常常會被各個部門（Product, Marketing, Sales Team etc）要求做各種不同的分析。如果你把每個分析視為一個專案（Project）的話，2 個你常常會需要問自己的問題是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;什麼時候可以說這個專案完成了？&lt;/li&gt;
&lt;li&gt;要做到什麼程度可以說我這個工作做完了？&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在這篇文章裡頭，資料科學家 &lt;a href="https://towardsdatascience.com/@conordewey3"&gt;Conor Dewey&lt;/a&gt; 說明了一個簡單的判斷原則：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;如果利害關係人無法利用你的成果做出決策，則你的工作就不算完成。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如果專案的利害關係人（Stakeholders）沒有辦法利用你的分析成果做出（好的）決策，則你的工作就還沒結束。反之，當你確定自己的工作結果能夠影響企業決策後，就不需要再去鑽研一些太複雜但沒有 actionable impact 的事情上面。&lt;/p&gt;
&lt;p&gt;如同我們在&lt;a href="https://leemeng.tw/data-science-digest-volume-4-choose-your-own-character-in-data-science-role-play-game.html#What-Data-Scientists-Really-Do,-According-to-35-Data-Scientists"&gt;之前的文摘&lt;/a&gt;中看到的，比起建立複雜的深度學習模型，學會做一個好的簡報，並跟非技術專業的利害關係人溝通結果，進而&lt;strong&gt;影響企業決策&lt;/strong&gt;才是對一個 DS 來說更為重要的事情。&lt;/p&gt;
&lt;p&gt;為了產生最大的影響力，不管在做什麼分析或者專案的時候，都得要好好控管自己的時間以及專案的優先順序（Priority）。&lt;/p&gt;
&lt;p&gt;雖然該作者在文中並沒有著墨於如何管理時間，你可以利用美國總統&lt;a href="https://zh.wikipedia.org/wiki/%E5%BE%B7%E6%80%80%E7%89%B9%C2%B7%E8%89%BE%E6%A3%AE%E8%B1%AA%E5%A8%81%E5%B0%94"&gt;艾森豪&lt;/a&gt;的&lt;a href="https://en.wikipedia.org/wiki/Time_management#The_Eisenhower_Method"&gt;時間管理準則&lt;/a&gt;來決定專案的優先順序：&lt;/p&gt;
&lt;center&gt;
&lt;a href="https://jamesclear.com/eisenhower-box" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/eisenhower-box.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;你會發現，這其實就是我們從小到大在說的「輕重緩急」。&lt;/p&gt;
&lt;p&gt;將專案依照重要性（Importance）以及緊急程度（Urgency）分為四個象限以後，你就能很清楚地知道該把自己大部分的工作時間花在那些最重要，且緊急的專案上面（上圖的左上角），藉此最大化自己的影響力。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;重要的事情通常不太緊急；緊急的事情大多不太重要 - 艾森豪&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="8-Real-Challenges-Data-Scientists-Face"&gt;&lt;a href="https://www.forbes.com/sites/laurencebradford/2018/09/06/8-real-challenges-data-scientists-face/"&gt;8 Real Challenges Data Scientists Face&lt;/a&gt;&lt;a class="anchor-link" href="#8-Real-Challenges-Data-Scientists-Face"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;center&gt;
&lt;a href="https://www.forbes.com/sites/laurencebradford/2018/09/06/8-real-challenges-data-scientists-face/" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/8-challenges.png" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://www.forbes.com/"&gt;富比士&lt;/a&gt;的這篇文章說明數據科學家在實際工作時會面臨到的 8 個挑戰。以下是我針對這些挑戰，整理出來 5 點 DS 應該時時刻刻放在心上的準則：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;你得至少專精一個部門的領域專業。此部門可以是銷售、行銷、廣告或是產品部門，擇你所愛&lt;/li&gt;
&lt;li&gt;能向非技術人才、利害關係人簡單明瞭地說明洞見以及可執行的決策，並把技術細節留到 Q&amp;amp;A&lt;/li&gt;
&lt;li&gt;不要盲目地想從資料中找出什麼。先利用領域專業或者是直覺來弄出一個假設，然後利用數據驗證結果&lt;/li&gt;
&lt;li&gt;明白一個分析的「可信度」只跟你用來做出該分析的原數據「品質」一樣高&lt;/li&gt;
&lt;li&gt;不斷地磨練自己處理數據的技能。這通常體現在使用 Python、&lt;a href="https://leemeng.tw/data-visualization-from-matplotlib-to-ggplot2.html"&gt;R&lt;/a&gt; 以及 &lt;a href="https://leemeng.tw/why-you-need-to-learn-sql-as-a-data-scientist.html"&gt;SQL&lt;/a&gt; 的能力&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;關於第 2 點，此篇文章則是這樣說明的：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;A data scientist that cannot articulate what their model does and why it&amp;rsquo;s of value to business stakeholders is going to have a difficult path to success.&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;有固定在追蹤本部落格的你，想必已經非常了解清晰溝通的重要性。你也可閱讀之前的&lt;a href="https://leemengtaiwan.github.io/data-science-digest-volume-4-choose-your-own-character-in-data-science-role-play-game.html"&gt;資料科學文摘 Vol.4&lt;/a&gt; 來了解更多相關內容。至於第 4 點，我們則在兩篇文章中有針對資料工程以及數據品質做些著墨：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://leemengtaiwan.github.io/why-you-need-to-learn-data-engineering-as-a-data-scientist.html"&gt;資料科學家為何需要了解資料工程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://leemengtaiwan.github.io/journey-of-data-scientist-L-part-1-two-must-ask-questions-when-on-board.html"&gt;資料科學家 L 的奇幻旅程 Vol.1 新人不得不問的 2 個問題&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Garbage in, garbage out。&lt;/p&gt;
&lt;p&gt;了解企業內的資料處理流程，可以讓你合理地評估利用這些數據產生出來的分析，到底有多少價值以及可信度。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Data-visualisation,-from-1987-to-today"&gt;&lt;a href="https://medium.economist.com/data-visualisation-from-1987-to-today-65d0609c6017"&gt;Data visualisation, from 1987 to today&lt;/a&gt;&lt;a class="anchor-link" href="#Data-visualisation,-from-1987-to-today"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;center&gt;
&lt;a href="https://medium.economist.com/data-visualisation-from-1987-to-today-65d0609c6017" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/leroy-stencil-set.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在經濟學人負責資料視覺化的 &lt;a href="https://medium.economist.com/@grahamdouglas_75252"&gt;Graham Douglas&lt;/a&gt; 分享他從 1987 年工作到現在，所使用的工具以及製圖歷程。遠在 2, 30年前，在「資料科學」這詞根本還不存在的年代，資料視覺化更像是一門藝術，而不是資料科學：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;Before computers, creating charts was a lot more like art than data science.&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;對已經習慣使用 &lt;a href="https://matplotlib.org/"&gt;Matplotlib&lt;/a&gt;、&lt;a href="https://leemeng.tw/data-visualization-from-matplotlib-to-ggplot2.html"&gt;ggplot2&lt;/a&gt; 以及 &lt;a href="https://www.tableau.com/"&gt;Tableau&lt;/a&gt; 等資料視覺化工具的 DS 來說，可能很難想像製作一張折線圖，還需要自己拿尺出來畫等間距格線的時代。&lt;/p&gt;
&lt;p&gt;雖然我們現在已經可以利用各種程式語言來輕鬆製圖，讀這篇文章能讓我們重新思考並感謝現代資料視覺化工具帶給我們的方便。我們也看到持續學習新技術以及工具的重要。&lt;/p&gt;
&lt;p&gt;對資料視覺化或是 R 語言中的 ggplot2 有興趣的話，可以參考&lt;a href="https://leemeng.tw/data-visualization-from-matplotlib-to-ggplot2.html"&gt;淺談資料視覺化以及 ggplot2 實踐&lt;/a&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="10-rules-for-better-dashboard-design"&gt;&lt;a href="https://uxplanet.org/10-rules-for-better-dashboard-design-ef68189d734c"&gt;10 rules for better dashboard design&lt;/a&gt;&lt;a class="anchor-link" href="#10-rules-for-better-dashboard-design"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;center&gt;
&lt;a href="https://uxplanet.org/10-rules-for-better-dashboard-design-ef68189d734c" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/1_gOwMfjZn3odOcYdCatiHCw.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;UX/UI 設計師的 &lt;a href="https://uxplanet.org/@taras.bakusevych"&gt;Taras Bakusevych&lt;/a&gt; 提供了一些很不錯的儀表板（Dashboard）設計建議。&lt;/p&gt;
&lt;p&gt;3 點我覺得可以特別提出來：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;簡潔，想辦法把精華弄在一頁&lt;/li&gt;
&lt;li&gt;不要太依賴互動性，要讓使用者不需什麼操作就能得到重要資訊&lt;/li&gt;
&lt;li&gt;選擇對的視覺呈現方式來陳述你想表達的數據關係&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;針對第 1 點，文章是這樣說的：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;Don&amp;rsquo;t tell the full story, instead summarize, surface only key info.&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;大部分儀表板的用意是要讓使用者在「幾秒鐘」之內掌握所有他需要知道的重要資訊。&lt;/p&gt;
&lt;p&gt;為了達到這個目的，你應該仔細思考，到底該在儀表板上的有限空間裡頭（一個視窗畫面內）顯示什麼圖表。&lt;/p&gt;
&lt;p&gt;不要因為大部分的儀表板可以無限捲動，你就一直往下加新的圖表。什麼圖表都放進去的話，很容易造成資訊過多（Information Overload）而導致使用者抓不到重點。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;針對&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「選擇對的視覺呈現方式來陳述你想表達的數據關係」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這點，文中則給出一個數據關係跟圖表類型的對照表：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/1_9VanG02d4If1TOIbpcTWbA.jpeg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;對於一個老練的 DS，這些判斷基準應該都已經很自然地存在你腦海之中的吧！不過我覺得這很適合當做一個 reference 或者 cheatsheet 來使用，提醒自己。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Hackable-humans-and-digital-dictators"&gt;&lt;a href="https://www.aljazeera.com/indepth/features/hackable-humans-digital-dictators-qa-yuval-noah-harari-180824095306982.html"&gt;Hackable humans and digital dictators&lt;/a&gt;&lt;a class="anchor-link" href="#Hackable-humans-and-digital-dictators"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;center&gt;
&lt;a href="https://www.aljazeera.com/indepth/features/hackable-humans-digital-dictators-qa-yuval-noah-harari-180824095306982.html" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/d0c2f05a21404458aee9066c6cd5219a_18.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;這篇文章記錄了&lt;a href="https://www.books.com.tw/products/0010647371"&gt;人類大歷史&lt;/a&gt;的作者，以色列歷史學家 &lt;a href="http://www.ynharari.com/"&gt;Yuval Noah Harari&lt;/a&gt; 最近在接受新書訪談：&lt;a href="https://www.books.com.tw/products/0010796370?loc=P_037_001"&gt; 21 世紀的 21 堂課&lt;/a&gt;的內容。&lt;/p&gt;
&lt;p&gt;你會說，為何在資料科學文摘裡頭包含了這篇文章？&lt;/p&gt;
&lt;p&gt;在這個一切以數據為本，「數據主義」超越「人文主義」的時代，身為一個 DS，我覺得除了注重數據分析的手法以外，作為一個有血有肉的「人」，也需要去了解數據、機器學習以及 AI 會對未來的我們以及下一代造成什麼樣的影響。這篇訪談中 Harari 用易懂的方式，以歷史學家的角度說明這件事情，值得一讀。以下是我閱讀後整理的摘要。&lt;/p&gt;
&lt;p&gt;21 世紀人類面臨的 3 個挑戰：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;核子戰爭&lt;/li&gt;
&lt;li&gt;氣候變遷&lt;/li&gt;
&lt;li&gt;科技破壞（Technological Disruption） &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這些挑戰最難的點在於，它們並不能只靠單一一個國家解決，而是要跨國合作。&lt;/p&gt;
&lt;p&gt;而前 2 個挑戰幾乎所有人都理解，因此或許不會發生，但最後一項挑戰（科技破壞）的影響卻不太明顯。&lt;/p&gt;
&lt;p&gt;未來的人工智慧（&lt;strong&gt;A&lt;/strong&gt;rtifical &lt;strong&gt;I&lt;/strong&gt;ntelligence, &lt;strong&gt;AI&lt;/strong&gt;）肯定會自動化掉更多人的「現有」工作。這些 AI 系統也將透過更多的 IoT 裝置來蒐集更多我們的資料（像是搜尋紀錄、身體資訊、情緒變化等），分析這些數據以後來幫我們自動做決策。&lt;/p&gt;
&lt;p&gt;這些系統甚至最後可能會告訴我們（現在已經有些系統號稱）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「透過大數據分析，我比你自己還懂你自己」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這就是所謂的「被駭人生」：這些利用機器學習或是人工智慧的系統能 hack 我們，透過大數據分析，在我們實際行動之前，就已經精準地預測，或者說是大幅度地直接影響我們內心、腦中的決策。你只要想像你現在在做大多數決策的時候，是比較常「聆聽自己內心的聲音」還是去「查看網站、服務、App 給你的個人推薦」就可以稍微了解這點了。&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;re becoming Hackable human.&lt;/p&gt;
&lt;p&gt;注意的是我們可不是在討論科幻小說，這邊的 AI 不會有情緒感情，只是有著龐大數據、運算能力以及複雜演算法的系統。&lt;/p&gt;
&lt;p&gt;如果我們是這些 AI 系統的主人，AI 是為我們每個人自己的利益來服務的話很好。但看看那些大量蒐集你的數據的科技公司：一個比較可能出現的未來是，少數菁英掌握了 AI 力量，而 AI 會為了他們的利益而服務。在這樣的情況下，大多數的人類都會成為不重要的存在，等著被機器取代（如果我們什麼都不做的話）。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;The most important fact anybody who is alive today needs to know about the 21 century is that we are becoming hackable animals ... If you can hack something, you can replace it.&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這不是在危言聳聽，而是在討論現在的科技發展趨勢之下，可能產生的一個未來。重點是我們在了解現況以後，打算怎麼改變未來。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;在找出解決方案之前，你得先了解有什麼問題。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;現在還在閱讀 21 世紀的 21 堂課，希望之後能再跟你分享一些我的讀後心得。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語_1"&gt;&lt;a name="ending"&gt;&lt;/a&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在這篇文摘裡頭，我們透過幾篇文章來了解以下幾個議題：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;數據科學家的一些工作準則&lt;/li&gt;
&lt;li&gt;最大化你的工作影響力並為專案分優先順序&lt;/li&gt;
&lt;li&gt;幾個儀表板設計的原則&lt;/li&gt;
&lt;li&gt;數據主義時代下的「被駭」人生&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因為本文篇幅有限，我只能跟你分享閱讀這些文章以後，自己覺得最精華的一小部分。&lt;/p&gt;
&lt;p&gt;閱讀這些文章讓我受益匪淺，因此我分享了自己的摘要，希望能幫助到沒有時間閱讀全部文章的你。儘管如此，我仍建議你從有興趣的議題開始閱讀原文或者相關文章以進一步學習。&lt;/p&gt;
&lt;p&gt;同時非常歡迎閱讀後跟我分享你的想法，或是提供一些你覺得有幫助的相關文獻，我會很感激。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;Remember we are what we read. Read those books or articles that will make you a better person ：）&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="文摘"></category><category term="資料科學"></category></entry><entry><title>給資料科學家的 Docker 指南：3 種活用 Docker 的方式（上）</title><link href="https://leemengtaiwan.github.io/3-ways-you-can-leverage-the-power-of-docker-in-data-science-part-1-learn-the-basic.html" rel="alternate"></link><published>2018-09-08T19:00:00+09:00</published><updated>2018-09-08T19:00:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-09-08:/3-ways-you-can-leverage-the-power-of-docker-in-data-science-part-1-learn-the-basic.html</id><summary type="html">&lt;p&gt;本系列文章將分上下篇，本篇將直觀解釋 Docker 概念，並說明資料科學家能如何利用 Docker 來改善自己的開發效率；下篇則將分享作者在實際從事資料科學家時，為了解決一些數據問題而時常碰到的 3 種 Docker 使用方式。在本篇中，我們首先將透過一些簡單的比喻來直觀地理解 Docker，並讓讀者在閱讀本文後能馬上開始利用 Docker 來加速自己的開發效率，並為下篇的進階內容打好基礎。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;今天我們來聊聊如何將 &lt;a href="https://zh.wikipedia.org/wiki/Docker_(%E8%BB%9F%E9%AB%94)" target="_blank"&gt;Docker&lt;/a&gt; 應用在資料科學領域裡頭吧！&lt;/p&gt;
&lt;p&gt;全文共分上下 2 篇。在這篇裡頭，我們將透過一些簡單的比喻來直觀地理解何謂 Docker，並讓你能在閱讀本文後馬上利用 Docker 來加速你的開發效率；在下篇的內容當中，我則會分享一個資料科學家（&lt;strong&gt;D&lt;/strong&gt;ata &lt;strong&gt;S&lt;/strong&gt;cientist：DS）為了解決一些數據問題而時常碰到的 3 種 Docker 使用方式。&lt;/p&gt;
&lt;p&gt;不管是哪一篇，我們都不會深入探討 Docker 本身是以什麼技術被實現的。反之，我們將會以 DS 的角度，專注在「應用」層面：如何把 Docker 實際應用在資料科學以及資料工程領域裡頭。&lt;/p&gt;
&lt;p&gt;這系列文章適合 2 種讀者：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;對 Docker 完全沒有概念，但想讓自己的 Workflow 更有效率的資料科學家&lt;/li&gt;
&lt;li&gt;熟悉 Docker，但好奇其在資料科學領域如何被應用的工程師&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;讓我們開始吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="雲端運算-&amp;amp;-Docker"&gt;雲端運算 &amp;amp; Docker&lt;a class="anchor-link" href="#雲端運算-&amp;amp;-Docker"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在解釋何謂 Docker 之前，讓我把你已經非常熟悉的雲端運算（Cloud Computing）老朋友叫出來。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://aws.amazon.com/tw/"&gt;Amazon Web Service（AWS）&lt;/a&gt;、&lt;a href="https://cloud.google.com/"&gt;Google 雲端平台（GCP）&lt;/a&gt; 以及 &lt;a href="https://azure.microsoft.com/zh-tw/"&gt;Microsoft Azure&lt;/a&gt; 大概是大家最耳熟能詳的幾家雲端計算 / 服務平台了。隨著時代的演進，這些平台提供越來越多樣的機器學習 API，讓開發人員不需做複雜的開發，透過一個 HTTP 要求就能直接使用各種酷炫的服務，比方說：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://aws.amazon.com/tw/lex/"&gt;Amazon Lex&lt;/a&gt; 讓你使用 Amazon Alexa 的深度學習技術建立聊天機器人&lt;/li&gt;
&lt;li&gt;&lt;a href="https://cloud.google.com/vision/"&gt;Google Cloud Vision API&lt;/a&gt; 讓你快速建立一個圖像辨識服務&lt;/li&gt;
&lt;li&gt;&lt;a href="https://azure.microsoft.com/zh-tw/services/cognitive-services/content-moderator/"&gt;Azure Content Moderate API&lt;/a&gt; 讓你自動審核網路上的圖片以及文字&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;儘管如此，很多時候只使用這些現成的 API 並不能滿足我們這些 DS 以及企業的野心。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/network-2402637_1280.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    比起使用現成 API，如何運用雲端運算來 scale 各種數據處理工作是一個 DS / DE 更常問的問題
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a name="three-tasks"&gt;&lt;/a&gt;除了直接用各家雲端平台提供的 API 以外，一個 DS 可能更常需要利用雲端上的計算資源來完成以下的工作：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;部署一些新的分析工具來嘗試提升自己及分析團隊的效率&lt;/li&gt;
&lt;li&gt;開發、訓練、部署並規模化（scale）自己的機器學習模型&lt;/li&gt;
&lt;li&gt;對大量數據做批次處理，將結果儲存後顯示在儀表板上&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;事實上，這就是本系列文章最想要跟你分享的 3 件 DS 可以活用 Docker 來最大化產出的案例。&lt;/p&gt;
&lt;p&gt;當我們透過這篇文章（上篇）熟悉了 Docker 的基本概念以及操作以後，就能在下篇裡頭深入地探討它們。因此在這篇先讓我們專注在學習 Docker 的基礎知識吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;雖然我們現在不會細談，但如果你再看一次上面的 3 個工作的話，會發現裡頭可不只包含資料科學（Data Science）。除了建置儀表板以及設計 ML 演算法以外，這裡頭還包含了不少軟體工程、資料工程甚至 &lt;a href="https://zh.wikipedia.org/wiki/DevOps"&gt;DevOps&lt;/a&gt; 成分。當然資料工程師（&lt;strong&gt;D&lt;/strong&gt;ata &lt;strong&gt;E&lt;/strong&gt;ngineer）很樂意幫助你，但如果你想要快速地自己兜出一些方法呢？你該用什麼工具？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/work-2005640_1280.jpg" style="width:90%"/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;你可能覺得一個 DS 要在各種 deadlines 內完成以上所有的事情是不可能的。不過後面我們會慢慢發現，活用 Docker 能讓這些工作變得簡單許多。&lt;/p&gt;
&lt;p&gt;接著就讓我們以 DS 的角度了解 Docker 到底是什麼技術。我相信閱讀接下來的文章，對你之後開發效率的提升是一個非常好的投資。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Docker：可愛的大鯨魚"&gt;Docker：可愛的大鯨魚&lt;a class="anchor-link" href="#Docker：可愛的大鯨魚"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;首先看看以下這張 Docker 示意圖：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/1_JAJ910fg52ODIRZjHXASBQ.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;有什麼感覺嗎？注意到上圖包含了 3 個要素：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;海洋&lt;/li&gt;
&lt;li&gt;鯨魚&lt;/li&gt;
&lt;li&gt;貨櫃&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;現在讓我們發揮點想像力。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如果你把雲端運算的平台想像成一個充滿運算資源的&lt;strong&gt;大海&lt;/strong&gt;的話，Docker 就是如圖中在裡頭悠遊的大&lt;strong&gt;鯨魚&lt;/strong&gt;。這隻&lt;strong&gt;鯨魚&lt;/strong&gt;將上述所有 DS 想要做的數據處理工作、執行的 App，一個個封裝成彼此獨立的&lt;strong&gt;貨櫃&lt;/strong&gt;，並載著它們在這大海上運行。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://towardsdatascience.com/how-docker-can-help-you-become-a-more-effective-data-scientist-7fc048ef91d5" target="_blank"&gt;Docker&lt;/a&gt; 提供的抽象化讓我們能輕鬆地運行任何想使用的資料科學工具、軟體而不需花費過多時間在建置底層環境。&lt;/p&gt;
&lt;p&gt;我知道你可能還是沒什麼感覺，讓我們看下去。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="鯨魚背上的貨櫃：Docker-容器"&gt;鯨魚背上的貨櫃：Docker 容器&lt;a class="anchor-link" href="#鯨魚背上的貨櫃：Docker-容器"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;實際上這一個個假想的貨櫃就代表著 Docker 術語裡頭的容器（Container）。&lt;/p&gt;
&lt;p&gt;「容器」顧名思義，是一個「容納」了某些東西的「器具」。&lt;/p&gt;
&lt;p&gt;一般而言，一個容器裡通常會包含了一個完整的 App。這邊的 App 不是手機上的 App，而是指廣義的應用程式（&lt;strong&gt;App&lt;/strong&gt;lication）。&lt;/p&gt;
&lt;p&gt;DS 常用的 App 可以是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一個包含 &lt;a href="https://www.tensorflow.org/"&gt;TensorFlow&lt;/a&gt; 函式庫的 &lt;a href="http://jupyter.org/"&gt;Jupyter Notebook 伺服器&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;一個 ML 產品，如透過已訓練的模型來判斷圖片裡頭有沒有貓咪的 &lt;a href="https://github.com/leemengtaiwan/cat-recognition-app"&gt;Flask App&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;一個 SQL 查詢以及資料視覺化的工具，如 &lt;a href="https://github.com/apache/incubator-superset"&gt;Superset&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;一個簡單的 Python Script，針對輸入的大量數據做處理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;要從頭建構這些 App 的環境不是不可能，但除了基本的 &lt;code&gt;pip install&lt;/code&gt; 以外你還需要花不少工夫；更令人困擾的是，很多時候你在 Mac、Windows 上安裝環境的步驟，到了雲端上的 Linux 機器上就完全行不通了。&lt;/p&gt;
&lt;p&gt;如果這時候有人先幫我們把一個在哪邊都能跑的 App 環境建好，我們不是就能馬上開始使用各種分析工具，進行各種有趣的分析，而不用煩惱底層如不同 OS 的差異了嗎？&lt;/p&gt;
&lt;p&gt;Docker 的容器就是這樣的一個概念，幫你事先將一個 App 所需要的所有環境，包含作業系統都「容納」在一起。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/docker-inside-container.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://stackoverflow.com/a/50489813/2447655" target="_blank"&gt;Docker&lt;/a&gt; 將一個 App 會使用到的程式語言函式庫（JAVA、Python、R）、資料庫、甚至作業系統（OS）都包在一個自給自足的容器（CONTAINER）裡頭。想使用某個 App 的 DS 不用從頭建置環境，只需利用 Docker 啟動該容器即可開始工作
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;容器裡頭不只包含 App 自己本身的程式碼，也涵蓋了所有能讓這個 App 順利執行的必要環境：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;App 需要的各種 Python 函式庫，如特定版本的 TensorFlow、Pandas 及 Jupyter Notebook&lt;/li&gt;
&lt;li&gt;MySQL、MongoDB 等 App 會用到的資料庫&lt;/li&gt;
&lt;li&gt;App 會用到的各種 metadata、資料集&lt;/li&gt;
&lt;li&gt;各種 OS 限定的驅動程式（drivers）、依賴函式庫&lt;/li&gt;
&lt;li&gt;（把所有你想得到的東西填進來）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;包羅萬象。&lt;/p&gt;
&lt;p&gt;因此只要我們能利用 Docker 把一個 App 需要執行的環境全部包在一個容器裡頭，我們就能在任何有 Docker 的地方啟動並運行該容器。不再需要每次重新建置環境，也不用考慮不同機器上的安裝問題。&lt;/p&gt;
&lt;p&gt;而這正是 Docker 最強大的地方：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;Docker - Build, Ship, and Run Any App, Anywhere&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;因為連 OS 都被包起來了，實際上每個容器（container）的執行環境都是自給自足的（self-contained）。&lt;/p&gt;
&lt;p&gt;你可以把它想像成非常輕量的&lt;a href="https://zh.wikipedia.org/wiki/%E8%99%9B%E6%93%AC%E6%A9%9F%E5%99%A8"&gt;虛擬機器&lt;/a&gt;，其執行結果不會因為啟動該容器的「計算環境」不同而受到影響，在任何地方（Anywhere）都能順利被執行，且執行的結果都是一樣的。&lt;/p&gt;
&lt;p&gt;以我們前面的比喻來說的話，每個貨櫃（容器 / App）都是我們想要 Docker 幫我們運送（執行）的東西，而不管 Docker 這隻鯨魚（或大船）現在在哪個海洋（計算環境）裡頭，它都能使命必達。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/container-on-the-sea.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://flipboard.com/topic/container" target="_blank"&gt;Docker&lt;/a&gt; 就像艘大船，幫我們在任何海洋（計算環境）上運送我們的貨櫃（容器）
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;有一點值得澄清的是，就算 Docker 幫我們抽象化建置一個 App 環境的工作，在執行一個容器的時候，我們還是需要實際的計算資源來跑這些容器。&lt;/p&gt;
&lt;p&gt;因此前面所謂的「計算環境」指的是一個擁有計算資源（CPU、GPU、記憶體 etc）且我們實際運行 Docker 的地方。這計算環境可以是任何一家雲端服務平台上的機器，如 AWS 的某台 &lt;a href="https://aws.amazon.com/tw/ec2/"&gt;EC2 機器&lt;/a&gt;、&lt;a href="https://cloud.google.com/kubernetes-engine/"&gt;GCP&lt;/a&gt; 上一個包含數千台機器的群集（Cluster），或是你現在用來看本文的筆電。只要 Docker 能在該計算環境下運行，它就能幫我們在該環境「之上」執行任何容器。&lt;/p&gt;
&lt;p&gt;簡單來說：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;Docker 幫我們抽象化在任何 OS 上建置環境的工作。只要給 Docker 一個容器，它就能在任何地方啟動該容器以供你使用。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;現在你對 Docker 以及容器概念有個高層次的理解了，讓我們來看看這些 Docker 容器實際上是怎麼來的吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="貨櫃（Docker-容器）從哪來"&gt;貨櫃（Docker 容器）從哪來&lt;a class="anchor-link" href="#貨櫃（Docker-容器）從哪來"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在了解 Docker 這隻大鯨魚能幫我們運行任意的容器 / App 以後，你腦中浮現的第一個問題應該是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;這些容器（貨櫃）最初是怎麼被產生的？&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;非常好的一個問題。&lt;/p&gt;
&lt;p&gt;事實上，要產生一個新的 Docker 容器，Docker 需要一份「環境安裝步驟書」來讓它幫我們自動地建置容器內的環境，比方說使用什麼 OS，用什麼版本的 TensorFlow 等等。這份步驟書在 Docker 的世界裡被稱作 &lt;a href="https://docs.docker.com/engine/reference/builder/"&gt;Dockerfile&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;舉個例子，以下是 Tensorflow 官方釋出的一個 &lt;a href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/tools/docker/Dockerfile"&gt;Dockerfile&lt;/a&gt;（截錄重要部分）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; ubuntu:16.04&lt;/span&gt;

...

&lt;span class="k"&gt;RUN&lt;/span&gt; pip --no-cache-dir install &lt;span class="se"&gt;\&lt;/span&gt;
        ipykernel &lt;span class="se"&gt;\&lt;/span&gt;
        jupyter &lt;span class="se"&gt;\&lt;/span&gt;
        numpy &lt;span class="se"&gt;\&lt;/span&gt;
        pandas &lt;span class="se"&gt;\&lt;/span&gt;
        sklearn &lt;span class="se"&gt;\&lt;/span&gt;
        &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    python -m ipykernel.kernelspec

...

&lt;span class="c"&gt;# Install TensorFlow CPU version from central repo&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; pip --no-cache-dir install &lt;span class="se"&gt;\&lt;/span&gt;
    http://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.0.0-cp27-none-linux_x86_64.whl

...

&lt;span class="k"&gt;CMD&lt;/span&gt;&lt;span class="s"&gt; ["/run_jupyter.sh", "--allow-root"]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;除了 &lt;code&gt;RUN&lt;/code&gt;、&lt;code&gt;CMD&lt;/code&gt; 等 Docker 專屬的關鍵字以後，你會發現這份 Dockfile 裡頭的指令其實跟你平常在本地開發時也會使用的指令如 &lt;code&gt;pip install&lt;/code&gt; 沒有相差太多。差別在於透過第一行的 &lt;code&gt;FROM ubuntu:16.04&lt;/code&gt; 指令，我們要求 Docker 在這個容器裡頭建置一個 Ubuntu OS 後，在其之上安裝這些函式庫。&lt;/p&gt;
&lt;h2 id="追求規模性：Docker-映像檔的誕生"&gt;追求規模性：Docker 映像檔的誕生&lt;a class="anchor-link" href="#追求規模性：Docker-映像檔的誕生"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;聽完以上的解釋，你可能會覺得在我們每次要啟動一個新的容器的時候，Docker 就得拿出 Dockerfile，一步步建置該容器的環境。&lt;/p&gt;
&lt;p&gt;這樣的實作也不是不行，但很沒有效率。為什麼？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/thought-2123970_1280.jpg" style="width:90%"/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中一個考量是可擴展性（Scalability）。&lt;/p&gt;
&lt;p&gt;有時你會想要用同一份 Dockerfile 在短時間內迅速地產生好幾個一模一樣的容器(s)：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用多個相同的機器學習模型，同時對大量的新數據做批次預測&lt;/li&gt;
&lt;li&gt;使用多個相同的 Python Script 來處理大量數據&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這時候與其在每次要啟動新的容器時才拿出 Dockerfile 建置環境，Docker 可以事先用這個 Dockerfile 把建置環境所需的步驟先做好一遍，然後把該環境「拍張照」，存成一個 Docker 映像檔（image）後等待之後的使用。&lt;/p&gt;
&lt;p&gt;等你決定要開始使用容器的時候，因為我們已經有一個環境的快照（Snapshot），Docker 就能利用該映像檔，快速地啟動 1 個（或 100 個）相同的容器給你。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/docker-three-basic-elements.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://medium.com/platformer-blog/practical-guide-on-writing-a-dockerfile-for-your-application-89376f88b3b5" target="_blank"&gt;Docker 三元素&lt;/a&gt;： Dockerfile、Docker 映像檔以及 Docker 容器
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;到了這邊，我們已經了解 Docker 最基本也是最重要的概念：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;Docker 利用 Dockerfile 預先建置好一個 Docker 映像檔。在使用者想要使用容器的時候，以該映像檔為基礎，運行一個對應的 Docker 容器&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;坐而言不如起而行。&lt;/p&gt;
&lt;p&gt;在掌握了這些概念以後，我相信你也迫不及待地想要開始使用 Docker 了，接下來就讓我們實際操作 Docker 來體會一下它的威力。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Docker-映像檔：法式千層酥"&gt;Docker 映像檔：法式千層酥&lt;a class="anchor-link" href="#Docker-映像檔：法式千層酥"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;不管是 Windows 或是 Mac 用戶，你都可以很輕鬆地在&lt;a href="https://www.docker.com/get-started"&gt;官方網站&lt;/a&gt;下載 Docker 並安裝。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;a href="https://www.docker.com/get-started" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/website.png" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;下載完以後啟動 Docker，大鯨魚就會在你的筆電上開始閒晃，等待你的指示。一般而言，我們會在 terminal 使用各種 &lt;code&gt;docker&lt;/code&gt; 指令來跟大鯨魚溝通。&lt;/p&gt;
&lt;p&gt;當 Docker 就緒以後，依照我們前面的所學，你會需要一個 Dockerfile 或是 Docker 映像檔來產生一個 Docker 容器。就像 &lt;a href="https://github.com/"&gt;Github&lt;/a&gt; 是一個被大家拿來分享程式碼的地方，&lt;a href="https://hub.docker.com/"&gt;Dockerhub&lt;/a&gt; 則被用來分享 Dockerfile 以及 Docker 映像檔。&lt;/p&gt;
&lt;p&gt;假設我們現在要開始一個新的 TensorFlow 專案，並且想透過 Jupyter Notebook 進行開發，最省力的方式就是從 Dockerhub 下載一個 &lt;a href="https://hub.docker.com/r/tensorflow/tensorflow/"&gt;TensorFlow 官方&lt;/a&gt;幫我們弄好的 Docker 映像檔。&lt;/p&gt;
&lt;p&gt;讓我們打開一個 terminal 並輸入 &lt;code&gt;docker pull&lt;/code&gt; 指令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker pull tensorflow/tensorflow
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;第 1 個 &lt;code&gt;tensorflow&lt;/code&gt; 代表 Tensorflow 的官方 Dockerhub repository，就跟 Github repository 的概念相同；第 2 個則是容器名稱。&lt;/p&gt;
&lt;p&gt;你會看到當 Docker 在下載映像檔的時候，同時也在建置環境，而其環境會分成一層一層（Layer）的：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ docker pull tensorflow/tensorflow
Using default tag: latest
latest: Pulling from tensorflow/tensorflow
3b37166ec614: Already exists
ba077e1ddb3a: Already exists
34c83d2bc656: Already exists
84b69b6e4743: Already exists
0f72e97e1f61: Already exists
6086c6484ab2: Pull &lt;span class="nb"&gt;complete&lt;/span&gt;
25817b9e5842: Pull &lt;span class="nb"&gt;complete&lt;/span&gt;
5252e5633f1c: Pull &lt;span class="nb"&gt;complete&lt;/span&gt;
8de57ae4ad7d: Pull &lt;span class="nb"&gt;complete&lt;/span&gt;
4b7717108c3b: Pull &lt;span class="nb"&gt;complete&lt;/span&gt;
b65e9e47e80a: Pull &lt;span class="nb"&gt;complete&lt;/span&gt;
006d31e013ea: Pull &lt;span class="nb"&gt;complete&lt;/span&gt;
700521cc53f3: Pull &lt;span class="nb"&gt;complete&lt;/span&gt;
Digest: sha256:f45d87bd473bf999241afe444748a2d3a9be24f8d736a808277b4f3e32159566
Status: Downloaded newer image &lt;span class="k"&gt;for&lt;/span&gt; tensorflow/tensorflow:latest
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;我們不會細談 Docker 實作細節，但你可以想像 Docker 映像檔是一個法式千層酥（Mille Feuille）。&lt;/p&gt;
&lt;p&gt;這時候的 Docker 是一名蛋糕師傅，利用 Dockerfile 作為食譜，逐行執行裡頭的指令以建立一層層的環境。每做出一層新的環境，就把它加在目前所有環境的上面，最後成為一個 Docker 映像檔。&lt;/p&gt;
&lt;p&gt;這樣做有 2 個好處：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;當你對 Dockerfile 做變動的時候，Docker 可以只針對被改變的那一層環境做修改，而不用重建每一層，減少建置環境所需要的時間&lt;/li&gt;
&lt;li&gt;有利用到一樣環境的不同映像檔可以分享部分結果（如上面的 &lt;code&gt;Already exists&lt;/code&gt;）&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/mille_feuille.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    一個 Docker 映像檔就像是蛋糕師傅利用 Dockerfile 食譜做出來的法式千層酥
    &lt;br/&gt;
    （誠摯地希望你不是晚上看本文，餓了）
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;依照你的網路速度，下載映像檔所需的時間可能有所不同。&lt;/p&gt;
&lt;p&gt;在下載完成以後，輸入 &lt;code&gt;docker images&lt;/code&gt; 指令可以顯示所有目前本地端擁有的 Docker 映像檔：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ docker images tensorflow/tensorflow
REPOSITORY              TAG                 IMAGE ID            CREATED             SIZE
tensorflow/tensorflow   latest              76fb62c3cb89        &lt;span class="m"&gt;2&lt;/span&gt; weeks ago         &lt;span class="m"&gt;1&lt;/span&gt;.23GB
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;這邊因為我的環境裡已經有一大堆的映像檔，我在 &lt;code&gt;docker images&lt;/code&gt; 後面加入額外的篩選器來告訴 Docker 只顯示 &lt;code&gt;tensorflow&lt;/code&gt; repository 裡頭的 &lt;code&gt;tensorflow&lt;/code&gt; 容器。&lt;/p&gt;
&lt;p&gt;有了映像檔以後，最令人期待的時刻終於來臨了！&lt;/p&gt;
&lt;p&gt;我們現在要呼叫 Docker 幫我們從這個映像檔產生並執行（run）一個新的 Docker 容器：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run -it -p &lt;span class="m"&gt;1234&lt;/span&gt;:8888 tensorflow/tensorflow
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;短短一行指令，包含了 3 個你不可不知的重要概念：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;利用 &lt;code&gt;docker run&lt;/code&gt; 來告訴 Docker 我們要利用 &lt;code&gt;tensorflow/tensorflow&lt;/code&gt; 映像檔來運行一個容器。實際上 Docker 容器就是在 Docker 映像檔的環境之上再加 1 層可執行的環境供你使用（貫徹千層酥的理念） &lt;/li&gt;
&lt;li&gt;利用 &lt;code&gt;-it&lt;/code&gt; 參數來告訴 Docker 我們同時要建立一個互動式的 TTY 連線，讓容器內的結果直接顯示在我們的 terminal 裡頭，彷彿我們在本地環境下執行該 App 一樣。我們之後還可以直接在 terminal 使用 Ctrl + C 或 Command + C 來終止容器&lt;/li&gt;
&lt;li&gt;利用 &lt;code&gt;-p 1234:8888&lt;/code&gt; 告訴 Docker 我們將會透過本地端的 &lt;code&gt;1234&lt;/code&gt; port 來連到容器裡頭的 &lt;code&gt;8888&lt;/code&gt; port&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;你可以透過&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker run --help
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;來查看所有 &lt;code&gt;docker run&lt;/code&gt; 可以使用的參數。&lt;/p&gt;
&lt;p&gt;另外，一個 DS 應該都知道，&lt;code&gt;8888&lt;/code&gt; 是 Jupyter Notebook 預設的 port。因此我們的企圖就跟司馬昭之心一樣，打算透過本地端的 &lt;code&gt;1234&lt;/code&gt; port 連到在容器裡頭跑的 Jupyter Notebook。&lt;/p&gt;
&lt;p&gt;現在打開你的瀏覽器並輸入 &lt;code&gt;localhost:1234&lt;/code&gt;，應該就能連到容器內部的 Jupyter Notebook 伺服器：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/tensorflow-notebook.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    容器內的 Juypter Notebook 畫面，所有環境包含 TensorFlow 都已經幫你設置好
    &lt;br/&gt;
    （輸入你在啟動容器的 terminal 裡看到的 token 就能通過認證）
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;對你沒看錯，你已經用 Docker 建置了一個完整的資料科學環境，裡頭有 TensorFlow 以及 Jupyter Notebook。&lt;/p&gt;
&lt;p&gt;而你只需要 2 個指令：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;docker pull tensorflow/tensorflow&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;docker run -it -p 1234:8888 tensorflow/tensorflow&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;建置環境什麼的交給 Docker 吧，你已經能馬上開始實作機器學習模型了。&lt;/p&gt;
&lt;p&gt;有些 DS 可能會覺得他的 &lt;a href="https://anaconda.org/"&gt;Anaconda&lt;/a&gt; 或者是 pip 功能爐火純青，不需要用到 Docker 也能自己在本地建出這樣的環境。其實沒錯，如果你只是開發個人專案，說真的不學 Docker 也沒關係（喂！）&lt;/p&gt;
&lt;p&gt;但就如我們在下篇會看到的，當你在開發企業等級的數據處理工作、機器學習模型的時候，你可不能永遠躲在你的本地環境裡頭。當你習慣於在不透過 Docker 的情況下在本機建置環境，等到要在各種雲端平台上的機器重現你的結果的時候，你就會發現不妙了。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="利用-Docker-分享你的成果"&gt;利用 Docker 分享你的成果&lt;a class="anchor-link" href="#利用-Docker-分享你的成果"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;為了加強你使用 Docker 的動機，讓我再給個例子。&lt;/p&gt;
&lt;p&gt;有持續關注我文章的讀者會發現，我在&lt;a href="https://leemengtaiwan.github.io/data-science-digest-volume-3.html"&gt;資料科學文摘 Vol.3 Pandas、Docker 以及數據時代的反思&lt;/a&gt;裡頭有提到，Docker 除了讓我們免除建置環境的痛苦以外，也能讓我們與他人簡單地分享開發結果。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/leemengtaiwan/cat-recognition-app"&gt;Cat Recognizer&lt;/a&gt; 是我用 TensorFlow 以及 &lt;a href="http://flask.pocoo.org/"&gt;Flask&lt;/a&gt; 實作的一個非常 naive 的貓咪辨識 App。&lt;/p&gt;
&lt;p&gt;如同我們前面所說的，我事先將所有此 App 需要的環境用一個 &lt;a href="https://github.com/leemengtaiwan/cat-recognition-app/blob/master/Dockerfile"&gt;Dockerfile&lt;/a&gt; 定義、全部包在一個 Docker 映像檔後分享在 &lt;a href="https://hub.docker.com/r/leemeng/"&gt;Docker Hub&lt;/a&gt; 上面。&lt;/p&gt;
&lt;p&gt;任何想要使用此 App 的人，只需要利用 Docker 輸入兩行指令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker pull leemeng/cat
docker run -it -p &lt;span class="m"&gt;2468&lt;/span&gt;:5000 leemeng/cat
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;接著他們就能在瀏覽器輸入 &lt;code&gt;localhost:2468&lt;/code&gt; 來看到我的 App：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/cat-demo.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    Docker 讓你與其他人分享成果，不須額外做一大堆環境設定
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;當然這個 ML App 在預測能力以及 UI 上都不完美，但這邊重點是你能利用 Docker 與他人快速地分享成果。如果你有想到其他利用 Docker 封裝好的 ML App 例子（或者是你接下來打算做一個自己的），非常歡迎留言讓我知道它們的存在：）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="總結"&gt;總結&lt;a class="anchor-link" href="#總結"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;呼！看完本文以後，相信你現在應該對 Docker 有個非常清楚的認識了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Docker 是一個能幫我們在各種不同 OS 上建置開發環境的工具&lt;/li&gt;
&lt;li&gt;Docker 三元素包含 Dockerfile、Docker 映像檔（Image）以及 Docker 容器（Container）&lt;/li&gt;
&lt;li&gt;Docker 利用 Dockerfile 預先建置好一個 Docker 映像檔。在使用者想要使用容器的時候，以該映像檔為基礎，運行一個對應的 Docker 容器&lt;/li&gt;
&lt;li&gt;Docker Hub 上有各式各樣可以直接供使用的映像檔&lt;/li&gt;
&lt;li&gt;你只需要 &lt;code&gt;docker pull&lt;/code&gt; 及 &lt;code&gt;docker run&lt;/code&gt; 就能開始一個分析專案&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;給自己鼓鼓掌！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/docker/1_JAJ910fg52ODIRZjHXASBQ.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    現在這張 Docker 的示意圖在你眼裡應該變得平易近人許多
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;正因為我們是資料科學家，利用 Docker能幫我們抽象化很多不必要的環境建置工作，加速我們的開發效率。&lt;/p&gt;
&lt;p&gt;在本系列文章的下篇出爐之前，我鼓勵你先&lt;a href="https://www.docker.com/get-started"&gt;下載 Docker&lt;/a&gt;，並開始在 &lt;a href="https://hub.docker.com/"&gt;Docker Hub&lt;/a&gt; 或者 Google 搜尋一些你感興趣的映像檔，甚至自己寫一個 Dockerfile 將你目前的專案打包起來跟別人分享。&lt;/p&gt;
&lt;p&gt;雖然我們這篇因為篇幅關係沒有細講，但只要有一個 Dockerfile，你就能使用 &lt;code&gt;docker build&lt;/code&gt; 來輕鬆建立一個自給自足的 Docker 映像檔。一個 Dockerfile 也不難寫，像是上面貓咪的 App 的 Dockerfile 也不過就如此幾行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="s"&gt; python:3.6.3&lt;/span&gt;
&lt;span class="k"&gt;MAINTAINER&lt;/span&gt;&lt;span class="s"&gt; Meng Lee "b98705001@gmail.com"&lt;/span&gt;
COPY ./requirements.txt /app/requirements.txt
&lt;span class="k"&gt;WORKDIR&lt;/span&gt;&lt;span class="s"&gt; /app&lt;/span&gt;
&lt;span class="k"&gt;RUN&lt;/span&gt; pip install -r requirements.txt
COPY . /app
&lt;span class="k"&gt;ENTRYPOINT&lt;/span&gt;&lt;span class="s"&gt; [ "python3" ]&lt;/span&gt;
&lt;span class="k"&gt;CMD&lt;/span&gt;&lt;span class="s"&gt; ["app.py"]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在本篇裡頭我們都是在自己的機器上使用 Docker。在下篇，我們將利用本篇學到的 Docker 知識，將其運用在浩瀚無垠的雲端平台之上，去最大化我們的影響力。&lt;/p&gt;
&lt;p&gt;在那之前你可以先熟悉熟悉 Docker，下次遇到你的 DS 同事時，可以問問他/她：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;嘿！你的 Docker Image 呢？&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="資料科學"></category><category term="Docker"></category></entry><entry><title>資料科學文摘 Vol.4 數據科學 MMORPG 上線！你，選好自己的角色了嗎？</title><link href="https://leemengtaiwan.github.io/data-science-digest-volume-4-choose-your-own-character-in-data-science-role-play-game.html" rel="alternate"></link><published>2018-08-29T00:30:00+09:00</published><updated>2018-08-29T00:30:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-08-29:/data-science-digest-volume-4-choose-your-own-character-in-data-science-role-play-game.html</id><summary type="html">&lt;p&gt;這篇文摘透過多篇跟資料科學家相關的文章，闡述資料科學家這個職業近年可能產生，或者是已經正在發生的一些職涯趨勢。透過掌握大局觀，讓對資料科學領域感興趣的讀者能夠理性地思考自己未來如何進入這塊領域，並在符合自己興趣以及能力的情況下，發揮自己最大的價值。我們將探討在這個什麼職業都跟數據扯上關係的年代，你要如何在「全球數據科學 MMORPG」裡頭，找出自己的定位以及角色。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如同以往，這篇文摘會介紹幾篇最近作者閱讀的文章以及其摘要。&lt;/p&gt;
&lt;p&gt;不過這次在條列式列出文章以前，我想先跟你分享身為一個資料科學家（&lt;strong&gt;D&lt;/strong&gt;ata &lt;strong&gt;S&lt;/strong&gt;cientist，DS），我在閱讀這些文章後得到的一些想法。&lt;/p&gt;
&lt;p&gt;與其說是想法，應該說是「針對資料科學家這個職業，自己感受到的一些發展趨勢以及對這個職業接下來數年的職涯預測」。對於那些只有 3 分鐘可以閱讀此文的你，這些想法可以歸納成以下幾點：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;資料科學家未來將能花更多時間在從事「更高層次」的工作，但同時也需具備更專業的能力&lt;/li&gt;
&lt;li&gt;學習程式語言及分析工具很重要，但是對資料科學家來說，溝通能力以及領域專業順位第一&lt;/li&gt;
&lt;li&gt;資料科學家這個職業終將式微或消失，不只 IT 產業，未來（現在）各行各業都會有善用數據的人才&lt;/li&gt;
&lt;li&gt;跟資料科學領域相關的工作會依照專業越分越細，最終成為各式各樣的數據職業&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/diablo-3-characters.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    如同&lt;a href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E5%9E%8B%E5%A4%9A%E4%BA%BA%E5%9C%A8%E7%BA%BF%E8%A7%92%E8%89%B2%E6%89%AE%E6%BC%94%E6%B8%B8%E6%88%8F" target="_blacnk"&gt;大型多人線上角色扮演遊戲（MMORPG）一般&lt;/a&gt;，在後數據時代，萬能、什麼數據工作都會的「資料科學家」這個幻想已在式微。取而代之的是各個對相關領域專精的「數據」職業角色們：商業分析師、資料工程師、機器學習工程師、AI 研究者等（圖為&lt;a href="https://tw.diablo3.com/zh/" target="_blacnk"&gt;線上遊戲：暗黑破壞神 3 &lt;/a&gt;的角色一覽）
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;接下來我將會列出本週的閱讀清單，並在簡單說明各篇摘要的同時，一一描述它們是如何跟上述幾點概念互相呼應。最重要的，我們將探討在這個什麼職業都跟數據扯上關係的年代，你要如何在「全球數據科學 MMORPG」裡頭，找出自己的定位以及角色。&lt;/p&gt;
&lt;p&gt;這篇文章適合對資料科學領域有興趣，或是未來想從事數據相關工作的你。放心，以文章長度來說，保證比上一篇文章：「&lt;a href="https://leemengtaiwan.github.io/a-story-about-airflow-and-data-engineering-using-how-to-use-python-to-catch-up-with-latest-comics-as-an-example.html"&gt;一段 Airflow 與資料工程的故事：談如何用 Python 追漫畫連載&lt;/a&gt;」要來得平易近人許多。&lt;/p&gt;
&lt;p&gt;讓我們開始本週的閱讀之旅吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="本週閱讀清單"&gt;本週閱讀清單&lt;a class="anchor-link" href="#本週閱讀清單"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#One-Data-Science-Job-Doesn&amp;rsquo;t-Fit-All"&gt;One Data Science Job Doesn&amp;rsquo;t Fit All&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#The-Death-of-the-Data-Scientist"&gt;The Death of the Data Scientist&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#How-to-be-a-bad-data-scientist!"&gt;How to be a bad data scientist!&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Beyond-Interactive:-Notebook-Innovation-at-Netflix"&gt;Beyond Interactive: Notebook Innovation at Netflix&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#What-Data-Scientists-Really-Do,-According-to-35-Data-Scientists"&gt;What Data Scientists Really Do, According to 35 Data Scientists&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如同以往的&lt;a href="https://leemengtaiwan.github.io/tag/wen-zhai.html"&gt;文摘&lt;/a&gt;，你可以從任意一篇開始看我寫的摘要。不過建議先把所有標題掃過一遍，感受一下我們接下來要談的話題。&lt;/p&gt;
&lt;p&gt;另外如果真的很趕時間，可以直接&lt;a href="#ending"&gt;跳到文章最後&lt;/a&gt;看我給你的建議。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="One-Data-Science-Job-Doesn&amp;rsquo;t-Fit-All"&gt;&lt;a href="https://www.linkedin.com/pulse/one-data-science-job-doesnt-fit-all-elena-grewal/"&gt;One Data Science Job Doesn&amp;rsquo;t Fit All&lt;/a&gt;&lt;a class="anchor-link" href="#One-Data-Science-Job-Doesn&amp;rsquo;t-Fit-All"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;center&gt;
&lt;a href="https://www.linkedin.com/pulse/one-data-science-job-doesnt-fit-all-elena-grewal/" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/one-data-science-job.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;在這篇文章中，Airbnb 解釋他們如何在經過多年發展資料科學以後，將資料科學家分為三個路線（Tracks）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;分析路線（Analytics）&lt;/li&gt;
&lt;li&gt;演算法路線（Algorithms）&lt;/li&gt;
&lt;li&gt;推論路線（Inference） &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;會這樣做的其中一個很大原因是因為「資料科學」包含的領域太廣，不像這樣細分的話，第一，DS 們不知道自己該注重在什麼方面的知識；第二，公司內部跟某個 DS 合作的團隊也不知道他的專精以及該怎麼期待他的能力。&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/airbnb-data-roles.png" style="width:90%"/&gt;
&lt;p&gt;Airbnb 經過多年經驗，將資料科學家細分為三個路線，主要就是為了讓每個 DS 能專注在對的地方&lt;/p&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;其實想想很自然。就像是現在我們很習慣將工程師粗淺地分為前端（Frontend）和後端（Backend），未來的資料科學家也有很大機會依照個人的專精以及企業需求來細分路線。要不現在你想知道一家公司對 DS 的定義，還得親自去問裡頭的資料科學家到底在做什麼，且十家公司的 DS 可能會給你 9 種答案。&lt;/p&gt;
&lt;p&gt;理想上一個資料科學家是通才（Generalist），三個路線的專業都大致了解。儘管如此，學海無涯。一個建議是至少找出哪個路線你有興趣，去專精它，並尋找渴望你專業的企業。&lt;/p&gt;
&lt;p&gt;這呼應到我們最前面提到的第 4 項趨勢（也是最重要的一項）：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;跟資料科學領域相關的工作會依照專業越分越細，最終成為各式各樣的數據職業&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;將這些路線想像成角色扮演遊戲（RPG）中的角色就對了！順帶一提，作者自己想專注在演算法路線，輔修分析路線，你呢？&lt;/p&gt;
&lt;p&gt;另外這篇沒提到跟資料科學密切相關的資料工程（Data Engineering），個人臆測是因為 Airbnb 的資料平台本身建得夠齊全，有很專業的資料工程師在幫 DS 完成這些事情。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="The-Death-of-the-Data-Scientist"&gt;&lt;a href="https://www.datasciencecentral.com/profiles/blogs/the-death-of-the-data-scientist"&gt;The Death of the Data Scientist&lt;/a&gt;&lt;a class="anchor-link" href="#The-Death-of-the-Data-Scientist"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;center&gt;
&lt;a href="https://www.datasciencecentral.com/profiles/blogs/the-death-of-the-data-scientist" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/Dinosaur.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;「資料科學家的滅亡」。&lt;/p&gt;
&lt;p&gt;非常聳動的標題，而且你可以從封面圖片看出作者想要表達 DS 會像恐龍一樣滅絕。&lt;/p&gt;
&lt;p&gt;不過基本上我是認同的。&lt;/p&gt;
&lt;p&gt;不是說 DS 不再重要，而是再過幾年，就像當年的「大數據」風潮，各企業或許不會再像現在一窩蜂地招聘大量的「資料科學家」，而是各行各業的每個人都能很自然地將資料科學應用在自己的工作裡頭。
如同我們在&lt;a href="https://leemengtaiwan.github.io/demystify-the-hype-of-data-science-and-its-value.html#%E5%85%85%E5%AF%A6%E4%BD%A0%E7%9A%84%E8%B3%87%E6%96%99%E7%A7%91%E5%AD%B8%E5%8A%9B"&gt;揭開資料科學的神秘面紗&lt;/a&gt;一文提到的一樣，在數據驅動的時代之下，培養「資料科學力」將不再只是資料科學家的專利；就算你不是資料科學家，也應該加入這個行業。&lt;/p&gt;
&lt;p&gt;這呼應到我們最前面提到的第 3 個趨勢：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;資料科學家這個職業終將式微或消失，不只 IT 產業，未來（現在）各行各業都會有善用數據的人才&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="How-to-be-a-bad-data-scientist!"&gt;&lt;a href="https://towardsdatascience.com/how-to-be-a-bad-data-scientist-434dfb5a209c"&gt;How to be a bad data scientist!&lt;/a&gt;&lt;a class="anchor-link" href="#How-to-be-a-bad-data-scientist!"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;center&gt;
&lt;a href="https://towardsdatascience.com/how-to-be-a-bad-data-scientist-434dfb5a209c" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/1_IDUj1IN8ZvQo2ZO0Fx68pA.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;這篇說明了一般人在學習資料科學時會有的一些錯誤思維，我們應該隨時警惕自己並改善學習態度。&lt;/p&gt;
&lt;p&gt;我自己歸納一下新手 DS 常會遇到的迷思或困境：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;缺乏持續學習的動力：剛開始你可能因為資料科學很夯，薪水很高決定成為一個 DS。但資料科學領域的最大特色是變動很快。缺乏熱情或是單純跟隨潮流的人，如果沒有持續學習的動力可能會中途開始懷疑人生&lt;/li&gt;
&lt;li&gt;誤以為了解全世界：上了幾門線上課程或是參加過 Kaggle 競賽，利用乾淨的資料在 Jupyter Notebook 上建立一個 XGboost 模型就誤以為掌握了所有的資料科學。事實上，業界的 DS 需要做更多事情，如清理資料、建立可靠的資料管道以及與其他部門溝通協調等等。雖然本文沒辦法教你怎麼做良好溝通，想多了解資料工程的話可以參考&lt;a href="https://leemengtaiwan.github.io/why-you-need-to-learn-data-engineering-as-a-data-scientist.html"&gt;資料科學家為何需要了解資料工程&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;為了學而學，沒有思考如何應用所學：這點甚至稍微資深的 DS 都會遺忘。你最少要嘗試將平常閱讀的文章、學到的分析手法應用在解決工作上的問題。甚至更好的是，改善自己或者周遭人們的問題&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這篇並不直接跟本篇主題相關，不過值得 DS 們參考。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Beyond-Interactive:-Notebook-Innovation-at-Netflix"&gt;&lt;a href="https://medium.com/netflix-techblog/notebook-innovation-591ee3221233"&gt;Beyond Interactive: Notebook Innovation at Netflix&lt;/a&gt;&lt;a class="anchor-link" href="#Beyond-Interactive:-Notebook-Innovation-at-Netflix"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;center&gt;
&lt;a href="https://medium.com/netflix-techblog/notebook-innovation-591ee3221233" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/neflix-notebook.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;平常有在關注 &lt;a href="http://jupyter.org/"&gt;Jupyter Notebook&lt;/a&gt; 的 DS 們想必都注意到 Netflix 這篇文章了吧。&lt;/p&gt;
&lt;p&gt;Netflix 的資料平台（Data Platform）團隊發現，儘管企業內部有各式各樣使用該平台的使用者（如 DS、資料工程師以及分析人員等），並且表面上看來都在使用不同的程式語言，不同的工具，但事實上這些平常在處理數據的人的工作流程（Workflow）大多都可以分為這幾個步驟：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;存取資料&lt;/li&gt;
&lt;li&gt;資料處理&lt;/li&gt;
&lt;li&gt;資料視覺化&lt;/li&gt;
&lt;li&gt;排程以及產品化（Productization）&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/netflix-data-roles.jpeg" style="width:90%"/&gt;
&lt;p&gt;Netflix：不同數據專業的人使用很不一樣的工具以及程式語言，但其實宏觀來看，處理數據的工作流程都很類似&lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;在明白這點以後，Netflix 的資料平台團隊展示了他們如何利用 Notebook 的「介面跟計算分離」這個特性，開發出能讓所有分析人員使用的統一介面。&lt;/p&gt;
&lt;p&gt;在 Netflix 裡頭，任何一個 DS / DE 都可以利用一個簡單的 Notebook 介面做到：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;存取 Netflix 裡頭所有的數據：內部有專門的團隊維護一個可以存取所有資料的 Python 函式庫&lt;/li&gt;
&lt;li&gt;參數化 Notebook：一個 Notebook 可以變成一個模板（Template），讓使用者可以每次利用不同參數重新執行類似的數據處理&lt;/li&gt;
&lt;li&gt;排程（Scheduling）。當使用者決定為目前 Notebook 規劃排程後，該平台會將當下使用者的 Notebook 存到 AWS S3 變成排程工作的參數設定，並在實際排程時建立輸出用的 Notebook，將所有 Logs 以及輸出都放在該輸出用的 Notebook 裡面，方便之後查看以及除錯。這最小化了一個 DS 建立 ETL 工作的時間以及人力成本。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這篇因為篇幅關係不會進一步解釋，但就算你平常沒在用 Notebook，應該也能感受到 Netflix 的數據平台團隊為了支援每天能在 100 PB 的數據量上跑的 15 萬個處理工作（Job）所做出的努力吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;抽象化（Abstraction）是對付複雜性（Complexity）最好的解藥。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這個例子我們看到，Netflix 為了提高他們內部資料科學家的效率以及規模性（Scalability），做了一個這樣的數據平台，將所有基本的資料工程，甚至是對一個正常的 DS 來說需要花不少時間熟悉的數據處理流程都自動化 / 抽象化了。&lt;/p&gt;
&lt;p&gt;在全球數據量仍然爆炸性成長的今天，這樣的抽象化只會越來越普遍地出現在各個企業裡頭，而這對一個資料科學家來說當然是好事。再過一陣子，一個一般的 DS 或許也就不用再花所謂的 80 % 時間來做數據清理、建構資料管道等瑣事上，而是能有更多的時間在建構預測模型、進行複雜分析等更高層次的工作。&lt;/p&gt;
&lt;p&gt;現在我們已經有各種開源的自動化工具，幫我們快速地將機器學習產品化（如 Amazon 的 &lt;a href="https://aws.amazon.com/tw/sagemaker/"&gt;SageMaker&lt;/a&gt;）、自動化清理數據的工具（如 Google 的 &lt;a href="https://cloud.google.com/dataprep/"&gt;CLOUD DATAPREP&lt;/a&gt;）等等。一方面 DS 要慶幸這些事情可以被自動化，一方面則要努力學習新知，不能停滯不前。&lt;/p&gt;
&lt;p&gt;這呼應到我們前面提到的第 1 點趨勢：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;資料科學家未來將能花更多時間在從事「更高層次」的工作，但同時也需具備更專業的能力&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;儘管我們並不都在有這些平台的企業工作，了解自己企業的現有狀況，盡可能將能夠自動化的「數據處理瑣事」抽象化，能讓一個 DS 提高自己的效率以及工作價值。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="What-Data-Scientists-Really-Do,-According-to-35-Data-Scientists"&gt;&lt;a href="https://hbr.org/2018/08/what-data-scientists-really-do-according-to-35-data-scientists"&gt;What Data Scientists Really Do, According to 35 Data Scientists&lt;/a&gt;&lt;a class="anchor-link" href="#What-Data-Scientists-Really-Do,-According-to-35-Data-Scientists"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;center&gt;
&lt;a href="https://hbr.org/2018/08/what-data-scientists-really-do-according-to-35-data-scientists" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/aug18-15-137888421-burakpekakcan-1200x675.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;如果只有閱讀一篇原文的時間的話，我推薦你這篇哈佛商業評論的文章。&lt;/p&gt;
&lt;p&gt;這篇透過訪談多位資料科學家的工作經驗，讓我們能好好地思考「資料科學家」這個職業的未來走向。&lt;/p&gt;
&lt;p&gt;首先，根據這些資料科學家所說，（事實上我也這麼認為）一個 DS 並不像有些人想像的，整天在研究 AI 演算法。&lt;/p&gt;
&lt;p&gt;實際上，這些 DS 在做的是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料搜集、資料清理&lt;/li&gt;
&lt;li&gt;統計推論（Statistical Inference）&lt;/li&gt;
&lt;li&gt;建立儀表板（Dashboard）或是績效報告&lt;/li&gt;
&lt;li&gt;實作機器學習以及資料處理管道（Date Pipeline）&lt;/li&gt;
&lt;li&gt;跟決策者辯論，影響企業決策&lt;/li&gt;
&lt;li&gt;跟專案的利害關係人說明分析結果&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;從這篇文章，我們也再次觀察到同樣的趨勢：現在的資料科學家的工作範圍以及被期待的技能樹過於廣泛，未來將會再進一步細分。其專業領域的細分的方式則可能依企業不同而異，像是前面提到 Airbnb 的 DS 的三個路線；或是此篇文章內提到的 Type A、Type B 的資料科學家；或是更廣泛地分為資料科學家、資料工程師以及機器學習工程師。&lt;/p&gt;
&lt;p&gt;我們同時也從這些專業的資料科學家的口中再度認識到溝通能力的重要。&lt;/p&gt;
&lt;p&gt;比起建立複雜的深度學習模型，學會做一個好的簡報，並跟非技術專業的利害關係人溝通結果，進而影響企業決策才是對一個 DS 來說更為重要的事情。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.books.com.tw/products/0010647371"&gt;人類大歷史&lt;/a&gt;的作者&lt;a href="http://www.ynharari.com/"&gt;哈拉瑞 Yuval Noah Harari&lt;/a&gt; 最近也在&lt;a href="https://www.wired.co.uk/article/yuval-noah-harari-extract-21-lessons-for-the-21st-century"&gt;訪談&lt;/a&gt;中提到未來 AI 時代裡頭，人類 4 個最重要的技能 4C：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;批判性思考（Critical Thinking）&lt;/li&gt;
&lt;li&gt;合作能力（Collaboration）&lt;/li&gt;
&lt;li&gt;創造能力（Creativity）&lt;/li&gt;
&lt;li&gt;溝通能力（Communication）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這呼應到我們最前面的第 2 點的發現：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;學習程式語言及分析工具很重要，但是對資料科學家來說，溝通能力以及領域專業順位第一&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語_1"&gt;&lt;a name="ending"&gt;&lt;/a&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;在這篇文摘裡頭，我們透過閱讀不少跟資料科學家相關的文章，了解到了幾個 DS 的職涯趨勢：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料科學家未來將能花更多時間在從事「更高層次」的工作，但同時也需具備更專業的能力&lt;/li&gt;
&lt;li&gt;學習程式語言及分析工具很重要，但是對資料科學家來說，溝通能力以及領域專業順位第一&lt;/li&gt;
&lt;li&gt;資料科學家這個職業終將式微或消失，不只 IT 產業，未來（現在）各行各業都會有善用數據的人才&lt;/li&gt;
&lt;li&gt;跟資料科學領域相關的工作會依照專業越分越細，最終成為各式各樣的數據職業&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這些都是不錯的發現，但如果你只能記住其中一個的話，我希望是最後一個。&lt;/p&gt;
&lt;p&gt;如同我們在 Airbnb、Netflix 的例子以及多名專業的 DS 口中可以觀察到這個現象：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在不久的將來，非常有可能各個企業都依照分析領域的不同，再度細分一個 DS 的工作，並將其分為不同的路線，或是直接產生新的職業。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;要我打個比方的話，就是像真實世界的 RPG 一樣。&lt;/p&gt;
&lt;p&gt;在急著成為一個資料科學家之前，仔細思考數據科學領域裡頭，究竟什麼地方吸引你？&lt;/p&gt;
&lt;p&gt;你是喜歡做統計分析、執行 AB 測試來提供產品改善的洞見嗎？&lt;/p&gt;
&lt;p&gt;還是你熱衷於研究機器學習演算法，想辦法利用龐大數據改善企業的數據產品（Data Product）呢？&lt;/p&gt;
&lt;p&gt;或者你對建構能夠處理大規模資料的數據平台的工作感興趣呢？&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/digests/doors-1767562_1280.jpg" style="width:90%"/&gt;
&lt;p&gt;現在就開始思考你想要開的門、走的路線、想要成為的角色是什麼，專精它，並尋找渴望你專業的企業&lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;不管你的答案是什麼，既然我們在玩 MMORPG 遊戲（好吧，可能只有我玩）的時候都會去認真地理解每個職業的優缺點、技能樹等等，為何不將各種數據職業視為一個個的 RPG 角色，了解自己的興趣以及跟這些職業的適合程度呢？&lt;/p&gt;
&lt;p&gt;玩遊戲很嗨，能把規劃數據相關的職涯當做遊戲來玩更嗨。&lt;/p&gt;
&lt;p&gt;最後，讓我把文章開頭所問的問題交給你思考並回答：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;數據科學 MMORPG 全球玩家齊聚上線。你，選好自己的角色了嗎？&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="文摘"></category><category term="資料科學"></category></entry><entry><title>一段 Airflow 與資料工程的故事：談如何用 Python 追漫畫連載</title><link href="https://leemengtaiwan.github.io/a-story-about-airflow-and-data-engineering-using-how-to-use-python-to-catch-up-with-latest-comics-as-an-example.html" rel="alternate"></link><published>2018-08-21T23:30:00+09:00</published><updated>2018-08-21T23:30:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-08-21:/a-story-about-airflow-and-data-engineering-using-how-to-use-python-to-catch-up-with-latest-comics-as-an-example.html</id><summary type="html">&lt;p&gt;Airflow 是一個以 Python 開發的工作流管理系統，也是資料工程不可或缺的利器之一。近年不管是資料科學家、資料工程師還是任何需要處理數據的軟體工程師，Airflow 都是他們用來建構 ETL 以及處理批量資料的首選之一。這篇文章希望以一個簡易的漫畫連載通知 App 作為引子，讓讀者直觀地了解 Airflow 背後的運作原理、建立資料工程的知識基礎，並在閱讀本文後發揮自己的創意，實際應用 Airflow 來解決並自動化自己及企業的數據問題。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;這是一篇當初我在入門資料工程以及 Airflow 時希望有人能為我寫好的文章。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://airflow.apache.org/"&gt;Airflow&lt;/a&gt; 是一個從 Airbnb 誕生並開源，以 &lt;a href="https://www.python.org/"&gt;Python&lt;/a&gt; 寫成的&lt;a href="https://zh.wikipedia.org/wiki/%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"&gt;工作流程管理系統（Workflow Management System）&lt;/a&gt;，也是&lt;a href="https://github.com/apache/incubator-airflow#who-uses-airflow"&gt;各大企業&lt;/a&gt;的資料工程環節中不可或缺的利器之一。&lt;/p&gt;
&lt;p&gt;近年不管是資料科學家、資料工程師還是任何需要處理數據的軟體工程師，Airflow 都是他們用來建構可靠的 ETL 以及定期處理批量資料的首選之一。（事實上在 &lt;a href="https://www.smartnews.com/en/"&gt;SmartNews&lt;/a&gt;，除了 DS/DE，會使用 Airflow 的軟體工程師也不在少數）&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/journal/smartnews-dmp.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    我們在
    &lt;a href="https://leemengtaiwan.github.io/journey-of-data-scientist-L-part-1-two-must-ask-questions-when-on-board.html#%E5%84%80%E8%A1%A8%E6%9D%BF%E4%B8%8A%E7%9A%84-KPI-%E6%98%AF%E6%80%8E%E9%BA%BC%E7%94%A2%E7%94%9F%E7%9A%84%EF%BC%9F" target="_blank"&gt;「資料科學家 L 的奇幻旅程(1)：新人不得不問的 2 個問題&lt;/a&gt;
    」一文提到 SmartNews 如何利用 Airflow 建立資料管道並管理各種 ETL
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;儘管它的方便以及強大，在完全熟悉 Airflow 之前，因為有些專業術語以及資料工程概念的存在，不少初學者（包含當時的我）在剛開始的時候容易四處撞壁。另外如果一開始就以 ETL 當作 Airflow 的入門的話，未免難度過高且缺少共鳴。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="追連載：一個-Airflow-的輕鬆使用案例"&gt;追連載：一個 Airflow 的輕鬆使用案例&lt;a class="anchor-link" href="#追連載：一個-Airflow-的輕鬆使用案例"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;這篇文章希望以一個簡易的漫畫連載通知 App 作為引子，讓完全沒有資料工程經驗的讀者也能夠透過這個 App 的例子，輕鬆地理解工作流程的概念、自動化排程以及 Airflow 的使用方式。閱讀完本文，你將對 Airflow 以及自動排程工作有更深的理解，並學會如何建立多個能在 Airflow 上穩定運行的工作流程。更重要的，我相信你能利用這些學到的基礎，開始自動化自己生活中以及企業的數據處理 pipeline。&lt;/p&gt;
&lt;p&gt;如果你對資料工程有興趣，不太熟悉如 Airflow 這種工作流程管理系統，但有基本的 Python 程式基礎的話（或是純粹對用 Python 寫一個漫畫連載通知 App 有興趣），我相信這篇文章應該會很適合你。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;a href="https://airflow.apache.org/" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/app.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;p&gt;Slack 截圖：追漫畫應該要是件輕鬆的事情。&lt;br/&gt;我們將利用 Airflow 來實作一個像這樣會每天從 &lt;a href="https://slack.com/" target="_blank"&gt;Slack&lt;/a&gt; 推送最新漫畫連載的 App
    &lt;br/&gt;
&lt;br/&gt;
&lt;/p&gt;&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;想重新複習 ETL 概念的讀者可以參考先前的文章：&lt;a href="https://leemengtaiwan.github.io/why-you-need-to-learn-data-engineering-as-a-data-scientist.html#%E8%B3%87%E6%96%99%E7%AE%A1%E9%81%93"&gt;資料科學家為何需要了解資料工程&lt;/a&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="章節傳送門"&gt;章節傳送門&lt;a class="anchor-link" href="#章節傳送門"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#所以為何要這-App-？"&gt;了解需求：所以為何要這 App ？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#工作流概念-&amp;amp;-Airflow"&gt;工作流概念 &amp;amp; Airflow&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Python-&amp;amp;-Airflow-實作"&gt;Python 實作 &amp;amp; Airflow 操作&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#建置-Airflow-環境"&gt;建置 Airflow 環境&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Airflow-基本概念"&gt;Airflow 基本概念&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#App-版本一：大鍋炒"&gt;App 版本一：大鍋炒&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#app-v2"&gt;App 版本二：模組化&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#app-v3"&gt;App 版本三：填填樂&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#結語"&gt;結語&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;為讓讀者完整了解開發這個 App 的背景脈絡、此 App 的執行邏輯以及使用 Airflow 來定期執行 App 的原因，在我們實際開始寫 Python 之前有兩小節的解說。&lt;/p&gt;
&lt;p&gt;如果你已經有 Airflow 及工作流程的基礎知識，且迫不及待想看 Python 程式碼，可以直接跳到 &lt;a href="#Python-&amp;amp;-Airflow-實作"&gt;Python 實作 &amp;amp; Airflow 操作&lt;/a&gt;章節之後再回來查看前面段落。&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/toc-demo.jpg" style="width:90%"/&gt;
&lt;p&gt;
        這篇文章章節不少，你有時可能會需要回到前面章節回顧一些內容。活用左側放大鏡按鈕下面的章節傳送門能讓你更輕鬆地徜徉在本文的 Airflow 世界（此功能因為作者時間有限，目前只在寬螢幕實現）
    &lt;/p&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="所以為何要這-App-？"&gt;所以為何要這 App ？&lt;a class="anchor-link" href="#所以為何要這-App-？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;平常有在網路上追漫畫連載的讀者們應該都了解，市面上的漫畫網站通常都不是會員制的。更不用說「在新連載出的時候自動通知您！」這種推送功能（Push Notification）了。也因為這樣，導致我常常三不五時上去這些漫畫網站，看每個關注的漫畫到底出了最新一話了沒。可想而知，答案通常是否定的。（一週出一次每天檢查也沒用啊啊啊）&lt;/p&gt;
&lt;p&gt;如果你只看海賊王一個漫畫（索隆好帥！），這或許沒什麼負擔。但就像上面 Slack 截圖顯示的，我不只關注海賊王，還看很多其他漫畫。讓事情更糟的是，到最後你會發現：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不記得自己到底在追哪些漫畫&lt;/li&gt;
&lt;li&gt;每一部漫畫最後到底是看到第幾話&lt;/li&gt;
&lt;li&gt;上一話是什麼時候出的&lt;/li&gt;
&lt;li&gt;有幾話是新出而你還沒看的 &lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;a href="https://airflow.apache.org/" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/tim-gouw-68319-unsplash.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;p&gt;手動追最新連載經常讓我追到懷疑人生&lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;追漫畫連載應該要是個輕鬆且享受的事情。在一個人人會寫 code 的時代，何不自己做個 App 幫我們自動檢查新連載呢？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="工作流概念-&amp;amp;-Airflow"&gt;工作流概念 &amp;amp; Airflow&lt;a class="anchor-link" href="#工作流概念-&amp;amp;-Airflow"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;概念上我們可以把此 App 需要做的工作按照「先後順序」由上往下列出來：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;取得使用者的閱讀紀錄&lt;/li&gt;
&lt;li&gt;去漫畫網站看有沒有新的章節&lt;/li&gt;
&lt;li&gt;跟紀錄比較，有沒有新連載？&lt;ul&gt;
&lt;li&gt;沒有：&lt;ul&gt;
&lt;li&gt;什麼都不幹，結束&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;有：&lt;ul&gt;
&lt;li&gt;寄 Slack 通知&lt;/li&gt;
&lt;li&gt;更新閱讀紀錄&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;想像上述的工作清單由上往下流動，就形成了一個工作流程（Workflow）：前一個工作如寄 Slack 通知就是下一個工作：更新閱讀紀錄的上游工作（Upstream Task）。&lt;/p&gt;
&lt;p&gt;反過來說，更新閱讀紀錄則是寄 Slack 通知的下游工作（Downstream Task）。&lt;/p&gt;
&lt;p&gt;定義出工作之間的上下游關係的好處是什麼？&lt;/p&gt;
&lt;p&gt;可以讓我們確保工作之間的相依性（Dependencies）並讓如 Airflow 這種工作流程管理系統幫我們管理工作流程。一般而言，下游工作只能在上游「成功」完成之後被執行；如果上游工作失敗的話，下游工作應該被終止，通常也沒有繼續執行的意義（例：如果 App 在執行上游工作「取得使用者閱讀紀錄」時就失敗的話，不需要也不應該執行下游的「更新閱讀紀錄」工作）。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;a href="https://airflow.apache.org/" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/www-headsmartmedia-com-179929-unsplash.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;p&gt;我們的 App 實際上就是一個完整的工作流程。&lt;br/&gt;
       App 從工作 A 執行到工作 B 就像是水從上游 A 流動到下游 B 一樣。&lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;我知道你在想什麼。&lt;/p&gt;
&lt;p&gt;屏除剛剛介紹的工作流程概念，要實作這 App 的邏輯一點都不難。事實上我們只需要寫個 Python script，把每個工作各別用一個函式（Function）實作後再按照順序呼叫它們就好（你甚至可以只用一個函式實現所有邏輯！），為何需要 Airflow？&lt;/p&gt;
&lt;p&gt;在你往下滑前給個提示：我們這個 App 不是每一秒鐘都在執行。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/thought-2123970_1280.jpg" style="width:90%"/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;對！顯而易見的，因為這個 App / 工作流程設計的方式不是即時工作（Realtime Job），而是批次工作，執行一次以後就結束它的生命了。&lt;/p&gt;
&lt;p&gt;我們可不希望它只在明天早上（比方說早上 9 點）去檢查新連載。我們希望它明天、下個月或是明年的今天早上都在運作。這也是為何我們需要一個像是 Airflow 的工作流程管理系統：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;定期執行工作流程&lt;/li&gt;
&lt;li&gt;維護相依性，確保工作流程從上游到下游執行，不會在上游沒完成前執行到下游&lt;/li&gt;
&lt;li&gt;各個工作失敗時自動重試（&lt;a href="https://zh.wikipedia.org/wiki/%E6%91%A9%E8%8F%B2%E5%AE%9A%E7%90%86"&gt;墨菲定律&lt;/a&gt;，所有你認為邏輯上萬無一失的工作都會因為各種無法預期的情況給你失敗的驚喜）&lt;/li&gt;
&lt;li&gt;簡單易懂的 &lt;a href="https://airflow.apache.org/"&gt;Web UI&lt;/a&gt; 方便管理工作流程&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;Airflow 非常適合用來管理相依性複雜，且具批次處理性質的工作流程。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;a href="https://airflow.apache.org/" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/airflow.gif" style="width:90%"/&gt;
&lt;/a&gt;
&lt;p&gt;Airflow 的 &lt;a href="https://airflow.apache.org/" target="_blank"&gt;Web UI&lt;/a&gt; 讓我們能更輕鬆地管理及排程工作流程（後面我們會實際利用此 UI 管理並開發 App）&lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;事實上我們也可以透過 Linux 排程工具 &lt;a href="https://zh.wikipedia.org/wiki/Cron"&gt;Cron&lt;/a&gt; 來定期執行我們的 App。但 Cron 本身沒有工作流程的概念，沒辦法管理上下游工作的相依性、失敗時無法自動重跑、當然也沒有易懂的 Web UI。因此以 2, 3, 4 項的角度來看，Airflow 是一個比較好的選擇。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;到此為止，我們已經了解&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;為何要做這個 App&lt;/li&gt;
&lt;li&gt;此 App 的工作流程以及工作流程（Workflow）的基本概念&lt;/li&gt;
&lt;li&gt;為何要使用 Airflow 來幫我們管理 App 的工作流程&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;接著只差用 Python 將 App 的邏輯以 Airflow 工作流程的方式實現了，讓我們開始實作吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/show-me-the-code.jpg" style="width:90%"/&gt;
&lt;p&gt;[Warning] 接下來不只給你 Python 程式碼，而是給你大量的 Python 程式碼&lt;/p&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Python-&amp;amp;-Airflow-實作"&gt;Python &amp;amp; Airflow 實作&lt;a class="anchor-link" href="#Python-&amp;amp;-Airflow-實作"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;程式碼都會放在這個 &lt;a href="https://github.com/leemengtaiwan/airflow-tutorials"&gt;Github Repo&lt;/a&gt; 裡頭供你在閱讀完文章後參考。但如果你正在用電腦瀏覽的話且想趕快熟悉 Airflow 開發的話，可以 &lt;code&gt;git clone&lt;/code&gt; 下來以後跟著文章走。&lt;/p&gt;
&lt;p&gt;開啟一個新的 terminal，移動到你平常放新專案的資料夾，然後輸入：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/leemengtaiwan/airflow-tutorials.git
&lt;span class="nb"&gt;cd&lt;/span&gt; airflow-tutorials
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;之後沒特別明說的話，指令都會是在 &lt;code&gt;airflow-tutorials&lt;/code&gt; 資料夾底下執行。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="建置-Airflow-環境"&gt;建置 Airflow 環境&lt;a class="anchor-link" href="#建置-Airflow-環境"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;雖然 production 環境需要很多調整，以建構測試環境來說，基本上參考官方的 &lt;a href="https://airflow.apache.org/start.html#quick-start"&gt;Quick Start&lt;/a&gt; 就可以很輕鬆地完成。因為 Airflow 是以 Python 實作的，我們可以很輕易地用 &lt;code&gt;pip install&lt;/code&gt; 來安裝所有需要的東西。用 &lt;a href="https://anaconda.org/"&gt;Anaconda&lt;/a&gt; 則是能讓你事後管理不同專案的環境時輕鬆不少：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;conda create -n airflow-tutorials &lt;span class="nv"&gt;python&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.6 -y
&lt;span class="nb"&gt;source&lt;/span&gt; activate airflow-tutorials
pip install &lt;span class="s2"&gt;"apache-airflow[crypto, slack]"&lt;/span&gt;
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;AIRFLOW_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
airflow initdb
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;以上的指令幫我們：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;建立並啟動一個新的 Anaconda 環境&lt;/li&gt;
&lt;li&gt;在此環境下安裝 Airflow 以及&lt;a href="https://airflow.apache.org/installation.html#extra-packages"&gt;支援 Slack 功能的額外函式庫&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;設定專用路徑以讓 Airflow 之後知道要在哪找檔案、存 log&lt;/li&gt;
&lt;li&gt;初始化 Airflow Metadata DB。此 DB 被用來記錄所有工作流程的執行狀況&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;理想上把 &lt;code&gt;AIRFLOW_HOME&lt;/code&gt; 加入到 &lt;code&gt;~/.bash_profile&lt;/code&gt; 裡頭之後會比較輕鬆，不過現在不做也沒關係。&lt;/p&gt;
&lt;p&gt;【2018/08/27 加註】如果沒有設定 &lt;code&gt;export AIRFLOW_HOME="$(pwd)"&lt;/code&gt; 就執行 &lt;code&gt;airflow initdb&lt;/code&gt;的話，會讓 Airflow 使用作者當初測試時使用的路徑，而不是你 &lt;code&gt;git clone&lt;/code&gt; 下來的 repo 的路徑而造成問題，務必記得設定。&lt;/p&gt;
&lt;p&gt;在環境都搞定之後，我們可以啟動 Airflow 的網頁伺服器：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;airflow webserver -p &lt;span class="m"&gt;8080&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;接著在瀏覽器輸入 &lt;code&gt;localhost:8080&lt;/code&gt; 就能看到 Airflow 簡潔的 Web UI 了：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/first-impression-of-airflow-web-ui.jpg" style="width:90%"/&gt;
&lt;p&gt;Airflow Web UI 首頁：顯示所有已定義的工作流程（DAG）。&lt;br/&gt;
        圖中的 3 個 DAG 就對應到我們接下來逐漸改善 App 時產生的三個 App 版本&lt;/p&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Airflow-基本概念"&gt;Airflow 基本概念&lt;a class="anchor-link" href="#Airflow-基本概念"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;這邊值得注意的是 Airflow 利用 &lt;a href="https://airflow.apache.org/concepts.html#dags"&gt;DAG&lt;/a&gt; 一詞來代表一種特殊的工作流程（Workflow）。如工作流程一樣，DAG 定義了我們有什麼工作、工作之間的執行順序以及依賴關係。DAG 的最終目標是將所有工作依照上下游關係全部執行，而不是關注個別的工作實際上是怎麼被實作的（這點在後面的 &lt;a href="#Operator：將實作邏輯跟-DAG-排程分離"&gt;Operator&lt;/a&gt; 章節會有詳細解釋）。&lt;/p&gt;
&lt;p&gt;另外從它的全名&lt;a href="http://www.csie.ntnu.edu.tw/~u91029/DirectedAcyclicGraph.html"&gt;有向無環圖（&lt;strong&gt;D&lt;/strong&gt;irected &lt;strong&gt;A&lt;/strong&gt;cyclic &lt;strong&gt;G&lt;/strong&gt;raph）&lt;/a&gt;你可以看出它具備兩個特色：「有向」及「無環」。事實上我們的 App 邏輯就是一個理想的 DAG。首先，裡頭包含多個邏輯上的工作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;取得使用者的閱讀紀錄&lt;/li&gt;
&lt;li&gt;去漫畫網站看有沒有新的章節&lt;/li&gt;
&lt;li&gt;跟紀錄比較，有沒有新連載？&lt;ul&gt;
&lt;li&gt;沒有：&lt;ul&gt;
&lt;li&gt;什麼都不幹，結束&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;有：&lt;ul&gt;
&lt;li&gt;寄 Slack 通知&lt;/li&gt;
&lt;li&gt;更新閱讀紀錄&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;很明顯地， App 是從上而下地執行每個工作，即為「有向」；同時 App 不會在更新閱讀紀錄以後（下游工作），還跑回去漫畫網站看有沒有新的章節（上游工作）：上游會指向下游，但下游不會指回上游，此即「無環」。&lt;/p&gt;
&lt;p&gt;有了這個理解以後，我們的目標就很明顯了：將 App 的工作流程轉換成一個能在 Airflow 上執行的 DAG，然後排程它，就能讓它每天去找新連載！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="App-版本一：大鍋炒"&gt;App 版本一：大鍋炒&lt;a class="anchor-link" href="#App-版本一：大鍋炒"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在 Airflow 世界裡，一個 DAG 是由一個 Python script 所定義的。&lt;/p&gt;
&lt;p&gt;以下是我們 App 的第一個版本，也是最簡單的 DAG &lt;code&gt;comic_app_v1&lt;/code&gt; 的程式碼（&lt;code&gt;airflow-tutorials/dags&lt;/code&gt; 資料夾底下的 &lt;code&gt;comic_app_v1.py&lt;/code&gt;）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;airflow&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;airflow.operators.python_operator&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;

&lt;span class="n"&gt;default_args&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;'owner'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'Meng Lee'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'start_date'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s1"&gt;'schedule_interval'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'@daily'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'retries'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'retry_delay'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;minutes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fn_superman&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"取得使用者的閱讀紀錄"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"去漫畫網站看有沒有新的章節"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"跟紀錄比較，有沒有新連載？"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# Murphy's Law&lt;/span&gt;
    &lt;span class="n"&gt;accident_occur&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;accident_occur&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;天有不測風雲,人有旦夕禍福"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"工作遇到預期外狀況被中斷&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;

    &lt;span class="n"&gt;new_comic_available&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;new_comic_available&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"寄 Slack 通知"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"更新閱讀紀錄"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"什麼都不幹，工作順利結束"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v1'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;superman_task&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'superman_task'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;fn_superman&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;為了讓你能專注在 Airflow 及 DAG 最核心的概念，讓我先用 &lt;code&gt;print()&lt;/code&gt; 假裝我們已經在一個函式 &lt;code&gt;fn_superman&lt;/code&gt; 裡頭實作所有工作的邏輯了。在修改完代表一個 DAG 的 Python script 後，要確保 Airflow 能正確地將其視為一個 DAG，最基本的檢查就是用 Python 直接執行該 script。&lt;/p&gt;
&lt;p&gt;你目前的 terminal 應該正被 Airflow 的網頁伺服器所使用。如果你還沒有把 &lt;code&gt;AIRFLOW_HOME&lt;/code&gt; 加到 &lt;code&gt;~/.bash_profile&lt;/code&gt; 裡頭的話，開啟一個新的 terminal，重新進入 &lt;code&gt;airflow-tutorials&lt;/code&gt; 資料夾以後執行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;source&lt;/span&gt; activate airflow-tutorials
&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;AIRFLOW_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;這邊我們為新的 terminal 啟動 Anaconda 環境，並告訴 Airflow 在 &lt;code&gt;airflow-tutorials&lt;/code&gt; 資料夾底下找所有它要的東西。（之後要打開新的 terminal 也要做一樣的事情）&lt;/p&gt;
&lt;p&gt;接著我們就可以用 Python 測試 script 的正確性：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python dags/comic_app_v1.py
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;沒有特別設定的話， Airflow 會去 &lt;code&gt;AIRFLOW_HOME&lt;/code&gt; 路徑底下的 &lt;code&gt;dags&lt;/code&gt; 子資料夾找 DAG，這也是為何我們在上面路徑有個 &lt;code&gt;dags&lt;/code&gt;。（你可以去 &lt;a href="https://github.com/leemengtaiwan/airflow-tutorials"&gt;Repo&lt;/a&gt; 確定檔案的路徑。）&lt;/p&gt;
&lt;p&gt;如果沒有任何錯誤跑出來，恭喜！Airflow 能將其視為一個正常的 DAG 並顯示在 Web UI 上。之後只要你有修改 DAG 裡頭的程式碼，都應該做這個檢查。&lt;/p&gt;
&lt;p&gt;這個 DAG 的程式碼雖不長，卻隱含了一些非常重要的概念。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="輕鬆排程"&gt;輕鬆排程&lt;a class="anchor-link" href="#輕鬆排程"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v1'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;靠近 &lt;a href="#App-版本一：大鍋炒"&gt;Script&lt;/a&gt; 尾端的這行實際上就定義了我們的 DAG 並將它命名為 &lt;code&gt;comic_app_v1&lt;/code&gt;。而此 DAG 的排程（Scheduling）設定如&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;'start_date': datetime(2100, 1, 1, 0, 0)&lt;/code&gt; 代表從西元 2100 年開始第一次執行此 DAG &lt;/li&gt;
&lt;li&gt;每次執行之間間隔多久。&lt;code&gt;'schedule_interval': '@daily'&lt;/code&gt; 代表每天執行一次&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'retries': 2&lt;/code&gt; 則允許 Airflow 在 DAG 失敗時重試 2 次 &lt;/li&gt;
&lt;li&gt;DAG 失敗後等多久後開始重試（&lt;code&gt;'retry_delay': timedelta(minutes=1)&lt;/code&gt;　代表等一分鐘）&lt;/li&gt;
&lt;li&gt;更多更多 ...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;乍看之下沒什麼了不起的，就是些設定。&lt;/p&gt;
&lt;p&gt;但如果你有自己從頭實作過資料管道的經驗或者使用過 &lt;a href="https://zh.wikipedia.org/wiki/Cron"&gt;Cron&lt;/a&gt; 排程 ETL，就能體會 Airflow 這樣的「Configuration as Code」有多麽的強大：你只做一些設定（Config），Airflow 就幫你自動建立可靠、失敗時會自動重試的工作流程。&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/utah-mechanical-contractors-1103725_1280.jpg" style="width:90%"/&gt;
&lt;p&gt;按幾個按鈕就能做出可靠的工作流程，將自動化、失敗重試、相依性管理全部交給 Airflow&lt;/p&gt;
&lt;/center&gt;&lt;p&gt;這些排程設定為了方便管理，一般都另外定義在 &lt;code&gt;default_args&lt;/code&gt; 變數並放在 script 的最上面。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="Operator：將實作邏輯跟-DAG-排程分離"&gt;Operator：將實作邏輯跟 DAG 排程分離&lt;a class="anchor-link" href="#Operator：將實作邏輯跟-DAG-排程分離"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;最有趣的是我們使用 &lt;code&gt;with&lt;/code&gt; 關鍵字來定義一個只屬於 &lt;code&gt;comic_app_v1&lt;/code&gt; DAG 的領域。在這裡頭我們則定義了唯一一個工作 &lt;code&gt;superman_task&lt;/code&gt; 處理所有事情（你應該能猜到為何它被這樣命名）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v1'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;
    &lt;span class="n"&gt;superman_task&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'superman_task'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;fn_superman&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;這段程式碼用白話翻譯的話，就是說：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在 DAG &lt;code&gt;comic_app_v1&lt;/code&gt; 裡頭，利用 &lt;code&gt;PythonOperator&lt;/code&gt; 建立一個名為 &lt;code&gt;superman_task&lt;/code&gt; 的工作，而實際執行這個工作的時候，呼叫 &lt;code&gt;fn_superman&lt;/code&gt; 函式。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一個非常重要且需要你搞懂的概念是，現在說的工作（Task），是指那些實際透過程式碼宣告，在 DAG 裡頭被定義出來的工作，如 &lt;code&gt;superman_task&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;前面我們提到，App 概念上本身就包含了多個工作（步驟）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;取得使用者的閱讀紀錄&lt;/li&gt;
&lt;li&gt;去漫畫網站看有沒有新的章節&lt;/li&gt;
&lt;li&gt;跟紀錄比較，有沒有新連載？&lt;ul&gt;
&lt;li&gt;沒有：&lt;ul&gt;
&lt;li&gt;什麼都不幹，結束&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;有：&lt;ul&gt;
&lt;li&gt;寄 Slack 通知&lt;/li&gt;
&lt;li&gt;更新閱讀紀錄&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這些是「邏輯上」的工作，而在 &lt;code&gt;comic_app_v1&lt;/code&gt; DAG 裡頭，為了方便說明，我們將它們全部包起來，定義成唯一一個 Airflow 工作： &lt;code&gt;superman_task&lt;/code&gt;。（在 &lt;a href="#app-v2"&gt;App 版本二：模組化&lt;/a&gt;章節裡，我們則會分別為這些「邏輯工作」建立他們自己的 Airflow 工作）。&lt;/p&gt;
&lt;p&gt;回到 Opeartor 的話題。在 Airflow 裡頭，DAG 只知道有哪些工作以及這些工作之間的執行順序。而實際上這些工作要怎麼被完成，其實作邏輯則是由各種 &lt;a href="https://airflow.apache.org/code.html#operators"&gt;Operator&lt;/a&gt; 負責。&lt;/p&gt;
&lt;p&gt;你可以想像 &lt;a href="https://airflow.apache.org/code.html#airflow.operators"&gt;Opeartors&lt;/a&gt; 就是幫我們完成特定種類工作的小幫手，像是一些常見的例子：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://airflow.apache.org/code.html#airflow.operators.PythonOperator"&gt;PythonOperator&lt;/a&gt; 執行一個 Python 函式&lt;/li&gt;
&lt;li&gt;&lt;a href="https://airflow.apache.org/code.html#airflow.operators.BashOperator"&gt;BashOperator&lt;/a&gt; 執行 Bash 指令&lt;/li&gt;
&lt;li&gt;&lt;a href="https://airflow.apache.org/code.html#airflow.operators.S3KeySensor"&gt;S3KeySensor&lt;/a&gt; 監測 S3 上的檔案存不存在&lt;/li&gt;
&lt;li&gt;&lt;a href="https://airflow.apache.org/code.html#airflow.operators.SlackAPIPostOperator"&gt;SlackAPIPostOperator&lt;/a&gt; 送訊息給 Slack&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;要建立一個 DAG 裡的工作（Task）就是依照你想要它完成的特定目標，來選擇合適的 Operator。比方說上面的 &lt;code&gt;superman_task&lt;/code&gt; 就是透過 &lt;code&gt;PythonOperator&lt;/code&gt; 來執行特定的 Python 函式 &lt;code&gt;fn_superman&lt;/code&gt;，而該函式則把 App 裡頭所有的「邏輯工作」實作了。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;PythonOperator&lt;/code&gt; 可以說是 Airflow 裡最基本也最強大的 &lt;a href="https://airflow.apache.org/code.html#airflow.operators"&gt;Opeartors&lt;/a&gt; 之一。學會使用方法以後，你可以將任何你定義的 Python 函式變成一個 Airflow 工作。&lt;/p&gt;
&lt;p&gt;基本的使用方法非常簡單，你只要指定一個可呼叫的 Python 函式給 &lt;code&gt;python_callable&lt;/code&gt; 參數以及設定一個工作名稱（task_id）即可：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;superman_task&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'superman_task'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;fn_superman&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在後面的 &lt;a href="#Airflow-變數以及-Jinja-模板"&gt;Airflow 變數以及 Jinja 模板&lt;/a&gt;章節，我們則會看到如何使用其他 Operator 如 &lt;a href="https://airflow.apache.org/code.html#airflow.operators.SlackAPIPostOperator"&gt;SlackAPIPostOperator&lt;/a&gt; 來新增一個可以幫我們送 Slack 訊息的工作。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="測試開發-Airflow-工作"&gt;測試開發 Airflow 工作&lt;a class="anchor-link" href="#測試開發-Airflow-工作"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;你現在應該已經理解 DAG 本身關注的是有哪些工作以及他們的相依性，而不是各個工作的實作邏輯。（雖然在 &lt;code&gt;comic_app_v1&lt;/code&gt; DAG 裡頭只有一個工作所以不存在相依性問題）&lt;/p&gt;
&lt;p&gt;我們用 &lt;code&gt;python dags/comic_app_v1.py&lt;/code&gt; 確保 DAG 本身沒有語法問題以後，接著就是要確保裡頭每個工作（Task）的執行結果如我們預期。&lt;/p&gt;
&lt;p&gt;在 &lt;code&gt;comic_app_v1&lt;/code&gt; DAG 裡頭，我們只有一個工作 &lt;code&gt;superman_task&lt;/code&gt; （其透過一個函式 &lt;code&gt;fn_superman&lt;/code&gt; 幫我們做所有邏輯上的工作）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fn_superman&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"取得使用者的閱讀紀錄"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"去漫畫網站看有沒有新的章節"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"跟紀錄比較，有沒有新連載？"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# Murphy's Law&lt;/span&gt;
    &lt;span class="n"&gt;accident_occur&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;accident_occur&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;天有不測風雲,人有旦夕禍福"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"工作遇到預期外狀況被中斷&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;

    &lt;span class="n"&gt;new_comic_available&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;new_comic_available&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"寄 Slack 通知"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"更新閱讀紀錄"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"什麼都不幹，工作順利結束"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v1'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;superman_task&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'superman_task'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;fn_superman&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;這樣的設計有什麼優點？&lt;/p&gt;
&lt;p&gt;一般來說 DAG 跟工作是一對多的關係（一個工作流程裡有多個小工作要做）：要讓一個 DAG 順利跑完，理所當然所有工作都要順利執行完畢。但 &lt;code&gt;comic_app_v1&lt;/code&gt; DAG 是個特例，它裡頭只有一個工作，一人吃全家飽。只要測試且確保 &lt;code&gt;superman_task&lt;/code&gt; 工作的執行結果如我們預期，就代表 DAG &lt;code&gt;comic_app_v1&lt;/code&gt; 能順利完成，簡單易懂！&lt;/p&gt;
&lt;p&gt;我們可以使用 Airflow 的 &lt;code&gt;test&lt;/code&gt; 指令來幫我們測試這個工作：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;airflow &lt;span class="nb"&gt;test&lt;/span&gt; comic_app_v1 superman_task &lt;span class="m"&gt;2018&lt;/span&gt;-08-18
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;這行指令是讓 Airflow 幫我們測試 &lt;code&gt;comic_app_v1&lt;/code&gt; DAG 裡頭的 &lt;code&gt;superman_task&lt;/code&gt; 工作，並假設這個工作是在 &lt;code&gt;2018-08-18&lt;/code&gt; 這個日期被執行。在我們的 App 例子中，&lt;code&gt;superman_task&lt;/code&gt; 工作的執行結果基本上不會受到執行日期的影響，可以隨便你改。&lt;/p&gt;
&lt;p&gt;但想像一個每天 24 點 0 分準備被啟動，從資料庫撈出數據並計算「當天」使用者數目的工作。其 SQL 查詢可能長這樣：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user_id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;num_new_users&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;user_activities&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;dt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'{execute_date}'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;因為此工作的結果會受到執行日期的影響，在測試的時候，你就得仔細選擇執行日期（execute_date）。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;拉回 &lt;code&gt;superman_task&lt;/code&gt; 工作的測試。&lt;/p&gt;
&lt;p&gt;從上面 &lt;code&gt;fn_superman&lt;/code&gt; 函式的程式碼你可能已經注意到，我埋了個小彩蛋，每次執行都會有不同的執行結果。&lt;/p&gt;
&lt;p&gt;幸運的話你會得到下面這種：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;airflow &lt;span class="nb"&gt;test&lt;/span&gt; comic_app_v1 superman_task &lt;span class="m"&gt;2018&lt;/span&gt;-08-01
取得使用者的閱讀紀錄
去漫畫網站看有沒有新的章節
跟紀錄比較，有沒有新連載？
什麼都不幹，工作順利結束
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;喔耶！這執行結果如我們預期，可以讓 DAG 上線定期執行了！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;不過別高興得太早。多執行幾次看看。如果墨菲定律發生，你會得到失敗的結果：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;airflow &lt;span class="nb"&gt;test&lt;/span&gt; comic_app_v1 superman_task &lt;span class="m"&gt;2018&lt;/span&gt;-08-01
取得使用者的閱讀紀錄
去漫畫網站看有沒有新的章節
跟紀錄比較，有沒有新連載？

天有不測風雲,人有旦夕禍福
工作遇到預期外狀況被中斷
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;假設此執行結果不是我們預期的結果，該怎麼辦？&lt;/p&gt;
&lt;p&gt;如果你反應夠快，會說：&lt;/p&gt;
&lt;p&gt;「那又怎麼樣？墨菲定律不會每次發生，而且就算遇到而導致工作失敗的話， Airflow 不是會自己幫我們重試嗎？」&lt;/p&gt;
&lt;p&gt;的確，這是我們在前面&lt;a href="#輕鬆排程"&gt;輕鬆排程&lt;/a&gt;章節提到 Airflow 的強處。畢竟我們這 App 只是在檢查最新連載，不是做什麼很複雜的運算。基本上就算 DAG 裡頭這唯一一個工作 &lt;code&gt;superman_task&lt;/code&gt; 失敗了導致整個 DAG 要重跑，Airflow 也可以應付得來。&lt;/p&gt;
&lt;p&gt;但問題在於，企業在運行資料管道的時候，常常需要分成很多步驟，某些步驟可能需要龐大的計算資源跟時間（像是將每天使用者使用 App 的幾億筆紀錄做匯總存入資料庫），有些則很輕量（如存取一個外部 API 取得外匯比例）。&lt;/p&gt;
&lt;p&gt;現在假設你無視這些不同步驟的性質差異，將它們全部放在一個 &lt;code&gt;fn_superman&lt;/code&gt; 函式裡頭並只建立一個 Airflow 工作，當該 Airflow 工作裡頭任何一個輕量的步驟失敗，Airflow 得重跑整個工作，導致所有龐大計算的步驟也得跟著重新執行，重試的時間/計算成本會大到你哭出來。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;雞蛋不要放在同個籃子裡。為邏輯上獨立的工作/步驟分別建立 Airflow 工作，可以讓 Airflow 只從失敗的工作開始重新做起。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;因此一個比較好的 Airflow DAG 設計模式是為我們 App 裡頭每個邏輯上獨立的工作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;取得使用者的閱讀紀錄&lt;/li&gt;
&lt;li&gt;去漫畫網站看有沒有新的章節&lt;/li&gt;
&lt;li&gt;跟紀錄比較，有沒有新連載？&lt;ul&gt;
&lt;li&gt;沒有：&lt;ul&gt;
&lt;li&gt;什麼都不幹，結束&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;有：&lt;ul&gt;
&lt;li&gt;寄 Slack 通知&lt;/li&gt;
&lt;li&gt;更新閱讀紀錄&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;都分別建立如同 &lt;code&gt;superman_task&lt;/code&gt; 的 Airflow 工作，並定義好它們之間的相依性（Dependencies）。而這將是我們下一節的重點。&lt;/p&gt;
&lt;p&gt;題外話：你可能會納悶為何我們只測試 &lt;code&gt;superman_task&lt;/code&gt; 工作而沒測試整個 &lt;code&gt;comic_app_v1&lt;/code&gt; DAG。當然「一人吃全家飽」是個理由：只要確定 DAG 裡頭唯一一個工作正確運作，我們就能保證此 DAG 沒問題。&lt;/p&gt;
&lt;p&gt;事實上還有一個原因：&lt;code&gt;airflow test&lt;/code&gt; 指令實際上只能用來測試單一工作，而不能測試整個 DAG。關於 DAG 的測試我們在後面的 &lt;a href="#Airflow-排程器"&gt;Airflow 排程器&lt;/a&gt; 章節會詳細說明。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="App-版本二：模組化_1"&gt;&lt;a name="app-v2"&gt;&lt;/a&gt;App 版本二：模組化&lt;a class="anchor-link" href="#App-版本二：模組化"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;所以現在我們要做的改善（Refactoring）很簡單：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;將 App 邏輯從 &lt;code&gt;comic_app_v1&lt;/code&gt; DAG 中的函式 &lt;code&gt;fn_superman&lt;/code&gt; 中拿出來&lt;/li&gt;
&lt;li&gt;為 App 的每個步驟分別定義一個 Python 函式&lt;/li&gt;
&lt;li&gt;在 DAG 裡頭利用 &lt;code&gt;PythonOperator&lt;/code&gt; 建立多個 Airflow 工作並分別呼叫這些函式&lt;/li&gt;
&lt;li&gt;定義這些工作的執行順序&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;版本二的 App 完整的程式碼如下：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;airflow&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;airflow.operators.python_operator&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;BranchPythonOperator&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;airflow.operators.dummy_operator&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;DummyOperator&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;airflow.operators.slack_operator&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;SlackAPIPostOperator&lt;/span&gt;

&lt;span class="n"&gt;default_args&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;'owner'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'Meng Lee'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'start_date'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s1"&gt;'schedule_interval'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'@daily'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'retries'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'retry_delay'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;minutes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;process_metadata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'read'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"取得使用者的閱讀紀錄"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'write'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"更新閱讀紀錄"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;check_comic_info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;all_comic_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'task_instance'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xcom_pull&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task_ids&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'get_read_history'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"去漫畫網站看有沒有新的章節"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;anything_new&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;anything_new&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;all_comic_info&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;decide_what_to_do&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;anything_new&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;all_comic_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'task_instance'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xcom_pull&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task_ids&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'check_comic_info'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"跟紀錄比較，有沒有新連載？"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;anything_new&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;'yes_generate_notification'&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;'no_do_nothing'&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;generate_message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;all_comic_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'task_instance'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xcom_pull&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task_ids&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'check_comic_info'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"產生要寄給 Slack 的訊息內容並存成檔案"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

    &lt;span class="n"&gt;get_read_history&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'get_read_history'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;process_metadata&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;op_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'read'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;check_comic_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'check_comic_info'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;check_comic_info&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;provide_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;decide_what_to_do&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BranchPythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'new_comic_available'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;decide_what_to_do&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;provide_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;update_read_history&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'update_read_history'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;process_metadata&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;op_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'write'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="n"&gt;provide_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;generate_notification&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'yes_generate_notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;generate_message&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;provide_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;send_notification&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SlackAPIPostOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'send_notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;token&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"YOUR_SLACK_TOKEN"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;channel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'#comic-notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"[{{ ds }}] 海賊王有新番了!"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;icon_url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'http://airbnb.io/img/projects/airflow3.png'&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;do_nothing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DummyOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'no_do_nothing'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# define workflow&lt;/span&gt;
    &lt;span class="n"&gt;get_read_history&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;check_comic_info&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;decide_what_to_do&lt;/span&gt;

    &lt;span class="n"&gt;decide_what_to_do&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;generate_notification&lt;/span&gt;
    &lt;span class="n"&gt;decide_what_to_do&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;do_nothing&lt;/span&gt;

    &lt;span class="n"&gt;generate_notification&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;send_notification&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;update_read_history&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;天啊這可比 &lt;code&gt;comic_app_v1&lt;/code&gt; DAG 的程式碼長了不少！&lt;/p&gt;
&lt;p&gt;不過在你開始懷疑自己適不適合寫 Airflow DAG 之前讓我提醒你一下。就跟我們剛剛上面提到的，實際上這個 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 的架構從上到下也就分為三個區塊：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;用 &lt;code&gt;def&lt;/code&gt; 定義負責實作的 Python 函式（們）&lt;/li&gt;
&lt;li&gt;在 DAG 利用各種 &lt;code&gt;Operator&lt;/code&gt; 定義 DAG 工作（大部分是 &lt;code&gt;PythonOperator&lt;/code&gt;，並使用 &lt;code&gt;python_callable&lt;/code&gt; 指定執行步驟 1 定義的函式）&lt;/li&gt;
&lt;li&gt;定義這些 DAG 工作的執行順序（Workflow）&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;回頭再看一遍，有沒有清楚一點了？&lt;/p&gt;
&lt;p&gt;在細看 &lt;code&gt;comic_app_v2&lt;/code&gt; 的程式碼前，先讓我們用 Airflow Web UI 研究一下這個 DAG 在做什麼：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;a ,="" href="https://leemengtaiwan.github.io/images/airflow/comic_app_v2_graph_view.gif" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/comic_app_v2_graph_view.png" style="width:90%"/&gt;
&lt;/a&gt;
&lt;p&gt;Airflow Web UI 裡頭的 Graph View 幫我們視覺化 DAG 的工作流程&lt;br/&gt;
        （&lt;a ,="" href="https://leemengtaiwan.github.io/images/airflow/comic_app_v2_graph_view.gif" target="_blank"&gt;這個 GIF 展示如何從 Airflow UI 開啟此畫面&lt;/a&gt;）
    &lt;/p&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Airflow 工作寫成英文是為了方便使用 &lt;code&gt;airflow test&lt;/code&gt; 指令測試每個工作。&lt;/p&gt;
&lt;p&gt;儘管工作名稱都是英文，你應該不會覺得陌生。因為這就是我們 App 的邏輯：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;取得使用者的閱讀紀錄（get_read_history）&lt;/li&gt;
&lt;li&gt;去漫畫網站看有沒有新的章節（check_comic_info）&lt;/li&gt;
&lt;li&gt;跟紀錄比較，有沒有新連載？（new_comic_available）&lt;ul&gt;
&lt;li&gt;沒有（no_do_nothing）&lt;/li&gt;
&lt;li&gt;有（yes_generate_notification）&lt;ul&gt;
&lt;li&gt;寄 Slack 通知（send_notification）&lt;/li&gt;
&lt;li&gt;更新閱讀紀錄（update_read_history）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;看來這應該不是巧合：）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="Airflow-排程器"&gt;Airflow 排程器&lt;a class="anchor-link" href="#Airflow-排程器"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如同當初測試 &lt;code&gt;comic_app_v1&lt;/code&gt; DAG 裡頭的 &lt;code&gt;superman_task&lt;/code&gt; 工作一樣，在我們放心讓 Airflow 幫我們排程 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 以前，應該分別測試裡頭所有工作，確保它們的執行結果如我們預期：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;airflow &lt;span class="nb"&gt;test&lt;/span&gt; comic_app_v2 get_read_history &lt;span class="m"&gt;2018&lt;/span&gt;-01-01
取得使用者的閱讀紀錄

airflow &lt;span class="nb"&gt;test&lt;/span&gt; comic_app_v2 check_comic_info &lt;span class="m"&gt;2018&lt;/span&gt;-01-01
跟紀錄比較，有沒有新連載？

airflow &lt;span class="nb"&gt;test&lt;/span&gt; comic_app_v2 new_comic_available &lt;span class="m"&gt;2018&lt;/span&gt;-01-01
去漫畫網站看有沒有新的章節

...
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;假設我們已經做完所有工作的測試，想讓 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 開始被 Airflow 排程，除了已經被開啟的 Airflow 網頁伺服器以外，我們需要另外開啟 Airflow 排程器（Scheduler）。&lt;/p&gt;
&lt;p&gt;因為目前為止一直在運轉的 Airflow 網頁伺服器只負責：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;顯示 DAG 資訊，如工作流程圖、各個 DAG 的運行狀況以及 Logs&lt;/li&gt;
&lt;li&gt;讓我們輕鬆地終止/開始 DAG 排程（在有排程器的前提）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而實際要執行 DAG、分配每個工作的運算資源則需要 Airflow 排程器。Airflow 的架構圖能幫助我們理解這件事情：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/airflow-architecture.png" style="width:70%"/&gt;
&lt;p&gt;
&lt;a href="https://medium.com/@dustinstansbury/understanding-apache-airflows-key-concepts-a96efed52b1a" target="_blank"&gt;Airflow 架構圖&lt;/a&gt;：Scheduler 是實際做排程、呼叫 Worker 執行工作的傢伙；我們熟悉的 Webserver 則提供一個 Web UI 讓我們可以輕鬆檢視工作執行時產生的 Logs、DAG 的程式碼以及工作的執行結果；所有資料都被存在 Metadata Database 裡頭。
    &lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;事不宜遲，讓我們啟動 Airflow 排程器吧！&lt;/p&gt;
&lt;p&gt;現在再打開一個 terminal，進入 &lt;code&gt;airflow-tutorials&lt;/code&gt; 資料夾後設定環境：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;AIRFLOW_HOME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;span class="nb"&gt;source&lt;/span&gt; activate airflow-tutorials
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;接著啟動排程器：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;airflow scheduler
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;到目前為止你應該有 3 個 terminals 各司其職：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用來輸入 &lt;code&gt;airflow&lt;/code&gt; 相關指令的 terminal&lt;/li&gt;
&lt;li&gt;Airflow Webserver&lt;/li&gt;
&lt;li&gt;Airflow Scheduler&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我保証不會再多了。&lt;/p&gt;
&lt;p&gt;有了排程器以後，打開 UI，在左邊將 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 設成「On」後，點擊右邊「Trigger Dag」按鈕可以呼叫排程器馬上開始執行該 DAG。先讓我們按下去以後，再讓我解釋這樣做會發生什麼事情。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;a ,="" href="https://leemengtaiwan.github.io/images/airflow/trigger-dag-demo.gif" target="_blank"&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/ready-to-trigger-dag.png" style="width:90%"/&gt;
&lt;/a&gt;
&lt;p&gt;在左邊將 DAG 設成「On」後，可以利用右邊「Trigger Dag」按鈕呼叫排程器馬上開始執行該 DAG &lt;br/&gt;
        （&lt;a ,="" href="https://leemengtaiwan.github.io/images/airflow/trigger-dag-demo.gif" target="_blank"&gt;這個 GIF 展示如何從 Airflow UI 觸發一個 DAG&lt;/a&gt;）
&lt;/p&gt;&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;為了避免預料之外的排程，Airflow 所有 DAG 的預設狀態都是暫停的（Paused），也就是上圖中如 &lt;code&gt;comic_app_v1&lt;/code&gt; 左邊的「Off」。只有在你將 DAG 的狀態設定成如圖中的 &lt;code&gt;comic_app_v2&lt;/code&gt; 的「On」，排程器才會開始為其做排程。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="手動觸發-DAG"&gt;手動觸發 DAG&lt;a class="anchor-link" href="#手動觸發-DAG"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;雖說將一個 DAG 取消暫停（Unpause）可以讓它成為 Airflow 的排程對象，實際上 Airflow 的排程又分兩種方式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;手動觸發（Manual）&lt;ul&gt;
&lt;li&gt;常用在測試 DAG 或是有意外發生，需要手動重新執行 DAG 的時候&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;定期執行（Scheduled）&lt;ul&gt;
&lt;li&gt;也就是所謂的「正式上線」。&lt;/li&gt;
&lt;li&gt;依照 DAG 的 &lt;code&gt;start_date&lt;/code&gt; 及 &lt;code&gt;schedule_interval&lt;/code&gt; 設定決定何時執行&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;現在讓我們先專注在手動觸發。&lt;/p&gt;
&lt;p&gt;當然你也可以在不透過 Web UI 的情況下，直接利用 terminal 取消暫停一個 DAG 並觸發它：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;airflow unpause comic_app_v2
airflow trigger_dag comic_app_v2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;理論上我們剛剛手動觸發的 &lt;code&gt;comic_app_v2&lt;/code&gt; 應該已經跑完了。重新整理你應該會看到 Airflow UI 顯示 DAG 已被成功執行的畫面：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/success-dag.png" style="width:90%"/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;從 Web UI 我們可以清楚地看到剛剛手動觸發的 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 已經被 Airflow 排程器拿去執行，產生一個新的 DAG Run 並成功執行。DAG 跟 DAG Run 的差異在於前者只是個定義好的工作流程，後者則是該 DAG 在某個時間點實際被排程器拿去執行（Run）過後的結果，會有一個執行日期（execute_date）。&lt;/p&gt;
&lt;p&gt;接著點擊右邊 Links 中長得像太陽的 Graph View 按鈕後就可以看到這個 DAG Run 的執行狀況：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/success-tasks-in-dag.png" style="width:90%"/&gt;
&lt;p&gt;
        將游標放在右邊的「Success」狀態按鈕上可以顯示此 DAG Run 中被成功執行的工作（圖內的工作從左到右被執行）&lt;br/&gt;
        注意圖中 DAG Run 的 ID： manual_2018-08-19... 表示這是一個在 2018-08-19 被手動觸發的 DAG Run。
    &lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;我們可以清楚地看到這個 DAG Run 完美地模擬了我們 App 在檢查到新連載情報時送 Slack 訊息給我們的情境。我甚至收到一個 Slack 訊息：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/first-slack-message.png" style="width:90%"/&gt;
&lt;p&gt;
        comic_app_v2 DAG 如果發現有新連載就會寄一個罐頭 Slack 訊息，包含 DAG 執行日期。因為我是在 2018-08-19 當天手動觸發此 DAG，因此日期即為 2018-08-19。後面我們會看到如何客製化 Slack 訊息內容。
    &lt;/p&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="定義工作流程"&gt;定義工作流程&lt;a class="anchor-link" href="#定義工作流程"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;要在 DAG 裡頭定義出如上圖的工作流程也非常的直觀，讓我們參考這兩個工作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;yes_generate_notification&lt;/li&gt;
&lt;li&gt;send_notification&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;它們在 &lt;code&gt;dags/comic_app_v2.py&lt;/code&gt; 裡頭被這樣定義（節錄最重要的部分）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="n"&gt;generate_notification&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'yes_generate_notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="o"&gt;...&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;send_notification&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SlackAPIPostOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'send_notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="o"&gt;...&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# define workflow&lt;/span&gt;
    &lt;span class="n"&gt;generate_notification&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;send_notification&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;你可以發現在 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 裡，我們分別定義好這兩個工作以後，在最下面用 &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; 語法告訴 Airflow 這兩個工作的相依性：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;yes_generate_notification&lt;/code&gt; 工作要在 &lt;code&gt;send_notification&lt;/code&gt; 之前執行&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外眼尖的讀者會發現，Python 變數名稱 &lt;code&gt;generate_notification&lt;/code&gt; 跟實際上的工作名稱（task_id） &lt;code&gt;yes_generate_notification&lt;/code&gt; 並不一致。我們將實際的工作 &lt;code&gt;PythonOperator&lt;/code&gt; 命名為 &lt;code&gt;generate_notification&lt;/code&gt;，只是為了後面在定義工作流程的時候好提到它。參考下面的程式碼：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="n"&gt;task1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'yes_generate_notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="o"&gt;...&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;task2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SlackAPIPostOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'send_notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="o"&gt;...&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c1"&gt;# define workflow&lt;/span&gt;
    &lt;span class="n"&gt;task1&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;task2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;這段程式碼跟上一段程式碼在定義工作流程上有一模一樣的效果，只是後者的 naming convention 在定義工作流程的時候比較易懂。&lt;/p&gt;
&lt;p&gt;雖然要多打幾個字，為了其他 DS/DE 以及未來的自己，一般推薦 Python 變數名稱取跟 &lt;code&gt;task_id&lt;/code&gt; 類似的名字。&lt;/p&gt;
&lt;p&gt;針對其他工作，我們也是用相同語法將它們串起來：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="n"&gt;decide_what_to_do&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BranchPythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'new_comic_available'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;decide_what_to_do&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;provide_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="n"&gt;get_read_history&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;check_comic_info&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;decide_what_to_do&lt;/span&gt;

&lt;span class="n"&gt;decide_what_to_do&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;generate_notification&lt;/span&gt;
&lt;span class="n"&gt;decide_what_to_do&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;do_nothing&lt;/span&gt;

&lt;span class="n"&gt;generate_notification&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;send_notification&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;update_read_history&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然後我們就得到前面看過的工作流程圖了：&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/comic_app_v2_graph_view.png" style="width:90%"/&gt;
&lt;/center&gt;&lt;p&gt;你也可以回到 &lt;a href="#app-v2"&gt;App 版本二：模組化&lt;/a&gt;章節，確認 &lt;code&gt;comic_app_v2&lt;/code&gt; 完整的程式碼後再利用左邊的傳送門回來，我等你。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="Airflow-變數以及-Jinja-模板"&gt;Airflow 變數以及 Jinja 模板&lt;a class="anchor-link" href="#Airflow-變數以及-Jinja-模板"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;現在你應該已經了解如何使用 &lt;code&gt;PythonOperator&lt;/code&gt; 建立一個新的工作，並利用 &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; 語法定義 Airflow 的工作流程（DAG）了。我們也實際觸發 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 讓 Airflow 排程器幫我們排程，最後收到一個 Slack 訊息。&lt;/p&gt;
&lt;p&gt;現在讓我們仔細研究一下負責寄 Slack 訊息的工作，也就是下圖的 &lt;code&gt;send_notificiation&lt;/code&gt;：&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/comic_app_v2_graph_view.png" style="width:90%"/&gt;
&lt;p&gt;
        依照 Opeartor 種類不同，工作在 Web UI 上顯示的背景顏色也有所不同，方便區分。
    &lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;你會發現它的顏色跟其他工作不一樣，這是因為它並不是一個 &lt;code&gt;PythonOperator&lt;/code&gt;，而是一個 &lt;code&gt;SlackAPIPostOperator&lt;/code&gt;。由此 Operator 定義的工作並不會呼叫一個 Python 函式，而是直接呼叫 Slack API 來傳送訊息。下面是我們在當初落落長的 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 裡頭定義的 &lt;code&gt;send_notificiation&lt;/code&gt;：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;send_notification&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SlackAPIPostOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'send_notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;token&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"YOUR_SLACK_TOKEN"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;channel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'#comic-notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"[{{ ds }}] 海賊王有新番了!"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;icon_url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'http://airbnb.io/img/projects/airflow3.png'&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;注意 &lt;code&gt;text&lt;/code&gt; 參數的值。 &lt;code&gt;{{ ds }}&lt;/code&gt; 實際上是 &lt;a href="https://airflow.apache.org/tutorial.html#templating-with-jinja"&gt;Jinja&lt;/a&gt; 語法，它允許我們將 Python 變數渲染（Render）到字串裡頭，動態地產生文本。這就像是我們有個變數 &lt;code&gt;ds&lt;/code&gt;，然後利用 &lt;code&gt;format&lt;/code&gt; 語法一樣：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;text = "[{ds}] 海賊王有新番了!".format(ds=ds)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;而這邊的重點是 Airflow 在執行一個 DAG 的時候會提供一些預設的&lt;a href="https://airflow.apache.org/code.html?highlight=macros#macros"&gt;環境變數&lt;/a&gt;供我們使用，像是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ds&lt;/code&gt;：代表 DAG Run 的執行日期（execute_date），以 &lt;code&gt;YYYY-MM-DD&lt;/code&gt; 形式表現&lt;/li&gt;
&lt;li&gt;&lt;code&gt;yesterday_ds&lt;/code&gt;：DAG Run 的執行日期的前一天，以 &lt;code&gt;YYYY-MM-DD&lt;/code&gt; 形式表現&lt;/li&gt;
&lt;li&gt;&lt;code&gt;tomorrow_ds&lt;/code&gt;：DAG Run 的執行日期的後一天，以 &lt;code&gt;YYYY-MM-DD&lt;/code&gt; 形式表現&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而因為我們在 2018-08-19 的時候，利用下面這個指令手動觸發 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;airflow&lt;/span&gt; &lt;span class="n"&gt;trigger_dag&lt;/span&gt; &lt;span class="n"&gt;comic_app_v2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Airflow 會將實際執行該 DAG 的日期設定為執行日期（execute_date）。因此 &lt;code&gt;ds&lt;/code&gt; 即為 &lt;code&gt;2018-08-19&lt;/code&gt;，&lt;code&gt;SlackAPIPostOperator&lt;/code&gt; 裡頭的 &lt;code&gt;"[{{ ds }}] 海賊王有新番了!"&lt;/code&gt; 就會被渲染成 &lt;code&gt;[2018-08-19] 海賊王有新番了!&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;最後我們就得到這個 Slack 訊息：&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/first-slack-message.png" style="width:90%"/&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;現在你也了解使用 Jinja 語法可以動態地調整每次 DAG 運行的邏輯以及執行結果。讓我們實際將 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 丟上線試試看吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="執行日期：排程最重要的概念"&gt;執行日期：排程最重要的概念&lt;a class="anchor-link" href="#執行日期：排程最重要的概念"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;經過前面的幾個章節，我們已經對 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 的測試及開發下了不少功夫：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;利用 &lt;code&gt;airflow test&lt;/code&gt; 指令分別測試每個 Airflow 工作執行如預期&lt;/li&gt;
&lt;li&gt;&lt;code&gt;python dags/comic_app_v2.py&lt;/code&gt; 確保 DAG 定義無誤&lt;/li&gt;
&lt;li&gt;使用 Web UI 點擊「 Trigger Dag 」按鈕或是透過 &lt;code&gt;airflow trigger&lt;/code&gt; 來手動觸發 DAG 確認結果&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這些都是將一個 DAG 正式上線前必須完成的步驟。在這些測試都完成以後，是時候將我們的 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 交給 Airflow 排程器，讓 Airflow 幫我們每天執行這個 DAG 了！&lt;/p&gt;
&lt;p&gt;在&lt;a href="#手動觸發-DAG"&gt;手動觸發 DAG&lt;/a&gt; 章節我們有看到，要讓 Airflow 排程器開始排程一個 DAG，首先要終止暫停（Unpause）該 DAG。而為何當時 Airflow 沒有在我們 &lt;code&gt;comic_app_v2&lt;/code&gt;一終止暫停 就開始自動排程，而要等到我們手動觸發呢？&lt;/p&gt;
&lt;p&gt;這是因為當時的 &lt;code&gt;comic_app_v2&lt;/code&gt; 的排程設定如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;'owner'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'Meng Lee'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'start_date'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s1"&gt;'schedule_interval'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'@daily'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;'start_date': datetime(2100, 1, 1, 0, 0)&lt;/code&gt; 代表我們希望 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 的第一個執行日期（execute_date）為西元 2100 年 1 月 1 號 0 點。&lt;/p&gt;
&lt;p&gt;你可能覺得為何要把話說得那麼複雜，就說：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「 Airflow 排程器會在 西元 2100 年 1 月 1 號 0 點第一次執行此 DAG 」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不就好了嗎？&lt;/p&gt;
&lt;p&gt;不這麼說的原因，就是因為上面的理解是錯的。事實上這是很多人在利用 Airflow 排程時最容易搞錯的&lt;a href="https://airflow.readthedocs.io/en/latest/scheduler.html?highlight=start_date"&gt;概念&lt;/a&gt;之一，值得花點篇幅徹底搞清楚。&lt;/p&gt;
&lt;p&gt;假如西元 2100 年我們架的 Airflow 排程器還在運作的話，它會在：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;start_date 2100 年 1 月 1 號 0 點 0 分 + 1 * schedule_interval
=   2100 年 1 月 1 號 0 點 0 分 + 1 * @daily
=   2100 年 1 月 1 號 0 點 0 分 + 1 * 24 小時
=   2100 年 1 月 2 號 0 點 0 分
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;也就是 2100 年 1 月 2 號 0 點 0 分的時候，將 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 拿出來做第一次執行，而該 DAG Run 的執行日期為 2100 年 1 月 1 號 0 點 0 分。&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/black-man-question.jpg" style="width:90%"/&gt;
&lt;p&gt;
        我知道你現在可能滿臉黑人問號，但讓我們好好想一想這到底是怎麼一回事。
    &lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;要理解為何我們一開始的猜想：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「 Airflow 排程器會在 西元 2100 年 1 月 1 號 0 點第一次執行此 DAG 」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;是非常矛盾的，讓我們做個我最愛的假想實驗。還記得在&lt;a href="#測試開發-Airflow-工作"&gt;測試開發 Airflow 工作&lt;/a&gt;章節提到的 SQL 查詢嗎？&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user_id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;num_new_users&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;user_activities&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;dt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'{execute_date}'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;現在假設我們給這個工作跟 &lt;code&gt;comic_app_v2&lt;/code&gt; 一模一樣的排程設定：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;'start_date': datetime(2100, 1, 1, 0, 0)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'schedule_interval': '@daily'&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;根據本章節一開始的敘述，這個 DAG 的第一個執行日期（execute_date）為 &lt;code&gt;2100-01-01&lt;/code&gt;。而按照我們在 &lt;a href="#Airflow-變數以及-Jinja-模板"&gt;Airflow 變數以及 Jinja 模板&lt;/a&gt;章節所說的，此 SQL 查詢裡頭的 Jinja 語法會被渲染成：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user_id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;num_new_users&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;user_activities&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;dt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'2100-01-01'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;接著假設我們一開始的猜想：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「 Airflow 排程器會在 西元 2100 年 1 月 1 號 0 點第一次執行此 DAG 」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;是對的話，該 SQL 查詢會取回什麼資料？&lt;/p&gt;
&lt;p&gt;答案是什麼都沒有。&lt;/p&gt;
&lt;p&gt;因為如果這猜想是對的話，這個 SQL 查詢工作會馬上在西元 2100 年 1 月 &lt;strong&gt;1&lt;/strong&gt; 號的 0 點，想辦法去把西元 2100 年 1 月 &lt;strong&gt;1&lt;/strong&gt; 號整天的使用者資料全部撈出來。而因為此 SQL 查詢執行時， 1 月 1 號才剛開始，這個查詢不會取得任何資料。&lt;/p&gt;
&lt;p&gt;很明顯哪裡出了差錯了。&lt;/p&gt;
&lt;p&gt;而如果照我剛剛解釋的版本，就會顯得合理許多：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在 2100 年 1 月 &lt;strong&gt;2&lt;/strong&gt; 號 0 點的時候，以下的 SQL 查詢會被執行&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;COUNT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;user_id&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;num_new_users&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;user_activities&lt;/span&gt;
&lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="n"&gt;dt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'2100-01-01'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;這代表我們在 1 月 1 號 23 點 59 分結束以後，也就是 1 月 2 號 0 點的時候，將 1 月 1 號所有的使用者資料做彙總。&lt;/p&gt;
&lt;p&gt;一般而言，Airflow 會在 &lt;code&gt;start_date&lt;/code&gt; 加上一個 &lt;code&gt;schedule_interval&lt;/code&gt; 之後開始&lt;a href="https://airflow.readthedocs.io/en/latest/scheduler.html?highlight=start_date"&gt;第一次執行某個 DAG&lt;/a&gt;，而該 DAG Run 的 &lt;code&gt;execute_date&lt;/code&gt; 為 &lt;code&gt;start_date&lt;/code&gt;。這樣的設計就是為了避免像是上面那個 SQL 查詢在當天才剛開始的時候就想要搜集該天所有資料的窘境。&lt;/p&gt;
&lt;p&gt;Airflow 擅長的是管理那些允許「事件發生時間」跟「實際數據處理時間」有落差的批次工作。因此 Airflow 都會在 &lt;code&gt;start_date&lt;/code&gt; 加上 &lt;code&gt;schedule_interval&lt;/code&gt; 長度的時間過完&lt;strong&gt;以後&lt;/strong&gt;，才開始處理發生在 &lt;code&gt;start_date&lt;/code&gt; 到 &lt;code&gt;start_date + schedule_interval&lt;/code&gt; 之間的資料。&lt;/p&gt;
&lt;p&gt;再換句話說，&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;一個 DAG Run 中的執行日期，只等於它「負責」的日期，不等於它實際被 Airflow 排程器執行的日期。一個被自動排程且執行日期為 dt 的 DAG Run，實際上是在 dt + schedule_period 後被 Airflow 執行。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;我們換了好幾種說法，希望你能百分之百地掌握這個 Airflow 排程的概念，因為這實在太重要了。&lt;/p&gt;
&lt;p&gt;有了這章節的排程概念以後，我們可以正式開始排程 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 了！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="正式排程"&gt;正式排程&lt;a class="anchor-link" href="#正式排程"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;經過上一章節排程概念的洗禮，想必你還記得 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 的開始排程日期（start_date）是遙遠的西元 2100 年 1 月 1 號：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;'owner'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'Meng Lee'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'start_date'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s1"&gt;'schedule_interval'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'@daily'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;作者目前撰寫這段落的日期為西元 2018 年 8 月 20 號，所以大概還要再等 82 年，而且我啟動的 Airflow 排程器還活著，這個 DAG 才會被第一次執行。我們可等不了那麼久。&lt;/p&gt;
&lt;p&gt;在完全地理解上一章&lt;a href="#執行日期：排程最重要的概念"&gt;執行日期：排程最重要的概念&lt;/a&gt;所提到的概念以後，你可能會說：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「那我們可以把 start_date 設為 2018 年 8 月 20 號，並維持 schedule_interval 為一天，這樣等到 8 月 21 號 0 點的時候，這個 DAG 就會被執行，然後我們就知道它 work 不 work 了！」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;好傢伙（好姑娘？），我給你 100 分！&lt;/p&gt;
&lt;p&gt;這句話已經抓到 Airflow 排程的精髓中的精髓，只不過別誤會，我趕時間。何不讓我們當個時空旅人，將 start_date 設為 8 月 20 號以前的日期，比方說 8 月 17 號？&lt;/p&gt;
&lt;p&gt;畢竟我們在上一章提到：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;一個 DAG Run 中的執行日期，只等於它「負責」的日期，不等於它實際被 Airflow 排程器執行的日期。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;將 start_date 設為今天（8 月 20 號）&lt;strong&gt;以前&lt;/strong&gt;的日期，並啟動 Airflow 排程器的話，就會讓 Airflow 排程器馬上開始排程執行日期為 start_date 的 DAG Run，並且一直執行到最新的 DAG Run 為止。&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/time-machine.jpg" style="width:90%"/&gt;
&lt;p&gt;
    Airflow 排程器彷彿就像台時光機器，幫我們排程那些執行日期在過去的 DAG Run，重建過去。
    &lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;所以現在讓我修改 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 的程式碼以排程「過去」的 DAG Run：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;'owner'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'Meng Lee'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'start_date'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2018&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;17&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s1"&gt;'schedule_interval'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'@daily'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;保持好習慣，修改完程式碼以後用 Python 確認 DAG 沒語法錯誤：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;python dags/comic_app_v2.py
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;通常 Airflow 沒多久就會重新載入最新的程式碼。如果你懷疑程式碼沒有被更新，可以點擊 Airflow UI 首頁中 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 最右邊 Links 裡頭的「Refresh」按鈕。&lt;/p&gt;
&lt;p&gt;問題時間。&lt;/p&gt;
&lt;p&gt;將 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 的 start_date 設定成 2018 年 8 月 17 號以後，在作者撰文的 8 月 20 號晚間 10 點為止， Airflow 會排程幾次 DAG Runs？它們分別的執行日期為何？花個幾秒鐘思考，確定你知道答案。（schedule_interval 一樣為 &lt;code&gt;@daily&lt;/code&gt; ）&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/clock-1274699_1280.jpg" style="width:90%"/&gt;
&lt;p&gt;
        滴答滴答，你能在我們的時光機完成工作之前想出答案嗎？
    &lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;答案揭曉，Airflow 排程器總共排程三個 DAG Runs，他們的執行日期分別為：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2018-08-17&lt;/li&gt;
&lt;li&gt;2018-08-18&lt;/li&gt;
&lt;li&gt;2018-08-19&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;8 月 20 號的 DAG Run 則要等到 8 月 21 號 0 點才會被執行。&lt;/p&gt;
&lt;p&gt;喝杯水重新載入 UI，我們可以從 Airflow UI 裡頭確認 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 總共有 4 個成功的 DAG Runs：&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/success-dags.png" style="width:90%"/&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;除了第一個 DAG Run 是我們之前手動觸發以外（你可以從它的 Run Id 以及最右邊的 External Trigger 看出），其他三個都是 Airflow 排程器實際排程並執行的結果（一樣你可以從它們的 Run Id 看出端倪）。&lt;/p&gt;
&lt;p&gt;同時我的 Slack 作響。我們可以看到儘管執行日期相異，三個被排程的 DAG Runs 按照順序通知我有新番。&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/three-slack-messages.png" style="width:90%"/&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;嗯 .. 海賊王一週出一次，想必其中有幾個是 fake news。&lt;/p&gt;
&lt;p&gt;不管如何，我們在這章節成功讓 Airflow 排程器從好幾天前開始自動排程 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 並確認結果成功！&lt;/p&gt;
&lt;p&gt;如果我不將 Airflow 排程器關掉的話，之後每天的 0 點（UTC）它都會幫我執行 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG。沒有意外的話，或許 Airflow 排程器可以幫我們持續排程此 DAG 到西元 2100 年，希望到時海賊王已經完結，不用叫孫子燒給我了。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="App-版本三：填填樂_1"&gt;&lt;a name="app-v3"&gt;&lt;/a&gt;App 版本三：填填樂&lt;a class="anchor-link" href="#App-版本三：填填樂"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;目前為止，本文為了讓你能專注在理解 Airflow 及工作流程的核心概念（而非個別工作的實作細節），以 &lt;code&gt;print()&lt;/code&gt; 代替我們 App 的實作邏輯。&lt;/p&gt;
&lt;p&gt;在此章節，我們則會一窺實作所有邏輯的 &lt;code&gt;comic_app_v3&lt;/code&gt; DAG，也就是實現本文開頭展示的 App 的程式碼。&lt;/p&gt;
&lt;p&gt;但為何說「一窺」呢？&lt;/p&gt;
&lt;p&gt;因為 &lt;code&gt;comic_app_v3&lt;/code&gt; DAG 為了處理 JSON 檔案、利用 &lt;a href="http://selenium-python.readthedocs.io/" target="_blank"&gt;Selenium&lt;/a&gt; 存取網頁等事情，其程式碼變得比只用 &lt;code&gt;print()&lt;/code&gt; 的 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 要長得多，且其程式碼很大一部份已經不直接跟 Airflow 相關了。&lt;/p&gt;
&lt;p&gt;我相信大部分的讀者是為了學習 Airflow 而來，而不是看我東 try 西 try 來實作這個 App。當然，如果你有興趣且想要練習如何建立一個自己的漫畫連載 App，你可以嘗試將實作邏輯填入到 &lt;code&gt;comic_app_v2&lt;/code&gt; DAG 裡頭的各個 Python 函式即可，或者直接執行我已經實作好所有邏輯的 &lt;code&gt;comic_app_v3&lt;/code&gt; DAG，這個我們在後面的&lt;a href="#quick-start"&gt;如何建立你自己的連載通知 App（懶人法）&lt;/a&gt;章節會有詳細講解。&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/BLOG-fill-in-the-blank@1X.jpg" style="width:90%"/&gt;
&lt;p&gt;
        填填樂：以 comic_app_v2 建立好的工作流程為基礎，實作每個工作的邏輯就像是填空題一般，將邏輯填入對應的 Python 函式就好。（comic_app_v3 也是從 comic_app_v2 為基礎開發的，工作流程一模一樣）
    &lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;在這章節，我想跟你分享一些在實作 &lt;code&gt;comic_app_v3&lt;/code&gt; DAG 時用到的 Airflow 知識及技巧。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="重複利用-Python-函式"&gt;重複利用 Python 函式&lt;a class="anchor-link" href="#重複利用-Python-函式"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;在 &lt;a href="#app-v2"&gt;App 版本二：模組化&lt;/a&gt;章節我們看到，大部分的 Airflow 工作都是由一個 &lt;code&gt;PythonOperator&lt;/code&gt; 所定義，而每個 &lt;code&gt;PythonOperator&lt;/code&gt; 分別呼叫不同的 Python 函式。但在 &lt;code&gt;comic_app_v3&lt;/code&gt; DAG 裡頭，我們只利用一個 Python 函式 &lt;code&gt;process_metadata&lt;/code&gt; 專門負責讀 / 寫使用者的閱讀紀錄：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;process_metadata&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'read'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="o"&gt;...&lt;/span&gt;
    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'write'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v3'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

    &lt;span class="n"&gt;get_read_history&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'get_read_history'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;process_metadata&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;op_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'read'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="n"&gt;provide_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;       

    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="n"&gt;update_read_history&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'update_read_history'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;process_metadata&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;op_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'write'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="n"&gt;provide_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;你會發現上面兩個 Airflow 工作的 &lt;code&gt;python_callable&lt;/code&gt; 都呼叫 &lt;code&gt;process_metadata&lt;/code&gt;，因為它們做類似的事情：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;get_read_history&lt;/code&gt; 負責讀取閱讀紀錄&lt;/li&gt;
&lt;li&gt;&lt;code&gt;update_read_history&lt;/code&gt; 負責更新閱讀紀錄&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而這兩個工作則利用不同的 &lt;code&gt;op_args&lt;/code&gt; 來使用 &lt;code&gt;process_metadata&lt;/code&gt; 函式的不同功能。這樣的好處是我們不需要為每個類似的 &lt;code&gt;PythonOperator&lt;/code&gt; 都分別建立一個新的 Python 函式，而是利用參數 &lt;code&gt;op_args&lt;/code&gt; 來改變同個 Python 函式的執行結果。&lt;/p&gt;
&lt;p&gt;當然，傳遞參數給 Python 函式這件事情本身就是很常見，這時候 &lt;code&gt;op_args&lt;/code&gt; 就會派上用場。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="Xcom：工作之間的訊息交換"&gt;Xcom：工作之間的訊息交換&lt;a class="anchor-link" href="#Xcom：工作之間的訊息交換"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;&lt;a href="https://airflow.apache.org/concepts.html?highlight=xcom#xcoms"&gt;Xcom（Cross Communication）&lt;/a&gt; 是 Airflow 工作之間交換訊息的方式。一個被 &lt;code&gt;PythonOperator&lt;/code&gt; 呼叫的 Python 函式所回傳（return）的值，都可以被其他 Airflow 工作透過 Xcom 存取：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;check_comic_info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;

    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"檢查有無新連載"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;anything_new&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;all_comic_info&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;decide_what_to_do&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;anything_new&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;all_comic_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'task_instance'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xcom_pull&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task_ids&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'check_comic_info'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"跟紀錄比較，有沒有新連載？"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;anything_new&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;'yes_generate_notification'&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;'no_do_nothing'&lt;/span&gt;

&lt;span class="o"&gt;...&lt;/span&gt;


&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v3'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="n"&gt;check_comic_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'check_comic_info'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;check_comic_info&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;provide_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;你可以看到最底下的 &lt;code&gt;check_comic_info&lt;/code&gt; 工作呼叫上方的 &lt;code&gt;check_comic_info&lt;/code&gt; 函式，而該函式回傳 &lt;code&gt;anything_new, all_comic_info&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;接著 &lt;code&gt;decide_what_to_do&lt;/code&gt; 函式則利用以下語法來取得該結果：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;anything_new&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;all_comic_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'task_instance'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xcom_pull&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task_ids&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'check_comic_info'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;下游工作可以透過這樣的方式取得上游工作的執行結果，來決定接下來要做的任務。&lt;/p&gt;
&lt;p&gt;值得注意的是 XCom 的所有資料在 pickle 之後會被存到 Airflow 的 Metadata Database（通常是 MySQL）裡頭，因此不適合交換太大的數據（例：100 萬行的 Pandas DataFrame），而適合用在交換 Metadata。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;check_comic_info&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;裡頭的 &lt;code&gt;**context&lt;/code&gt; 的語法是為了取得 Airflow 在執行工作時產生的&lt;a href="https://airflow.apache.org/code.html?highlight=macros#macros"&gt;環境變數&lt;/a&gt;，其中就包含 XCom。除了要在 Python 函式設置 &lt;code&gt;**context&lt;/code&gt; 以外，我們還必須將 &lt;code&gt;PythonOperator&lt;/code&gt; 的 &lt;code&gt;provide_context&lt;/code&gt; 參數設置為 &lt;code&gt;True&lt;/code&gt;，Airflow 才會把環境變數傳給該工作：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;check_comic_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'check_comic_info'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;check_comic_info&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;provide_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="在工作流程內加入條件分支"&gt;在工作流程內加入條件分支&lt;a class="anchor-link" href="#在工作流程內加入條件分支"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;有時候我們會想要在工作流程裡頭加入分支，當某條件符合的時候執行這個分支，當不符合的時候執行別的分支。&lt;/p&gt;
&lt;p&gt;比方說我們的 App 就含有這樣的邏輯：&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/comic_app_v2_graph_view.png" style="width:90%"/&gt;
&lt;p&gt;利用 BranchPythonOperator 實現 Airflow DAG 裡的條件分支
    &lt;/p&gt;
&lt;/center&gt;&lt;p&gt;圖中的 &lt;code&gt;check_comic_info&lt;/code&gt; 「上游」工作會去漫畫網頁檢查有沒有新的連載，依照結果的不同，我們希望不同分支被執行：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果有的話，執行上面分支的 &lt;code&gt;yes_generate_notification&lt;/code&gt; 「下游」工作&lt;/li&gt;
&lt;li&gt;沒有的話，則執行下面分支的 &lt;code&gt;no_do_nothing&lt;/code&gt; 「下游」工作&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;要在 Airflow 裡頭實現這樣的邏輯，可以在上下游工作「之間」新增一個 &lt;code&gt;BranchPythonOperater&lt;/code&gt;（如圖中的 &lt;code&gt;new_comic_available&lt;/code&gt; 工作）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;砍掉原上游工作跟下游工作之間的 &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;將原上游工作 &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; 該 &lt;code&gt;BranchPythonOperator&lt;/code&gt; 工作&lt;/li&gt;
&lt;li&gt;將該 &lt;code&gt;BranchPythonOperator&lt;/code&gt; 工作 &lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt; 原下游工作&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;資料工程很大一部份的工作就是在建立資料管道/工作流程，接個水管合情合理對吧？&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;airflow.operators.python_operator&lt;/span&gt; &lt;span class="nn"&gt;BranchPythonOperator&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;decide_what_to_do&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;anything_new&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;all_comic_info&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'task_instance'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xcom_pull&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task_ids&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'check_comic_info'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"跟紀錄比較，有沒有新連載？"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;anything_new&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;'yes_generate_notification'&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;'no_do_nothing'&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;DAG&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'comic_app_v3'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;dag&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

    &lt;span class="o"&gt;...&lt;/span&gt;

    &lt;span class="n"&gt;decide_what_to_do&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BranchPythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'new_comic_available'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;python_callable&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;decide_what_to_do&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;provide_context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;generate_notification&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;PythonOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;do_nothing&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DummyOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'no_do_nothing'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;decide_what_to_do&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;generate_notification&lt;/span&gt;
    &lt;span class="n"&gt;decide_what_to_do&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;do_nothing&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;而 &lt;code&gt;BranchPythonOperator&lt;/code&gt; 一樣會呼叫一個 Python 函式（上例的 &lt;code&gt;decide_what_to_do&lt;/code&gt; 函式），由該函式決定到底最後哪個下游工作會被執行。基本上該函式會依照實際情況決定哪個下游工作被執行，並將該下游工作的 &lt;code&gt;task_id&lt;/code&gt; 回傳。&lt;/p&gt;
&lt;p&gt;而因為在這個例子中，我們希望依照上游工作 &lt;code&gt;check_comic_info&lt;/code&gt; 回傳的一個布林值 &lt;code&gt;anything_new&lt;/code&gt; 來決定要執行哪個下游工作，因此可以使用 &lt;code&gt;xcom_pull&lt;/code&gt; 取得該結果以後回傳要執行的下游工作 ID &lt;code&gt;task_id&lt;/code&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;好啦，這就是我想跟你分享在實作 &lt;code&gt;comic_app_v3&lt;/code&gt; DAG 時的幾個實用技巧，希望對你上手 Airflow 有所幫助。&lt;/p&gt;
&lt;p&gt;接下來我們將針對那些想要建立自己的連載通知 App 的你，提供一個快速起手指南。&lt;/p&gt;
&lt;p&gt;不過如果你現在沒有打算做這件事情的話，可以放心跳到最後面的&lt;a href="#結語"&gt;結語&lt;/a&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="如何建立你自己的連載通知-App（懶人法）_2"&gt;&lt;a name="quick-start"&gt;&lt;/a&gt;如何建立你自己的連載通知 App（懶人法）&lt;a class="anchor-link" href="#如何建立你自己的連載通知-App（懶人法）"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;此章節提供一個懶人指南，讓那些想要建立自己的 App 的你，在（幾乎）不需要改變 &lt;code&gt;comic_app_v3&lt;/code&gt; 程式碼的前提下完成這件事情。&lt;/p&gt;
&lt;p&gt;如同我們在&lt;a href="#建置-Airflow-環境"&gt;建置 Airflow 環境&lt;/a&gt;提到的，首先你當然得先把跟這篇文章相關的 &lt;a href="https://github.com/leemengtaiwan/airflow-tutorials"&gt;Github Repo&lt;/a&gt; 複製下來：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/leemengtaiwan/airflow-tutorials.git
&lt;span class="nb"&gt;cd&lt;/span&gt; airflow-tutorials
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果你在之前就有複製 Repo 下來跟著走，你只需要再另外安裝 &lt;a href="https://selenium-python.readthedocs.io/"&gt;Selenium&lt;/a&gt;。Selenium 是一個自動化網頁測試的工具，在這個 App 裡頭被我們用來當網路爬蟲，去漫畫網站看連載資訊。&lt;/p&gt;
&lt;p&gt;接著啟動目前為止 Airflow 一直在使用的 Anaconda 環境，然後安裝 Selenium：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;source&lt;/span&gt; activate airflow-tutorials
conda install -c conda-forge selenium
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果你之前沒有建置任何環境，可以利用 Repo 裡頭的 &lt;a href="https://github.com/leemengtaiwan/airflow-tutorials/blob/master/environment.yaml"&gt;environment.yaml&lt;/a&gt; 從頭安裝 Airflow 以及 Selenium：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;conda env create -n airflow-tutorials -f environment.yaml 
&lt;span class="nb"&gt;source&lt;/span&gt; activate airflow-tutorials
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在這個 App 裡頭，要讓 Selenium 正常運作，你還需要 &lt;a href="https://sites.google.com/a/chromium.org/chromedriver/"&gt;Chrome Driver&lt;/a&gt;。下載最新版本以後把它放在你的 &lt;code&gt;$PATH&lt;/code&gt; 讀得到的地方。Mac 使用者的話可以放到像是 &lt;code&gt;/usr/local/bin&lt;/code&gt; 資料夾下面。如果還是不懂可以查看&lt;a href="https://github.com/leemengtaiwan/gist-evernote#chrome-driver"&gt;這裡的 Chrome Driver 安裝教學&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;環境設定好以後，你會需要一個新的 &lt;a href="https://peppergeeks.slack.com/apps"&gt;Slack App&lt;/a&gt; 來送訊息到你的 Workspace。建立一個新的 Slack App，給予它寫訊息的權限以後，安裝到你自己的 Workspace。這時候你應該會得到一個開頭為 &lt;code&gt;xoxp-&lt;/code&gt; 的 Slack Token。將該 Token 複製下來，打開 &lt;code&gt;airflow-tutorials&lt;/code&gt; 資料夾底下的 &lt;code&gt;data/credentials/slack.json&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;將你的 Token 複製貼上如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nt"&gt;"token"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"xoxp-....."&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;搞定網路爬蟲以及 Slack 認證以後，你需要改變 &lt;code&gt;comic_app_v3.py&lt;/code&gt; 裡頭的一行程式碼，以讓 Airflow 送訊息到你 Workspace 底下指定的頻道（channel）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;send_notification&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SlackAPIPostOperator&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="n"&gt;task_id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'send_notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;token&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;get_token&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
    &lt;span class="n"&gt;channel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'#comic-notification'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;get_message_text&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
    &lt;span class="n"&gt;icon_url&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'http://airbnb.io/img/projects/airflow3.png'&lt;/span&gt;
&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;將上述的 &lt;code&gt;channel='#comic-notification'&lt;/code&gt; 改成你自己的頻道，如 &lt;code&gt;channel='#my-new-channel'&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;接著你會需要一個正常運作的 Airflow 排程器。啟動方法參考 &lt;a href="#Airflow-排程器"&gt;Airflow 排程器&lt;/a&gt;章節。&lt;/p&gt;
&lt;p&gt;在 Airflow 排程器、Selenium 以及 Slack 都就緒以後，你可以直接手動觸發 &lt;code&gt;comic_app_v3&lt;/code&gt; DAG 來測試 App 的第一則訊息。如同我們在&lt;a href="#手動觸發-DAG"&gt;手動觸發 DAG&lt;/a&gt; 章節提到的，你可以透過 Web UI 或者 terminal 來終止暫停（Unpause）並手動觸發一個 DAG：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;airflow&lt;/span&gt; &lt;span class="n"&gt;unpause&lt;/span&gt; &lt;span class="n"&gt;comic_app_v3&lt;/span&gt;
&lt;span class="n"&gt;airflow&lt;/span&gt; &lt;span class="n"&gt;trigger_dag&lt;/span&gt; &lt;span class="n"&gt;comic_app_v3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;一切順利的話，幾秒鐘之後，你會在自己的 Slack Workspace 及 channel 底下收到這個測試訊息：&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/real-slack-message.png" style="width:90%"/&gt;
&lt;p&gt;
    圖中的 channel 會隨著你實際的設定改變
    &lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;目前 &lt;code&gt;comic_app_v3&lt;/code&gt; DAG 將使用者的閱讀紀錄儲存在 &lt;code&gt;data/comic.json&lt;/code&gt; 裡頭，底下則是為了產生上面這個 Slack 訊息的假閱讀紀錄：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nt"&gt;"1152"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"海賊王"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;"previous_chapter_num"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;900&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/airflow/comic-website.jpg" style="width:90%"/&gt;
&lt;p&gt;
        上頭 comic.json 裡頭，海賊王的 "1152" 就代表該漫畫主頁在動漫狂的連結中的數字（1152.html）
    &lt;/p&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;目前此 App 只能從&lt;a href="https://www.cartoonmad.com/"&gt;動漫狂&lt;/a&gt;（歡迎你丟 PR 改善！）找最新的漫畫連載。為了新增你自己的漫畫，你需要找出該漫畫主頁在動漫狂的連結，將連結中的數字如上述的例子一樣新增在 &lt;code&gt;data/comic.json&lt;/code&gt; 裡頭。假設你想開始關注「進擊的巨人」，然後最近看到 100 話的話，可以把 &lt;code&gt;data/comic.json&lt;/code&gt; 改成這樣：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nt"&gt;"1221"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"進擊的巨人"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;"previous_chapter_num"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;這樣一來， &lt;code&gt;comic_app_v3&lt;/code&gt; DAG 就會用該數字去「進擊的巨人」的頁面，幫你查看有沒有最新的連載。當然你也可以像我一樣，在 &lt;code&gt;comic.json&lt;/code&gt; 裡追加多個漫畫：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="nt"&gt;"1152"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"海賊王"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;"previous_chapter_num"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;911&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="nt"&gt;"1221"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"進擊的巨人"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;"previous_chapter_num"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;107&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="nt"&gt;"4485"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"西遊"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;"previous_chapter_num"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;152&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="nt"&gt;"1121"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"浪人劍客"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;"previous_chapter_num"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;327&lt;/span&gt;
  &lt;span class="p"&gt;},&lt;/span&gt;
  &lt;span class="nt"&gt;"1122"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"王者天下"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;"previous_chapter_num"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;565&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="err"&gt;...&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;修改完 &lt;code&gt;comic.json&lt;/code&gt;，最後你會想要修改 &lt;code&gt;comic_app_v3.py&lt;/code&gt; 裡頭的排程設定：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;default_args&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;'owner'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'Meng Lee'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'start_date'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s1"&gt;'schedule_interval'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'@daily'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'retries'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="s1"&gt;'retry_delay'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;timedelta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;minutes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;將 &lt;code&gt;start_date&lt;/code&gt; 改成你想要他它開始的日期，接著 Airflow 排程器就會每天幫你執行 &lt;code&gt;comic_app_v3&lt;/code&gt; DAG 並查看最新連載。搞定收工！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;首先，由衷感謝你花了那麼多寶貴時間與力氣跟隨著我們的 Airflow 冒險。&lt;/p&gt;
&lt;p&gt;回顧一下，這一路上你已經學會不少資料工程相關的知識以及 Airflow 的開發技巧：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;了解工作流程、上下游工作、相依性的概念以及其與 Airflow DAG 的關係&lt;/li&gt;
&lt;li&gt;模組化工作流程的重要性&lt;/li&gt;
&lt;li&gt;了解如何利用 &lt;code&gt;PythonOperator&lt;/code&gt; 建立一個 Airflow 工作並呼叫自定義 Python 函式&lt;/li&gt;
&lt;li&gt;利用 &lt;code&gt;airflow test&lt;/code&gt; 指令以及 Web UI 測試 Airflow 工作以及 DAG&lt;/li&gt;
&lt;li&gt;了解如何利用 Python 定義一個工作流程以及決定工作間的相依性&lt;/li&gt;
&lt;li&gt;利用 Web UI 及 terminal 手動觸發 DAG 並確認執行結果&lt;/li&gt;
&lt;li&gt;了解 Airflow 排程概念（如執行日期）並實際讓工作流程上線（&lt;code&gt;comic_app_v2&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;了解一些 Airflow 開發時的技巧，如建立條件分支以及使用各種不同的 Operators 建立工作&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;先給自己鼓個掌吧！&lt;/p&gt;
&lt;p&gt;如同我在文章開頭所述：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;這是一篇當初我在入門資料工程以及 Airflow 時希望有人能為我寫好的文章。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;當時的我找不到這篇文章，而現在我自己寫了這篇文章。&lt;/p&gt;
&lt;p&gt;希望這篇文章能幫助到跟過去的我一樣，正在嘗試學習資料工程以及 Airflow 的你。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;雖然使用 Airflow 來實作本篇的漫畫連載 App 可能是一個殺雞用牛刀的例子，但我希望你能參考本文的 App 例子，開始思考如何用本文學到的知識，去實際解決、自動化你自身或是所在企業的數據問題。&lt;/p&gt;
&lt;p&gt;儘管這篇的 Airflow 故事即將進入尾聲，你的 Airflow 之旅才剛剛展開。&lt;/p&gt;
&lt;p&gt;Keep learning and happy Airflowing！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="Python"></category><category term="Airflow"></category><category term="資料工程"></category><category term="Selenium"></category><category term="Slack"></category></entry><entry><title>資料科學文摘 Vol.3 Pandas、Docker 以及數據時代的反思</title><link href="https://leemengtaiwan.github.io/data-science-digest-volume-3.html" rel="alternate"></link><published>2018-08-10T21:00:00+09:00</published><updated>2018-08-10T21:00:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-08-10:/data-science-digest-volume-3.html</id><summary type="html">&lt;p&gt;不同於上週的文摘，這週的選文比較技術以及實作導向。本週將導讀 3 篇使用 Python 以及 Pandas 的文章，並鼓勵讀者實際動手學習。我們也會看到如何使用 Docker 來讓資料科學變得更簡單，並提供一個有趣的貓咪圖片辨識 App 給有興趣的讀者參考。最後，讓我們分別看看哈佛商業評論以及美國前首席資料科學家 DJ Patil 談談如何讓資料科學在企業內普及，以及數據時代我們面臨的各種道德議題。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;不同於上週的&lt;a href="https://leemengtaiwan.github.io/data-science-digest-volume-2.html"&gt;文摘 Vol.2 產品理解以及 DS / DE 之路&lt;/a&gt;，這週的選文比較技術以及實作導向。本週將導讀 3 篇使用 Python 以及 Pandas 的文章，並鼓勵讀者實際動手學習。我們也會看到如何使用 Docker 來讓資料科學變得更簡單，並提供一個有趣的貓咪圖片辨識 App 給有興趣的讀者參考。最後，讓我們分別看看哈佛商業評論以及美國前首席資料科學家 DJ Patil 談談如何讓資料科學在企業內普及，以及數據時代我們面臨的各種道德議題。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="本週閱讀清單"&gt;本週閱讀清單&lt;a class="anchor-link" href="#本週閱讀清單"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Pandas、Python&lt;ul&gt;
&lt;li&gt;&lt;a href="#How-to-Master-Your-Skills-for-Pandas?"&gt;How to Master Your Skills for Pandas?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#How-to-rewrite-your-SQL-queries-in-Pandas,-and-more"&gt;How to rewrite your SQL queries in Pandas, and more&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Learn-Functional-Python-in-10-Minutes"&gt;Learn Functional Python in 10 Minutes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Docker    &lt;ul&gt;
&lt;li&gt;&lt;a href="#Docker-for-Data-Scientists"&gt;Docker for Data Scientists&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Try-It-Yourself"&gt;Cat Recognizer: A flask app showcasing how to recognize cats using Tensorflow&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;數據時代的反思&lt;ul&gt;
&lt;li&gt;&lt;a href="#The-Democratization-of-Data-Science"&gt;The Democratization of Data Science&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Data's-day-of-reckoning"&gt;Data's day of reckoning&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="How-to-Master-Your-Skills-for-Pandas?"&gt;&lt;a href="https://engmrk.com/module5-introduction-to-pandas/"&gt;How to Master Your Skills for Pandas?&lt;/a&gt;&lt;a class="anchor-link" href="#How-to-Master-Your-Skills-for-Pandas?"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;center&gt;
&lt;a href="https://engmrk.com/module5-introduction-to-pandas/" target="_blank"&gt;
&lt;img src="images/digests/Module-5-Introduction-to-Pandas.png" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;Python 裡頭最著名的資料處理 library 非 &lt;a href="https://pandas.pydata.org/"&gt;Pandas&lt;/a&gt; 莫屬了。&lt;a href="https://engmrk.com/module5-introduction-to-pandas/"&gt;這篇文章&lt;/a&gt;使用互動式的環境，列出挺完整的 Pandas 指令讓讀者可以邊參考 sample code 邊自己動手玩玩看。&lt;/p&gt;
&lt;p&gt;其中包含各種利用 Series 以及 Dataframe 兩種 Pandas 常見的資料格式來對數據進行各種操作，適合沒碰過 Pandas 的新手以及想要重新 refresh 語法的人。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="How-to-rewrite-your-SQL-queries-in-Pandas,-and-more"&gt;&lt;a href="https://codeburst.io/how-to-rewrite-your-sql-queries-in-pandas-and-more-149d341fc53e"&gt;How to rewrite your SQL queries in Pandas, and more&lt;/a&gt;&lt;a class="anchor-link" href="#How-to-rewrite-your-SQL-queries-in-Pandas,-and-more"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;center&gt;
&lt;a href="https://codeburst.io/how-to-rewrite-your-sql-queries-in-pandas-and-more-149d341fc53e" target="_blank"&gt;
&lt;img src="images/digests/kofu-pandas.jpeg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
提供常見的 SQL 查詢以及其對應的 Pandas 寫法。一個有效率的資料科學家通常需要 SQL 及 pandas 兼具。雖然這篇一開始的目標讀者是那些已經熟悉 SQL 並打算使用 Pandas 的讀者，我認為熟悉 Pandas 但還不了解 SQL 的同學們也能從這篇學到點東西。&lt;/p&gt;
&lt;p&gt;這篇適合至少懂 Python 或是 SQL 並想學習另外一個語言的讀者。如果你想要深入了解 SQL 或是其與 Python 之間的差異，你可以看看我之前寫的&lt;a href="https://leemengtaiwan.github.io/why-you-need-to-learn-sql-as-a-data-scientist.html"&gt;為何資料科學家需要學習 SQL&lt;/a&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Learn-Functional-Python-in-10-Minutes"&gt;&lt;a href="https://hackernoon.com/learn-functional-python-in-10-minutes-to-2d1651dece6f"&gt;Learn Functional Python in 10 Minutes&lt;/a&gt;&lt;a class="anchor-link" href="#Learn-Functional-Python-in-10-Minutes"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;center&gt;
&lt;a href="https://hackernoon.com/learn-functional-python-in-10-minutes-to-2d1651dece6f" target="_blank"&gt;
&lt;img src="images/digests/1_ZXixptvL4rzkx3EDuj38xw.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://bobbywlindsey.com/data-science/2018/07/16/docker-for-data-scientists/"&gt;這篇 Hackernon 文章&lt;/a&gt;則簡單介紹 Functional Programming 在 Python 可以如何被實作，函式（function）是怎麼被視為 Python 的第一公民以及我們能如何活用函式如 Map、Filter 函式。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如果你剛起步，想要有效率地學習 Python 的話，我建議可以從 &lt;a href="https://www.python-course.eu/list_comprehension.php"&gt;List comprehension&lt;/a&gt; 開始學起。&lt;/p&gt;
&lt;p&gt;一個簡單的例子是假設我們想從一個 List 中取得大於 50 的數字：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;70&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;larger_than_50&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;larger_than_50&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[100, 70]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;文章的後半段則透過 The Zen of Python （Python 的禪學）來說明為何使用 List comprehension 會比使用傳統 Functional Programming 中的 Map、Filter 函式來得簡單。&lt;/p&gt;
&lt;p&gt;Python 有一個著名的彩蛋，你可以利用 &lt;code&gt;import this&lt;/code&gt; 來顯示 The Zen of Python，它提供使用 Python 的人一個簡單的開發準則，具體如下：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;this&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Docker-for-Data-Scientists"&gt;&lt;a href="https://bobbywlindsey.com/data-science/2018/07/16/docker-for-data-scientists/"&gt;Docker for Data Scientists&lt;/a&gt;&lt;a class="anchor-link" href="#Docker-for-Data-Scientists"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;center&gt;
&lt;a href="https://bobbywlindsey.com/data-science/2018/07/16/docker-for-data-scientists/" target="_blank"&gt;
&lt;img src="images/digests/docker-flickr.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
很簡單地說明常見的 &lt;a href="https://www.docker.com/"&gt;Docker&lt;/a&gt; 術語以及使用 Docker 可以為資料科學家帶來的好處：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;節省建置開發 / 分析環境所需的時間&lt;/li&gt;
&lt;li&gt;增加可重現性（Reproducibility）&lt;/li&gt;
&lt;li&gt;抽象化作業系統（OS）的概念，再也沒有只能在 Mac 跑而不能在 Windows 跑的問題&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這篇提供非常初級的指令來開始在本機環境使用 Docker，可以嘗試看看。&lt;/p&gt;
&lt;p&gt;在 Smartnews 我則是使用 &lt;a href="https://aws.amazon.com/tw/ecs/"&gt;Amazon Elastic Container Service&lt;/a&gt; 來快速部署一些資料科學家們常會用到的分析工具，如大家的好朋友 &lt;a href="https://jupyterhub.readthedocs.io/en/stable/"&gt;Jupyter Hub&lt;/a&gt;、Airbnb 開發的 BI 工具 &lt;a href="https://github.com/apache/incubator-superset"&gt;Superset&lt;/a&gt;。之後有機會會另外撰文分享經驗。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Try-It-Yourself"&gt;Try It Yourself&lt;a class="anchor-link" href="#Try-It-Yourself"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Docker 讓我們可以快速重現其他人的分析環境或者是有趣的 application。如果你想馬上感受 Docker 的威力，可以看看我之前利用 &lt;a href="https://www.tensorflow.org/"&gt;Tensorflow&lt;/a&gt; 以及 &lt;a href="http://flask.pocoo.org/"&gt;Flask&lt;/a&gt; 實作的一個貓咪圖片辨識的 &lt;a href="https://github.com/leemengtaiwan/cat-recognition-app"&gt;Github repo&lt;/a&gt;（feat. &lt;a href="https://github.com/mnicnc404"&gt;CNC&lt;/a&gt;）：&lt;/p&gt;
&lt;center&gt;
&lt;a href="https://github.com/leemengtaiwan/cat-recognition-app" target="_blank"&gt;
&lt;img src="images/digests/cat-recog-cover.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;br/&gt;
&lt;a href="https://github.com/leemengtaiwan/cat-recognition-app" target="_blank"&gt;Cat Recognizer&lt;/a&gt;
       ：利用 Tensorflow, Flask 實作 App 並使用 Docker 快速與他人分享成果
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;雖然 &lt;a href="https://github.com/leemengtaiwan/cat-recognition-app"&gt;Github repo&lt;/a&gt; 上也有教學指南，想要最快速地在你的電腦上使用這個 App 的話，下載 &lt;a href="https://www.docker.com/"&gt;Docker&lt;/a&gt; 並開啟 Daemon 後，使用命令列輸入以下指令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;docker pull leemeng/cat
docker run -it -p &lt;span class="m"&gt;2468&lt;/span&gt;:5000 leemeng/cat
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;接著在瀏覽器輸入 &lt;code&gt;localhost:2468&lt;/code&gt; 應該就能開始使用了。如果你想多了解點 Docker，可以參考我寫的&lt;a href="https://leemengtaiwan.github.io/3-ways-you-can-leverage-the-power-of-docker-in-data-science-part-1-learn-the-basic.html"&gt;給資料科學家的 Docker 指南：3 種活用 Docker 的方式（上）&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;不過現在讓我們繼續看剩下的 2 篇好文章：）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="The-Democratization-of-Data-Science_1"&gt;&lt;a href="https://hbr.org/2018/07/the-democratization-of-data-science"&gt;The Democratization of Data Science&lt;/a&gt;&lt;a class="anchor-link" href="#The-Democratization-of-Data-Science"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;center&gt;
&lt;a href="https://hbr.org/2018/07/the-democratization-of-data-science" target="_blank"&gt;
&lt;img src="images/digests/jul18-27-833771544-Patricia-Toth-McCormick-1200x675.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;&lt;a href="https://hbr.org/"&gt;哈佛商業評論（Harvard Business Review, HBR）&lt;/a&gt;在這篇文章裏頭敘述為何不只是針對資料科學家，提升所有人的「資料素養」對一個企業來說是一件非常重要的事情。&lt;/p&gt;
&lt;p&gt;最明顯的優點是可以讓數據團隊專注在：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;解決更高層次的企業問題&lt;/li&gt;
&lt;li&gt;建立分析工具以加速所有部門的數據分析&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而不是處理每個部門的「資料瑣事」。&lt;/p&gt;
&lt;p&gt;這個議題並非只跟企業的管理階層相關。對一個資料科學家來說，想辦法利用資料工程（Data Engineering）等方式來自動化如「建立簡單儀表板」的工作，並教導各個部門實際的使用方式，可以讓你一勞永逸，避免永遠在處理非常瑣碎的「資料瑣事」，專著在更大的目標。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;你不會因為自己不是會計師就不遵守專案預算；你也不會因為不是資料科學家就不提升資料素養。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Data's-day-of-reckoning"&gt;&lt;a href="https://www.oreilly.com/ideas/datas-day-of-reckoning"&gt;Data's day of reckoning&lt;/a&gt;&lt;a class="anchor-link" href="#Data's-day-of-reckoning"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;center&gt;
&lt;a href="https://www.oreilly.com/ideas/datas-day-of-reckoning" target="_blank"&gt;
&lt;img src="images/digests/shower-of-sparks-3115784_1280.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
生活在數據驅動時代的我們或許都能感受到世界變化的快速。&lt;/p&gt;
&lt;p&gt;美國前首席資料科學家 &lt;a href="https://www.oreilly.com/people/15b77-dj-patil"&gt;DJ Patil&lt;/a&gt; 認為不管是資料科學、機器學習還是人工智慧領域，「道德倫理」以及「安全隱私」議題都應該越來越被重視。&lt;/p&gt;
&lt;p&gt;電腦科學（Computer Science）時代最著名的安全議題非 SQL 注入&lt;a href="https://zh.wikipedia.org/zh-hant/SQL%E8%B3%87%E6%96%99%E9%9A%B1%E7%A2%BC%E6%94%BB%E6%93%8A"&gt;（SQL Injection）&lt;/a&gt;莫屬了。如同這個議題，在數據驅動時代，我們也會面臨類似道德以及數據保護的議題，像是人工智慧模型產生具有偏見的預測、以及最近的 &lt;a href="https://zh.wikipedia.org/wiki/%E6%AD%90%E7%9B%9F%E4%B8%80%E8%88%AC%E8%B3%87%E6%96%99%E4%BF%9D%E8%AD%B7%E8%A6%8F%E7%AF%84"&gt;GDPR&lt;/a&gt; 等等。&lt;/p&gt;
&lt;p&gt;在教育方面，DJ Patil 認為我們應該教育下一代在數據處理時，應該遵守的準則並將其被納入課綱；以數據驅動的公司則需要將這些想法都納入企業文化，在招聘資料科學家的時候，除了考慮他 / 她的分析能力以外，也要評估道德倫理的部分。&lt;/p&gt;
&lt;p&gt;身為一個資料科學家，除了技術層面的提升，也應該稍微了解這些議題。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;We can build a future we want to live in, or we can build a nightmare. The choice is up to us.&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Pandas、SQL、Docker、資料素養的培養以及數據時代的道德倫理問題等等，這週我們也看了不少資料科學相關的文章，希望你有從這篇文章裡頭學到點東西。&lt;/p&gt;
&lt;p&gt;雖然因為篇幅關係沒辦法把所有實際的 Python 指令列在這邊，我希望透過摘要的方式能讓沒時間的你也能學習、初步地了解資料科學並進一步發現自己有興趣的地方鑽研。&lt;/p&gt;
&lt;p&gt;有時間的話我推薦實際閱讀這些文章（當然也可以閱讀其他你自己收藏的文章，也歡迎分享），也可以試試看我寫的 &lt;a href="https://github.com/leemengtaiwan/cat-recognition-app"&gt;Cat Recognizer&lt;/a&gt; 並留言跟我說說你的想法。&lt;/p&gt;
&lt;p&gt;之後一樣會定期更新，希望收到第一手消息的話可以點擊下面的訂閱。另外如果你有其他會對這篇文章有興趣的朋友，也請幫忙分享給他 / 她：）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;That's it for this week, stay tuned and happy data science!&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="文摘"></category><category term="Pandas"></category><category term="SQL"></category><category term="Docker"></category><category term="資料科學"></category></entry><entry><title>資料科學文摘 Vol.2 產品理解以及 DS / DE 之路</title><link href="https://leemengtaiwan.github.io/data-science-digest-volume-2.html" rel="alternate"></link><published>2018-08-03T14:20:00+09:00</published><updated>2018-08-03T14:20:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-08-03:/data-science-digest-volume-2.html</id><summary type="html">&lt;p&gt;這週一樣會透過導讀一些優質文章，讓讀者了解 3 個問題：為何一個專業的資料科學家需要具備「產品理解」？ 何謂「顧客流失分析」？ 我們該如何使用 Python（XGBoost）來建立簡單的預測模型以改善產品？ 此外，我們也將簡單介紹在資料科學領域中逐漸崛起的「資料工程師」，其職責以及專業跟「資料科學家」有何不同。最後也會分享一些與資料科學家/資料工程師相關的文章。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這週一樣會透過導讀一些優質文章，讓讀者了解 3 個問題：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;為何一個專業的資料科學家需要具備「產品理解」？ &lt;/li&gt;
&lt;li&gt;何謂「顧客流失分析」？ &lt;/li&gt;
&lt;li&gt;我們該如何使用 Python（XGBoost）來建立簡單的預測模型以改善產品？ &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;此外，我們也將簡單介紹在資料科學領域中逐漸崛起的「資料工程師」，其職責以及專精領域跟「資料科學家」有何不同。&lt;/p&gt;
&lt;p&gt;最後也會分享一些與資料科學家/資料工程師相關的文章。&lt;/p&gt;
&lt;p&gt;後文為了減少累贅，可能會穿插以下縮寫：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料科學家 = &lt;strong&gt;D&lt;/strong&gt;ata &lt;strong&gt;S&lt;/strong&gt;cientist = DS&lt;/li&gt;
&lt;li&gt;資料工程師 = &lt;strong&gt;D&lt;/strong&gt;ata &lt;strong&gt;E&lt;/strong&gt;ngineer  = DE&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另外有興趣了解此文摘緣由的讀者可以參考前篇：&lt;a href="https://leemengtaiwan.github.io/data-science-digest-volume-1.html"&gt;資料科學文摘 Vol.1 AutoML、Airflow 及 DAU&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;讓我們開始吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="本週閱讀清單"&gt;本週閱讀清單&lt;a class="anchor-link" href="#本週閱讀清單"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;ul&gt;
&lt;li&gt;產品理解&lt;ul&gt;
&lt;li&gt;&lt;a href="#Why-Data-Scientists-Must-Focus-on-Developing-Product-Sense"&gt;Why Data Scientists Must Focus on Developing Product Sense&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Product-Scientist-@-Medium"&gt;Product Scientist @ Medium&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Python、客戶流失預測&lt;ul&gt;
&lt;li&gt;&lt;a href="#Introduction-to-Churn-Prediction-in-Python"&gt;Introduction to Churn Prediction in Python&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DS / DE 相關&lt;ul&gt;
&lt;li&gt;&lt;a href="#Data-engineering:-A-quick-and-simple-definition"&gt;Data engineering: A quick and simple definition&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#How-To-Become-A-Data-Scientist-in-12-Months"&gt;How To Become A Data Scientist in 12 Months&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Infographic-&amp;ndash;-13-Common-Mistakes-Amateur-Data-Scientists-Make-and-How-to-Avoid-Them"&gt;Infographic &amp;ndash; 13 Common Mistakes Amateur Data Scientists Make and How to Avoid Them&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;就跟以往一樣，儘管下文會依照此順序列出文章與摘要，你仍然點擊上面的任意門，從最有興趣的文章開始閱讀：）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Why-Data-Scientists-Must-Focus-on-Developing-Product-Sense"&gt;&lt;a href="https://www.kdnuggets.com/2018/04/data-scientists-product-sense.html"&gt;Why Data Scientists Must Focus on Developing Product Sense&lt;/a&gt;&lt;a class="anchor-link" href="#Why-Data-Scientists-Must-Focus-on-Developing-Product-Sense"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;center&gt;
&lt;a href="https://www.kdnuggets.com/2018/04/data-scientists-product-sense.html" target="_blacnk"&gt;
&lt;img src="images/digests/customers-checking-products.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;作者闡述為何產品理解（Product Sense）對一個 DS 很重要，適合新手 DS 閱讀參考。&lt;/p&gt;
&lt;p&gt;通常在企業裡頭，一個資料科學家要發揮最大的影響力，就是透過手上的資料，產生可執行的洞見（Actionable Insight），進而影響產品（Product）的發展方向。不管我們做了多少分析、多少層的神經網路模型，或是產生多少特徵值（Features），如果最後這些產物沒有對產品的發展有任何影響，一切都白搭。&lt;/p&gt;
&lt;p&gt;我們可以透過深刻地了解自家產品（比方說使用自家的 App）、暸解競爭對手、與使用者直接溝通等方式，來培養「產品理解」。有了產品理解以後，甚至可以反過來幫助我們做特徵工程（Feature Engineering），知道在建立預測模型時什麼特徵會是重要的；還能培養從資料看不出來的敏銳直覺（intuition）。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;理解產品的 DS 能同時從資料看出的趨勢以及業界直覺來改善產品並解決人們問題。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在 &lt;a href="https://www.smartnews.com/en/"&gt;SmartNews&lt;/a&gt;，資料科學團隊也是在產品部門之下，與此有異曲同工之妙：）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Product-Scientist-@-Medium"&gt;&lt;a href="https://medium.com/@sall/product-scientist-ffd1ae846172"&gt;Product Scientist @ Medium&lt;/a&gt;&lt;a class="anchor-link" href="#Product-Scientist-@-Medium"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;center&gt;
&lt;a href="https://medium.com/@sall/product-scientist-ffd1ae846172" target="_blacnk"&gt;
&lt;img src="images/digests/1_EWD67PTS_fxBjWoZJ30oCA.png" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
Medium 的人說明他們在找的 Product Scientist 應該要有什麼特質：簡單來說就是有「產品理解」的 DS，能將資料轉換成更好的產品的人材。&lt;/p&gt;
&lt;p&gt;一個好的 DS 需要強大的溝通能力來向其他人說明洞見、了解 A/B 測試的統計顯著性（statistical significance）、以及能合理地解釋 KPI 成長的背後因素。以及最重要的：你渴望改善某個產品。&lt;/p&gt;
&lt;p&gt;最後一點大概是所有分析領域的人都不可或缺的：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;你要先對某個產品抱持著熱情，才會想方設法地找出洞見並改善它。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;不管是什麼領域的 DS，都要想辦法了解自家的產品，以提供可執行的洞見。反過來說，你應該選擇進入真的有興趣的公司 / 產業。老生常談：擇你所愛，愛你所擇。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Introduction-to-Churn-Prediction-in-Python"&gt;&lt;a href="https://www.datascience.com/blog/churn-prediction-python"&gt;Introduction to Churn Prediction in Python&lt;/a&gt;&lt;a class="anchor-link" href="#Introduction-to-Churn-Prediction-in-Python"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;center&gt;
&lt;a href="https://www.datascience.com/blog/churn-prediction-python" target="_blacnk"&gt;
&lt;img src="images/digests/churn-prediction-intro-2-407577-edited.png" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;這篇適合沒用過 XGBoost 也不熟悉 App 產業的讀者。&lt;/p&gt;
&lt;p&gt;此文主要解釋了何謂客戶流失（Customer Churn）、如何利用 Python 來建立一個簡單的 XGBoost 模型，以及如何對一個簡單的資料集做預測。&lt;/p&gt;
&lt;p&gt;就跟預測使用一個產品 / 服務的使用者人數相同，能準確預測有多少使用者會在什麼時候放棄使用某產品（Churn）這件事情，對了解一個產品（如手機 App）的發展趨勢是很重要的事情。如果我們把「預測使用者會不會放棄使用產品」這個問題視為一個二元分類問題：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 = 客戶流失，停止使用某產品&lt;/li&gt;
&lt;li&gt;0 = 客戶持續使用某產品&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;並使用如 XGBoost 等 tree-based 的模型的話，可以直接從模型中得到各個特徵的重要程度（Feature Importance），由此獲得改善產品功能的靈感 / 線索。這同時告訴我們一個重要的事情：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;除了準確度，選擇解釋性高的預測模型可以讓 DS 更容易解釋模型給決策者並影響企業決策。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;當然，如何定義何謂「客戶流失」就需要資料科學家掌握領域知識。另外值得注意的是，隨著產品功能的進化，客戶流失的定義也有可能跟著改變。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Data-engineering:-A-quick-and-simple-definition"&gt;&lt;a href="https://www.oreilly.com/ideas/data-engineering-a-quick-and-simple-definition"&gt;Data engineering: A quick and simple definition&lt;/a&gt;&lt;a class="anchor-link" href="#Data-engineering:-A-quick-and-simple-definition"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;center&gt;
&lt;a href="https://www.oreilly.com/ideas/data-engineering-a-quick-and-simple-definition" target="_blacnk"&gt;
&lt;img src="images/digests/data-metal-tubes-crop-22ff1fb1bba80c8258fc47980bd7694b.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;適合想成為資料工程師（DE）並對大數據處理有興趣的讀者。&lt;/p&gt;
&lt;p&gt;不同於我們之前以 DS 的角度討論&lt;a href="https://leemengtaiwan.github.io/why-you-need-to-learn-data-engineering-as-a-data-scientist.html"&gt;為何資料科學家需要了解資料工程&lt;/a&gt;，這篇直接以 DE 角度探討 DE 對企業的重要：處理大數據的能力。&lt;/p&gt;
&lt;p&gt;以各別負責的領域來區分的話，DS 通常負責從資料找出可執行的洞見，DE 則是負責資料管道的開發以及保證數據品質。 儘管一個 DS 也需要具備基本的 ETL 素養以及資料清理能力，這些分析專家能提供最大的價值是在找出洞見，而不是清理資料。&lt;/p&gt;
&lt;p&gt;因此稍具規模的公司都會尋找具備大數據處理能力（&lt;a href="https://zh.wikipedia.org/wiki/Apache_Spark"&gt;Spark&lt;/a&gt;、&lt;a href="https://flink.apache.org/"&gt;Flink&lt;/a&gt;、&lt;a href="https://kafka.apache.org/"&gt;Kafka&lt;/a&gt; 等）的 DE 來處理數據，以讓 DS 能更專注在商業分析。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;在資料科學領域越趨成熟的情況下， 我們需要更多 DE 與 DS 分工合作，以從海量數據中創造更大價值。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="How-To-Become-A-Data-Scientist-in-12-Months"&gt;&lt;a href="https://medium.com/@FreddieO/how-to-become-a-data-scientist-in-12-months-7e0deb51fac5"&gt;How To Become A Data Scientist in 12 Months&lt;/a&gt;&lt;a class="anchor-link" href="#How-To-Become-A-Data-Scientist-in-12-Months"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;center&gt;
&lt;a href="https://medium.com/@FreddieO/how-to-become-a-data-scientist-in-12-months-7e0deb51fac5" target="_blacnk"&gt;
&lt;img src="images/digests/1_Tcx7pHt5Jctu7tMrdztrcQ.jpeg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;這篇適合想開始學習資料科學的讀者作為參考。&lt;/p&gt;
&lt;p&gt;一個誤打誤撞，闖入資料科學世界的工程師述說他是如何從自學程式語言到成為一個資料科學家。列了一些他個人給新人的建議、不少線上課程以及值得追蹤的資料科學家們。&lt;/p&gt;
&lt;p&gt;雖然每個人際遇不同，看完這篇可以確定的是，想要成為一個資料科學家絕對不是學完幾堂線上課程就可以了。關鍵在於持續學習新知。（這道理當然可以套用到各行各業上）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Infographic-&amp;ndash;-13-Common-Mistakes-Amateur-Data-Scientists-Make-and-How-to-Avoid-Them"&gt;&lt;a href="https://www.analyticsvidhya.com/blog/2018/07/infographic-common-mistakes-amateur-data-scientists-make-how-avoid-them/"&gt;Infographic &amp;ndash; 13 Common Mistakes Amateur Data Scientists Make and How to Avoid Them&lt;/a&gt;&lt;a class="anchor-link" href="#Infographic-&amp;ndash;-13-Common-Mistakes-Amateur-Data-Scientists-Make-and-How-to-Avoid-Them"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;center&gt;
&lt;a href="https://www.analyticsvidhya.com/blog/2018/07/infographic-common-mistakes-amateur-data-scientists-make-how-avoid-them/" target="_blacnk"&gt;
&lt;img src="images/digests/13-common-mistake.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;一個簡單的資料圖表說明新手 DS 常犯的 13 個錯誤。&lt;/p&gt;
&lt;p&gt;每個項目值得一一查看，不過裡頭有幾點我認為值得特別強調：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料科學在於應用。總是要想著該怎麼實際應用學到的知識，而不是死記硬背。&lt;/li&gt;
&lt;li&gt;專注在能「解決什麼問題」，而不是該學什麼「工具」。&lt;/li&gt;
&lt;li&gt;業界想要解決的問題不是你在線上課程學到的那麼單純。要解決一個真正的企業問題，你還需要培養資料工程、領域知識（Domain Knowledge）以及良好的溝通能力。&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這週我們學到在分析任何數據之前，為何理解產品對一個資料科學家來說非常重要；我們也看到一個簡單利用 Python 嘗試預測顧客流失的案例；最後我們看到資料工程師的崛起以及閱讀了 2 篇跟資料科學相關的文章。&lt;/p&gt;
&lt;p&gt;程式能力以及分析能力固然重要，但對產品的理解、良好的溝通能力都是成為一個專業的 DS 不可不缺的能力。&lt;/p&gt;
&lt;p&gt;閱讀完之後如果有任何想法，或者有其他想推薦給其他讀者們閱讀的文章，都歡迎在底下留言跟其他讀者們分享。&lt;/p&gt;
&lt;p&gt;目前預計每週會發佈新文摘，不過當有別的系列文章要寫的話可能會順延一週。如果希望在新文摘出爐的時候馬上收到通知的話，可以點擊下面的訂閱：）&lt;/p&gt;
&lt;p&gt;Stay tuned and happy data science!&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="文摘"></category><category term="資料科學"></category><category term="資料工程"></category><category term="Python"></category></entry><entry><title>資料科學文摘 Vol.1 AutoML、Airflow 及 DAU</title><link href="https://leemengtaiwan.github.io/data-science-digest-volume-1.html" rel="alternate"></link><published>2018-07-29T18:00:00+09:00</published><updated>2018-07-29T18:00:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-07-29:/data-science-digest-volume-1.html</id><summary type="html">&lt;p&gt;這週介紹幾篇機器學習、資料工程及 App 分析的優質文章以及重點摘要，關鍵字包含：AutoML、Airflow 以及 DAU / MAU。希望讓更多人能更快地掌握資料科學領域的知識，找出自己有興趣的領域專研，並激盪出更多的討論。透過閱讀大量的相關文章並從它們學習及模仿，我們可以更快地，且有效率地成為一個稱職的資料科學家。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;作為「資料科學文摘」系列文的第一篇，在開始介紹一些優質的文章之前，請讓我稍微說明一下為何會有這系列文章的誕生。先說結論：我希望透過分享一些優質文章的重點摘要，讓更多人能更快地掌握資料科學領域的知識，找出自己有興趣的領域專研，並激盪出更多的討論。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="在開始閱讀之前"&gt;在開始閱讀之前&lt;a class="anchor-link" href="#在開始閱讀之前"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;或許所有職業皆如此，但個人認為資料科學家是前幾不「佛系」的一個職業，你需要擁有非常多知識來讓工作更為順利：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;特定程式語言如 Python、SQL 及 R 的使用方法&lt;/li&gt;
&lt;li&gt;統計分析方法&lt;/li&gt;
&lt;li&gt;建構資料管道（Data Pipeline）&lt;/li&gt;
&lt;li&gt;訓練並部署機器學習模型&lt;/li&gt;
&lt;li&gt;業界趨勢&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/digests/budda-data-scientist.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;當然，你也可以選擇當個佛系資料科學家（如果你知道有哪間企業在應徵，站內信 500 P）。&lt;/p&gt;
&lt;p&gt;不過身為一個（非佛系）資料科學家，我常需要閱讀大量的相關文章、新知，並且嘗試模仿文章內出現的演算法、分析手法，加以實踐並應用在自己的工作上。&lt;/p&gt;
&lt;p&gt;愛爾蘭詩人&lt;a href="https://zh.wikipedia.org/wiki/%E5%A5%A5%E6%96%AF%E5%8D%A1%C2%B7%E7%8E%8B%E5%B0%94%E5%BE%B7"&gt;奧斯卡．王爾德&lt;/a&gt; 曾說過一句&lt;a href="https://en.wikiquote.org/wiki/Talk:Oscar_Wilde"&gt;名言&lt;/a&gt;：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;You are what you read. - Oscar Wilde&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;以資料科學為例，你讀越多相關文章，你就越接近一個資料科學家。不管要精通什麼能力，最快的方式都是透過「模仿」專家怎麼做的。透過閱讀大量的相關文章並從它們學習及模仿，我們可以更快地，且有效率地成為一個稱職的資料科學家。&lt;/p&gt;
&lt;p&gt;以往我在閱讀完不錯的文章以後，都會在 &lt;a href="https://evernote.com/intl/zh-tw/"&gt;Evernote&lt;/a&gt; 裡頭寫重點摘要以供自己之後做參考、連結不同領域的知識。在回顧的時候節省了自己大量的時間。有鑑於現在越來越多人對資料科學有興趣，透過分享自己的文摘，希望能讓沒有什麼時間的人也能快速地了解新知，並進一步閱讀自己有興趣的文章。&lt;/p&gt;
&lt;p&gt;前言說得夠多了，讓我們來看看這週的文摘吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="本週分享：機器學習、資料工程及-App-分析"&gt;本週分享：機器學習、資料工程及 App 分析&lt;a class="anchor-link" href="#本週分享：機器學習、資料工程及-App-分析"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這週想分享 5 篇文章的文摘，大致上可分為三個主題。這週因為想一次分享 Rachel Thomas 在 &lt;a href="http://www.fast.ai/"&gt;fast.ai&lt;/a&gt; 談 AutoML 的三篇系列文章，機器學習的文章比例會佔得比較重。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;機器學習&lt;ul&gt;
&lt;li&gt;&lt;a href="#What-do-machine-learning-practitioners-actually-do"&gt;What do machine learning practitioners actually do&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#An-Opinionated-Introduction-to-AutoML-and-Neural-Architecture-Search"&gt;An Opinionated Introduction to AutoML and Neural Architecture Search&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Google's-AutoML:-Cutting-Through-the-Hype"&gt;Google's AutoML: Cutting Through the Hype&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;資料工程&lt;ul&gt;
&lt;li&gt;&lt;a href="#Airflow:-a-workflow-management-platform"&gt;Airflow: a workflow management platform&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;App 業界分析&lt;ul&gt;
&lt;li&gt;&lt;a href="#DAU/MAU-is-an-important-metric-to-measure-engagement,-but-here&amp;rsquo;s-where-it-fails"&gt;DAU/MAU is an important metric to measure engagement, but here&amp;rsquo;s where it fails&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;除了 AutoML 的系列文以外，閱讀順序不限：）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="What-do-machine-learning-practitioners-actually-do"&gt;&lt;a href="http://www.fast.ai/2018/07/12/auto-ml-1/"&gt;What do machine learning practitioners actually do&lt;/a&gt;&lt;a class="anchor-link" href="#What-do-machine-learning-practitioners-actually-do"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;center&gt;
&lt;a href="http://www.fast.ai/2018/07/12/auto-ml-1/" target="_blacnk"&gt;
&lt;img src="images/digests/automl_1.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;這篇介紹機器學習工程師平常在做些什麼，在理解這點以後，我們才知道中間有什麼地方可以自動化，以讓機器學習專案更有效率。&lt;/p&gt;
&lt;p&gt;一個完整的機器學習專案通常會包含這些步驟：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;理解企業脈絡&lt;/li&gt;
&lt;li&gt;清理＆準備資料&lt;/li&gt;
&lt;li&gt;訓練模型&lt;/li&gt;
&lt;li&gt;實際部署&lt;/li&gt;
&lt;li&gt;事後監控模型表現&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;針對每個步驟，文內都有進一步的項目細分以及解釋，推薦閱讀。儘管一個機器學習工程師不需要自己做所有步驟，了解它們會讓專案更為順利。&lt;/p&gt;
&lt;p&gt;就算是專業的研究者，訓練一個深度學習的模型也不是一件非常簡單的事情。而這是 AutoML 以及其子領域，神經結構搜索（neural architecture search）嘗試要解決的。 Google 甚至號稱「只要我們有現在的一百倍計算能力，就可以取代所有機器學習人才」。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="An-Opinionated-Introduction-to-AutoML-and-Neural-Architecture-Search"&gt;&lt;a href="http://www.fast.ai/2018/07/16/auto-ml2/"&gt;An Opinionated Introduction to AutoML and Neural Architecture Search&lt;/a&gt;&lt;a class="anchor-link" href="#An-Opinionated-Introduction-to-AutoML-and-Neural-Architecture-Search"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;center&gt;
&lt;a href="http://www.fast.ai/2018/07/16/auto-ml2/" target="_blacnk"&gt;
&lt;img src="images/digests/automl-headlines.png" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
神經結構搜索或者 AutoML 領域可以幫助我們在「訓練模型」這個步驟的時候，訓練並選擇出最好的超參數（Hyperparameters）。&lt;/p&gt;
&lt;p&gt;但如同上篇文所述，這通常只是機器學習專案的其中一小部分，資料科學家或機器學習相關人才並不會因此被全部取代且失業。&lt;/p&gt;
&lt;p&gt;現在 AutoML 是非常計算密集（Computation-intensive）的：拿大量的 GPU 計算能力換取研究員的時間。但沒有大量計算能力的人，等 Google 等大公司把最佳化的架構推出來再使用或許是一個比較實際的方案。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.groundai.com/project/darts-differentiable-architecture-search/"&gt;DARTS&lt;/a&gt; 也是 CMU 與 DeepMind 在嘗試解決「神經結構搜索」這個問題時提出的一個架構，不過他們的假設是所有可行的模型之間是「連續的」，因此可以用常見的「梯度學習」的方式找出最佳模型。這個概念使得他們所需要的計算資源大量減少，值得關注。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Google's-AutoML:-Cutting-Through-the-Hype"&gt;&lt;a href="http://www.fast.ai/2018/07/23/auto-ml-3/"&gt;Google's AutoML: Cutting Through the Hype&lt;/a&gt;&lt;a class="anchor-link" href="#Google's-AutoML:-Cutting-Through-the-Hype"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;center&gt;
&lt;a href="http://www.fast.ai/2018/07/23/auto-ml-3/" target="_blacnk"&gt;
&lt;img src="images/digests/sundar_pichai2.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
作者認為 Google 在推廣 AutoML 的主張：「我們需要更多計算能力來做神經架構搜尋」值得懷疑，因為就算我們能自動化搜尋出最好的神經模型架構，如何用這些模型解決真正的企業問題、如何實際部署並持續改善機器學習應用等課題，都需要人動腦筋來解決，而這部分還無法自動化。&lt;/p&gt;
&lt;p&gt;另外畢竟不是所有做機器學習的人都需要、且有（計算）能力使用神經架構搜尋來訓練自己的模型。但我們可以透過轉換學習（Transfer Learning）來使用已訓練過的模型（pre-trained model）來解決類似問題。與其想著自己也要做最夯的神經架構搜尋，不如多多善用如 Dropout、Batch Normalization 以及 ReLU Linear Unit 來強化模型的預測能力。&lt;/p&gt;
&lt;p&gt;不過 &lt;a href="https://colab.research.google.com/notebooks/welcome.ipynb"&gt;Google Colab Notebook&lt;/a&gt; 是不錯的免費計算資源，可以善加利用。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Airflow:-a-workflow-management-platform"&gt;&lt;a href="https://medium.com/airbnb-engineering/airflow-a-workflow-management-platform-46318b977fd8"&gt;Airflow: a workflow management platform&lt;/a&gt;&lt;a class="anchor-link" href="#Airflow:-a-workflow-management-platform"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;center&gt;
&lt;a href="https://medium.com/airbnb-engineering/airflow-a-workflow-management-platform-46318b977fd8" target="_blacnk"&gt;
&lt;img src="images/digests/airflow-example-python-operator.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;
資料科學家在進行各式各樣的分析前，首先需要做的事情通常是蒐集、整理並匯總各式各樣的資料來源以供分析。舉幾個例子：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;建立數據倉儲（Data Warehousing）&lt;/li&gt;
&lt;li&gt;做 A/B 測試的效果分析&lt;/li&gt;
&lt;li&gt;Sessionization：了解使用者在一個 session 裡頭的探訪的網頁、點擊的廣告等活動&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;為了做這些分析，資料團隊需要建立可靠的資料管道及 ETL，來確保有資料可供分析以及保證資料的品質。&lt;/p&gt;
&lt;p&gt;Airflow 是一個由 Airbnb 開發，以 Python 實作的工作流管理系統（Workflow Management System, WMS）。 Airflow 被設計來幫助資料科學家們專注在建構資料管道的邏輯，而不是擔心如果資料管道中間出了什麼差錯時該怎麼維護、重新啟動工作流。（Airflow 有會自己重試失敗工作、當失敗時通知工程師等方便功能）。&lt;/p&gt;
&lt;p&gt;Airflow 現在已經進入 &lt;a href="https://incubator.apache.org/"&gt;Apache 孵化器&lt;/a&gt;，前景可期。其作者 &lt;a href="https://medium.com/@maximebeauchemin"&gt;Maxime Beauchemin&lt;/a&gt; 在這篇用淺顯易懂的方式解說 Airflow，值得一看。手癢的朋友可以參考 &lt;a href="http://pythonhosted.org/airflow/start.html"&gt;Quickstart&lt;/a&gt; 以及 &lt;a href="http://pythonhosted.org/airflow/tutorial.html"&gt;Tutorial&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;SmartNews 也有在使用 Airflow，我也寫了一篇給新手看的 Airflow 的指南：「&lt;a href="https://leemengtaiwan.github.io/a-story-about-airflow-and-data-engineering-using-how-to-use-python-to-catch-up-with-latest-comics-as-an-example.html"&gt;一段 Airflow 與資料工程的故事：談如何用 Python 追漫畫連載&lt;/a&gt;」，你可以參考看看：）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="DAU/MAU-is-an-important-metric-to-measure-engagement,-but-here&amp;rsquo;s-where-it-fails"&gt;&lt;a href="https://andrewchen.co/dau-mau-is-an-important-metric-but-heres-where-it-fails/"&gt;DAU/MAU is an important metric to measure engagement, but here&amp;rsquo;s where it fails&lt;/a&gt;&lt;a class="anchor-link" href="#DAU/MAU-is-an-important-metric-to-measure-engagement,-but-here&amp;rsquo;s-where-it-fails"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;center&gt;
&lt;a href="https://andrewchen.co/dau-mau-is-an-important-metric-but-heres-where-it-fails/" target="_blacnk"&gt;
&lt;img src="images/digests/daumau-header.jpg" style="width:90%"/&gt;
&lt;/a&gt;
&lt;/center&gt;&lt;p&gt;多年前由 Facebook 開始使用，DAU / MAU 是一個 App 產業常用的指標，用來衡量使用者利用自家 App 的程度。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DAU：每天活躍人數（Daily Active Users）&lt;/li&gt;
&lt;li&gt;MAU：每月活躍人數（Monthly Active Users）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;DAU / MAU 則是這兩者的比例。可以想像當此比例越高，代表在每月活躍的使用者人數（MAU）中，每天活躍的人數（DAU）越高，可以說明使用者的黏著度越高。&lt;/p&gt;
&lt;p&gt;但這篇重點在於說明不同服務、產品因為本身性質的不同，並不都適合用這個指標。像是 Airbnb 這種公司，有些使用者每年可能只使用一次（活躍次數一年才一次），但一次的消費金額很驚人。以 DAU 的角度來看這種顧客的話價值不高，但使用者的生涯價值（Life Time Value）卻很高。&lt;/p&gt;
&lt;p&gt;雖然業界很常使用，不盲目使用 DAU / MAU 這個指標，而是依照自己的產品種類，選擇最能代表使用者價值的指標，並將其最大化才是上策。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;呼！以上就是這週的文摘內容了！儘管我們在這篇文摘裡頭只包含了 5 篇文章， 3 篇還是系列文，你應該也能感受到不同領域的知識在腦海中互相激盪吧！&lt;/p&gt;
&lt;p&gt;在整理這幾篇文章的重點時我學到不少，希望你也一樣。之後會定期更新，可以隨時回來看看有沒有新文章。如果懶得每天打卡，但希望在新文摘出來的時候馬上收到通知的話，可以點擊下面的訂閱。如果你在閱讀完後有其他感想，也歡迎跟我分享：）&lt;/p&gt;
&lt;p&gt;Stay tuned and happy data science!&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="文摘"></category><category term="資料科學"></category><category term="資料工程"></category><category term="機器學習"></category></entry><entry><title>資料科學家 L 的奇幻旅程 Vol.1 新人不得不問的 2 個問題</title><link href="https://leemengtaiwan.github.io/journey-of-data-scientist-L-part-1-two-must-ask-questions-when-on-board.html" rel="alternate"></link><published>2018-07-07T20:30:00+09:00</published><updated>2018-07-07T20:30:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-07-07:/journey-of-data-scientist-L-part-1-two-must-ask-questions-when-on-board.html</id><summary type="html">&lt;p&gt;為了讓有志成為資料科學家，或是單純想要了解的讀者們能理解資料科學是如何實際被企業應用，以及讓自己多一點反思的機會，趁著最近開始在 SmartNews 的新工作，我打算開始紀錄自己平常的工作內容以及一些經驗分享。作為系列文的第一篇文章，我們將探討一個資料科學家在進入新公司熟悉環境的時候，除了問該裝什麼工具以外，可以問的兩個重要問題。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;身為一個資料科學家，我平常會寫些相關領域的文章，像是&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://leemengtaiwan.github.io/demystify-the-hype-of-data-science-and-its-value.html"&gt;揭開資料科學的神秘面紗&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://leemengtaiwan.github.io/why-you-need-to-learn-sql-as-a-data-scientist.html"&gt;為何資料科學家需要學習 SQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://leemengtaiwan.github.io/data-visualization-from-matplotlib-to-ggplot2.html"&gt;淺談資料視覺化以及 ggplot2 實踐&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;它們都獲得不錯的迴響，我也得到不少很棒的回饋。&lt;/p&gt;
&lt;p&gt;不過如果只是介紹特定跟資料科學（Data Science，以下簡稱 DS）相關的工具或概念的話，我們可能會陷入「見樹不見林」的窘境：知道很多 DS 的知識，但卻不曉得這些知識是如何實際被運用在解決人們或是企業的問題。實際上我相信大多數企業的資料科學家在做的事情，並不像很多線上課程那麼單純；有時候你需要結合多種領域的知識，如資料工程、分析手法以及領域知識（Domain Knowledge）來解決一個商業問題。&lt;/p&gt;
&lt;p&gt;為了讓有志成為資料科學家，或是單純想要了解的讀者們能理解 DS 是如何實際被（企業）應用，以及讓自己多一點反思的機會，趁著最近開始在 &lt;a href="https://www.smartnews.com/en/"&gt;SmartNews&lt;/a&gt; 的新工作，我打算開始（不定期地）紀錄自己平常的工作內容以及一些經驗分享（當然，在不洩漏隱私資訊的前提下）。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/journal/green-chameleon-21532-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    我相信透過寫作，能讓更多人了解資料科學並幫助自己釐清重要概念
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這系列文章將以類似說故事（奇幻旅程，喔耶！）的手法，闡述我在 &lt;a href="https://www.smartnews.com/en/"&gt;SmartNews&lt;/a&gt; 遇到的一些挑戰，以及作為一名資料科學家（Data Scientist），我如何利用手邊各式各樣的工具以及手法來解決這些問題。透過問題導向（Problem-oriented）的方式，我希望能讓更多人理解 DS 是如何實際被應用在企業之中，進而思考自己該如何預先準備，減少進入這個領域的障礙。（歡迎分享你的想法！）&lt;/p&gt;
&lt;p&gt;在後面幾篇文章，我們將有機會深入探討一些分析手法、如何建置預測模型，以及建置可靠的資料流（Dataflow）。但在那之前可別忘了：「巧婦難為無米之炊」。我們才剛剛開始資料科學家的工作，就連筆電裡頭也是什麼軟體都還沒被安裝呢！&lt;/p&gt;
&lt;p&gt;因此在大展身手之前，在這篇文章我們將討論作為一個資料科學家，如何在開始第一個分析專案的同時，「有效率」地熟悉新環境。後面你將會發現，這個初始步驟看似瑣碎，卻能讓之後的工作進行地更為順利。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="熟悉環境-=-安裝軟體？"&gt;熟悉環境 = 安裝軟體？&lt;a class="anchor-link" href="#熟悉環境-=-安裝軟體？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;讓我們想像一下剛從 IT 管理部門手上拿到新筆電的情境。&lt;/p&gt;
&lt;p&gt;通常拿到公司配的新電腦以後，一個資料科學家會思考的幾個問題是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「我要在新電腦上面裝什麼軟體？」&lt;/li&gt;
&lt;li&gt;「公司的資料科學家們用什麼軟體？」&lt;/li&gt;
&lt;li&gt;「我要怎麼存取公司的資料？」&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/journal/markus-spiske-37176-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    面對一片空白的環境，我們的腦袋可不能也是一片空白
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這些問體的確很重要也很實際（practical），也是我當初能馬上想到的問題。但後面我們會看到，該安裝什麼軟體、該怎麼存取資料庫都是「熟悉環境」裏頭最簡單的部分。為什麼？&lt;/p&gt;
&lt;p&gt;因為通常 manager 會準備好一個清單告訴你該裝什麼，只要照著做就好了。這個清單當然會依照公司內部使用的技術而有所差異，但在大 Google 搜尋時代之下，要在自己的筆電安裝任何東西（應該）都不是太困難的事情。&lt;/p&gt;
&lt;p&gt;就算公司沒有給你清單，沒問題！事實上，我也不過就安裝了以下軟體：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.python.org/"&gt;Python&lt;/a&gt; &amp;amp; &lt;a href="https://www.anaconda.com/download/#macos"&gt;Anaconda&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.r-project.org/"&gt;R 語言&lt;/a&gt; &amp;amp; &lt;a href="https://www.rstudio.com/"&gt;RStudio&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://jupyter.org/"&gt;Jupyter Notebook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.docker.com/"&gt;Docker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.iterm2.com/"&gt;iTerm2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.jetbrains.com/pycharm/"&gt;PyCharm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.sourcetreeapp.com/"&gt;SourceTree&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;當然隨著專案的增加，你可能還會需要其他工具，但基本上沒有想像中的那麼多。有了開發/分析工具以後， IT 管理部門也會跟你說明該如何透過加密的方式，存取一些重要的資料庫以及伺服器。等到這些都搞定以後，理論上我們已經可以準備寫落落長的 SQL 查詢來結合多個資料庫的表格，並使用各種酷炫的 Python packages 進行分析了！&lt;/p&gt;
&lt;p&gt;不過在進行分析的同時，有一些問題值得我們花幾天慢慢地思考。這篇我想特別強調 2 個：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;公司內有什麼&lt;a href="https://zh.wikipedia.org/wiki/%E9%97%9C%E9%8D%B5%E7%B8%BE%E6%95%88%E6%8C%87%E6%A8%99"&gt;關鍵績效指標（KPI）&lt;/a&gt;？&lt;/li&gt;
&lt;li&gt;這些 KPI 是怎麼被產生並顯示在儀表板（Dashboard）上的？&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;你可能覺得這些事情看起來並不直接跟資料分析相關，但接下來你會看到，為何在進入公司早期就理解它們，對一個資料科學家來說很重要。首先讓我們看看第一個問題。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="公司內有什麼關鍵績效指標？"&gt;公司內有什麼關鍵績效指標？&lt;a class="anchor-link" href="#公司內有什麼關鍵績效指標？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;為什麼了解公司內有什麼關鍵績效指標（Key Performance Indicator, 後簡稱 KPI）很重要？&lt;/p&gt;
&lt;p&gt;因為這些 KPI 代表著一企業或團隊衡量成功的方式，同時也決定了資料科學家們將要努力的方向。沒有這些 KPI，我們將不能評估我們是不是走在對的路上，也不知道前進的速度。講得浮誇點，一個資料科學家能提供的最大價值就是：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;分析數據、從中找出洞見讓企業做出更好的決策，以在最短的時間內最大化 KPI&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;以這樣的角度來看，KPI 的概念就跟機器學習中的&lt;a href="http://terms.naer.edu.tw/detail/1316865/"&gt;目標函數（Objective Function）&lt;/a&gt;的概念相同，差別只在於我們是用電腦去最佳化目標函數；用人腦去最佳化企業的 KPI。&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/journal/carlos-muza-84523-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    資料科學家的工作說穿了，就是如何利用資料以及 DS 的力量，來最大化儀表板上的 KPI
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;因為 SmartNews 是一個新聞 APP，讓我們舉些&lt;a href="https://www.adweek.com/digital/top-12-key-performance-indicators-for-maximizing-mobile-app-revenue/"&gt;手機 APP 產業中常被使用的 KPI&lt;/a&gt; 為例：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;安裝次數（#Installs）&lt;/li&gt;
&lt;li&gt;每人平均使用時間（Session Time）&lt;/li&gt;
&lt;li&gt;瀏覽頁面數（#Page Views）&lt;/li&gt;
&lt;li&gt;每天活躍人數（#Daily Active Users）&lt;/li&gt;
&lt;li&gt;每月活躍人數（#Monthly Active Users）&lt;/li&gt;
&lt;li&gt;重度使用者人數（#Heavy Users）&lt;/li&gt;
&lt;li&gt;每日廣告營收（Ad Revenue Per Day）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;儘管相同產業可能用類似的 KPI，每家公司給的實際定義（Definition）可能有所出入。不同公司之間的定義有差異是正常的，但該定義合不合理就是另外一回事了。&lt;/p&gt;
&lt;p&gt;就跟我們訓練一個機器學習模型的時候會注意目標函數的定義是否合理一樣，在了解有什麼 KPI 以後，我們也應該積極地去詢問相關人員，了解這些 KPI 的定義是否合理。像是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;怎樣的行為可以算是完成安裝？是使用者第一次打開 APP 的瞬間算安裝，還是完成新手教學的時候呢？&lt;/li&gt;
&lt;li&gt;何謂活躍？使用者要做什麼操作才算活躍？打開 APP，更改設定就關掉也算活躍嗎？&lt;/li&gt;
&lt;li&gt;何謂重度使用者？過去一個月使用超過 7 天的人算嗎？&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/journal/william-stitt-224297-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    把握 onboarding 的機會，詢問所有你能質疑的問題
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如果 KPI 的定義不合理，糟一點的結果就是你的努力方向對了， KPI 卻沒有上升；更糟的結果則是你往錯的方向最佳化：錯誤的 KPI 提升了，你則沾沾自喜。儘管定義合適的 KPI 需要大量的領域知識，在剛開工的時候，你仍應該對現有的 KPI 做出適當的質疑，嘗試理解它們的合理性。&lt;/p&gt;
&lt;p&gt;現在假設 KPI 的定義沒有明顯問題，不管什麼公司都會希望能將這些 KPI 即時地顯示在儀表板上以方便監控自己的營運狀況。但如果一個 APP 的&lt;a href="http://about.smartnews.com/ja/2017/10/10/25million/"&gt;下載次數超過 2500 萬&lt;/a&gt;，每天產生上億筆使用者存取紀錄的話，幾個衍生出來的問題就是：KPI 該怎麼從這些原始資料產生出來的？如何保證中間沒有出錯？我們能信賴這些計算出來的值嗎？&lt;/p&gt;
&lt;p&gt;讓我們在下小節討論這個問題。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="儀表板上的-KPI-是怎麼產生的？"&gt;儀表板上的 KPI 是怎麼產生的？&lt;a class="anchor-link" href="#儀表板上的-KPI-是怎麼產生的？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;實作方式會依照公司有所不同，但讓我們以 SmartNews 為例。&lt;/p&gt;
&lt;p&gt;我們的儀表板是使用 &lt;a href="https://chartio.com/"&gt;CHARTIO&lt;/a&gt;，但基本上 CHARTIO 這種儀表板服務也只是一個 Web UI，它並不會自動幫我們把使用者的存取紀錄轉成 KPI。為了理解每天人們使用 APP 的情況，我們必須自己將所有網路伺服器（Web Servers）上的使用者存取紀錄（Log Data）做一系列的處理以後，轉變成儀表板上的 KPI。&lt;/p&gt;
&lt;p&gt;而一個使用者的使用行為大致上會經過以下幾個步驟轉變成 KPI：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用者打開 SmartNews App，手機客戶端向網路伺服器做出請求（Request）&lt;/li&gt;
&lt;li&gt;網路伺服器回傳結果，並將該請求紀錄存在自己的硬碟上&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.fluentd.org/"&gt;fluentd&lt;/a&gt; 搜集所有伺服器上的請求資料，將它們存到 &lt;a href="https://aws.amazon.com/tw/s3/"&gt;Amazon S3&lt;/a&gt; 上&lt;/li&gt;
&lt;li&gt;工作流管理系統 &lt;a href="https://airflow.apache.org/"&gt;Airflow&lt;/a&gt; 進行 Batch 處理，定期將被存到 S3 上的使用者存取紀錄轉成 &lt;a href="https://en.wikipedia.org/wiki/Apache_Hive"&gt;Apache Hive&lt;/a&gt; SQL 表格（Tables）&lt;/li&gt;
&lt;li&gt;CHARTIO 透過分散式 SQL 查詢引擎 &lt;a href="https://prestodb.io/"&gt;Presto&lt;/a&gt; 對該表格作查詢，顯示 KPI&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;從左到右來表示這個流程的話會如下圖：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/journal/smartnews-dmp.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://www.slideshare.net/smartnews/20160127-building-a-sustainable-data-platform-on-aws" target="_blank"&gt;SmartNews 的資料平台&lt;/a&gt;：將大量原始日誌資料轉成儀表板上有用的 KPI（當然不只用在顯示 KPI）
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;乍看之下，你可能會想：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「這看起來跟資料科學完全沒相關啊！」&lt;/li&gt;
&lt;li&gt;「我只要能存取關聯式資料庫（Relational Database）裡頭的表格不就好了？」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;沒錯，嚴格來說這是一個資料工程（Data Engineering）的問題。但正如我們在&lt;a href="https://leemengtaiwan.github.io/why-you-need-to-learn-data-engineering-as-a-data-scientist.html"&gt;資料科學家為何需要了解資料工程&lt;/a&gt;一文裡頭提到的，身為一個資料科學家，擁有資料工程的知識可以提升工作效率，點亮你的方向並加速專案前進。&lt;/p&gt;
&lt;p&gt;事實上，了解儀表板上的 KPI 是怎麼產生的，有以下幾個優點：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;理解工程師的痛點。能事先以他們的角度思考建立新表格所需的成本的話，他們會更願意幫你建立&lt;/li&gt;
&lt;li&gt;通常新的分析會需要新的 ETL，而你可以利用跟產生 KPI 一樣的 ETL 來產生自己的資料管道（Data Pipeline）&lt;/li&gt;
&lt;li&gt;確保資料品質。一旦使用的資料有瑕痴，做出來的分析也不會有意義。&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/journal/studio-314-270213-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    一個資料科學家會去了解企業內的資料是怎麼流動的，確保資料的品質並建立自己需要的資料流
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;最後一點尤其重要。在 SmartNews 的例子裡頭，資料科學家實際上想要分析的是「APP 使用者的存取行為」，而跟使用者行為最直接相關的其實是那些被存在網路伺服器上的 log。只是因為該資料量太大，我們必須建立資料管道做前處理，從大量原始資料中萃取、匯總出我們「可能」有興趣的資料存入關聯式資料庫供之後分析。&lt;/p&gt;
&lt;p&gt;以這種角度來看的話，資料彷彿是從網路伺服器（上游）經過一連串的河道（資料管道）流向資料庫（下游）。這也就暗示著兩個可能的風險：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料在經過河道的時候被污染，資料品質下降&lt;/li&gt;
&lt;li&gt;資料在經過河道的時候被限縮，有些有價值的資料沒辦法抵達下游&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;一個資料科學家如果只專注在下游的資料，就可能冒著以上的風險而不自知。這就是為什麼我們需要了解企業內的資料是如何流動的。&lt;/p&gt;
&lt;p&gt;資料的流動當然不限於 KPI 的產生，但我認為用這個問題：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「儀表板上的 KPI 是怎麼產生的？」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;來理解一個企業的資料流是一個很好的起始點。畢竟 KPI 是公司最重視的資訊，用來建構其的資料管道也會是最完善且重要的。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在這篇文章裏頭，我們討論了一個資料科學家在進入新公司熟悉環境的時候，除了問該裝什麼工具以外，可以問的兩個問題：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;公司內有什麼 KPI？&lt;/li&gt;
&lt;li&gt;儀表板上的 KPI 是怎麼產生的？&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;表面上看來是兩個再簡單不過的問題，實際上第一個問題跟業界的領域知識（Domain Knowledge）息息相關；第二個問題則牽涉到大量的資料工程專業。而透過深刻地思考這兩個問題並詢問相關人員，一個資料科學家可以更全面的理解企業並掌握大局觀，做出最有影響力的分析。&lt;/p&gt;
&lt;p&gt;當然，除了這兩個問題以外，你還需要問很多其他重要的問題如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;公司的資料文化如何？&lt;/li&gt;
&lt;li&gt;我在 Data Science 團隊裡頭的定位為何？&lt;/li&gt;
&lt;li&gt;many more ..&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但作為「資料科學家 L 的奇幻旅程」系列文的第一篇文章，為了避免累贅，我把這些問題留給你們（可以留言跟我說你覺得還有什麼問題重要！）&lt;/p&gt;
&lt;p&gt;最後的 Bonus 問題：為何是資料科學家「L」？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="資料科學"></category><category term="data-science"></category><category term="日誌"></category></entry><entry><title>從彼此學習 - 淺談機器學習以及人類學習</title><link href="https://leemengtaiwan.github.io/some-thought-on-learning-from-machine-learning.html" rel="alternate"></link><published>2018-06-16T17:20:00+09:00</published><updated>2018-06-16T17:20:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-06-16:/some-thought-on-learning-from-machine-learning.html</id><summary type="html">&lt;p&gt;說到近年最熱門的機器學習或者人工智慧，因為知識背景以及觀點的不同，幾乎每個人都有不一樣的見解。雖然我們有千百種定義、無數的專業術語，這篇文章希望用直觀的方式以及具體的例子，讓讀者能夠在跳入一大堆 ML 的教學文章以及線上課程之前，能以一個更高層次且人性化的角度理解機器學習，並進而思考要如何開啟自己的機器學習旅程。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;說到近年最熱門的機器學習（Machine Learning）或者人工智慧（Artificial Intelligence），因為知識背景以及觀點的不同，幾乎每個人都有不一樣的見解。雖然我們有千百種定義、無數的專業術語，這篇文章希望用直觀的方式以及具體的例子，讓讀者能夠在跳入一大堆 ML 的教學文章以及線上課程之前，能以一個更高層次且人性化的角度理解機器學習，並進而思考要如何開啟自己的機器學習旅程。&lt;/p&gt;
&lt;p&gt;不僅如此，你將發現機器學習並不是冷冰冰的科學，隨處可見人類的巧思；就算不是資料科學家，你也能從『機器學習』獲得啟發，將一些概念用在改善『自己的學習』。&lt;/p&gt;
&lt;p&gt;讓我們開始吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="目錄"&gt;目錄&lt;a class="anchor-link" href="#目錄"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#何謂機器學習"&gt;何謂機器學習&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#機器學習實例：智慧咖啡機"&gt;機器學習實例：智慧咖啡機&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#如何讓機器學得更好"&gt;如何讓機器學得更好&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#如何改善我們的學習"&gt;如何改善我們的學習&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#結語"&gt;結語&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="何謂機器學習"&gt;何謂機器學習&lt;a class="anchor-link" href="#何謂機器學習"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;多虧了媒體的大量宣傳，我們現在都知道&lt;a href="https://zh.wikipedia.org/wiki/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0"&gt;機器學習&lt;/a&gt;被應用在各個領域。一些常見的例子包含：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自然語言處理，如 Google 翻譯、iPhone 的 Siri 語音辨識&lt;/li&gt;
&lt;li&gt;推薦系統，如 Amazon 的&lt;a href="https://technews.tw/2016/07/17/amazon-page-system/"&gt;『買了這個商品的人同時也購買了 ...』功能&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;垃圾郵件自動判定，如同我們在&lt;a href="https://leemengtaiwan.github.io/intuitive-understandind-of-bayes-rules-and-learn-from-experience.html"&gt;《直觀理解貝氏定理及其應用》&lt;/a&gt;一文中談到的&lt;/li&gt;
&lt;li&gt;電腦視覺，如 &lt;a href="https://www.techbang.com/posts/58630-facebook-calls-users-to-upload-nude-photos-in-order-not-to-make-you-the-yan-zhao-door-lead"&gt;Facebook 的人臉辨識&lt;/a&gt;、Youtube 的影片推薦，影像分類&lt;a href="https://github.com/leemengtaiwan/cat-recognition-app"&gt;〈這張照片是貓還是狗？〉&lt;/a&gt;等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;例子不勝枚舉。有那麼多應用機器學習的例子，不禁讓人思考，究竟什麼是『機器學習』？&lt;/p&gt;
&lt;p&gt;依照目前機器學習的應用，一個大致上的定義是：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;讓機器學習如何將輸入的資料 X 透過一系列的運算，轉換成指定的輸出 y。並提供一個衡量成功的方式，讓機器知道怎麼修正學習方向。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;有了這個定義，讓我們再看一下上面提到的幾個例子：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自然語言處理：將得到的英文字串〈輸入〉，轉成中文文字〈輸出〉&lt;/li&gt;
&lt;li&gt;推薦系統：將使用者過去的購買記錄〈輸入〉，轉成使用者可能想要購買的商品列表〈輸出〉&lt;/li&gt;
&lt;li&gt;垃圾郵件判斷：將郵件內文〈輸入〉，轉成該郵件為垃圾信的機率〈輸出〉&lt;/li&gt;
&lt;li&gt;電腦視覺：將一個　400 x 400 像素的圖片，轉成多個標籤的機率〈輸出〉&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;a href="https://developers.google.com/machine-learning/practica/image-classification/" target="_blank"&gt;
&lt;img src="images/learn-from-machine/cat-image-classification.PNG" style="width:90%" title="Google Machine Learning Practica"/&gt;
&lt;/a&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://developers.google.com/machine-learning/practica/image-classification/" target="_blank"&gt;Google Machine Learning Practica&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;
&lt;br/&gt;
    Google 教你做影像分類，利用機器學習，將充滿著像素的圖片轉換成一個個標籤
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;嗯嗯，我想這定義還算合理。&lt;/p&gt;
&lt;p&gt;眼尖的讀者會發現，這邊的例子說明了上述定義的一半：將輸入 X 轉換成輸出 y。為了進一步解釋後半段『衡量成功的方式』，下面讓我們以一個虛構的咖啡機舉例。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="機器學習實例：智慧咖啡機"&gt;機器學習實例：智慧咖啡機&lt;a class="anchor-link" href="#機器學習實例：智慧咖啡機"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;假設你是個咖啡愛好者，家裡有好幾台高檔的咖啡機，但每次泡出來的咖啡都不合你胃口。&lt;/p&gt;
&lt;p&gt;經過無數的失敗，忍無可忍，你最後決定向月巴克公司買台『智慧』咖啡機。該咖啡機宣稱可以了解你的個人需求，泡出世界上最符合你胃口的咖啡。&lt;/p&gt;
&lt;p&gt;拆開咖啡機包裝，你興奮地把咖啡豆、砂糖以及牛奶加到該咖啡機裡頭。幾分鐘過後，號稱世界上最好喝的咖啡完成了！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/learn-from-machine/nolan-issac-38299-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;外觀看起來不錯，你滿懷期待地啜了一口。&lt;/p&gt;
&lt;p&gt;『太甜了吧！砂糖太多了，什麼鳥機器！』&lt;/p&gt;
&lt;p&gt;你怒吼著，幾乎馬上萌生退貨的想法。這時候咖啡機感應到你的抱怨，用很委屈的聲調說：&lt;/p&gt;
&lt;p&gt;『目前調配咖啡的方式為原廠設定。經過統計分析，要得到一個正常台灣人的最佳評分，平均一杯咖啡裡頭的咖啡豆顆數、砂糖匙數以及牛奶的小杯數的比例應該要是 10 比 2 比 3。』&lt;/p&gt;
&lt;p&gt;你只覺得莫名其妙，心想這什麼神奇的比例。而且咖啡機剛剛是在拐彎抹角地說我不正常嗎？&lt;/p&gt;
&lt;p&gt;這時候咖啡機又說話了：&lt;/p&gt;
&lt;p&gt;『為了做出最符合您口味的咖啡，滿分 100 的情況下，請按鈕輸入你認為此杯咖啡值幾分。另外請告訴我是哪邊出了問題，如糖份比例太高還是牛奶太多，以讓我能記住您的喜好。』&lt;/p&gt;
&lt;p&gt;你翻了個白眼，喝杯咖啡還要教機器怎麼調配？哪裡智慧了？&lt;/p&gt;
&lt;p&gt;但為了喝到最符合自己喜好的咖啡，你決定給咖啡機一個機會，好好地調教它。針對眼前這杯咖啡，你把自己的回饋〈評分、調配比例的建議：砂糖太多〉老老實實地輸入進去。&lt;/p&gt;
&lt;p&gt;於是乎就這樣，不知不覺中你已經與月巴克咖啡機一起踏上了調配世界上最好喝咖啡的學習之旅。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/learn-from-machine/david-charles-schuett-362484-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;為了實際了解咖啡機怎麼學習，你翻開咖啡機使用手冊，看到以下內容：&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;《月巴克智慧咖啡機說明指南》&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基本假設；使用者評分 = 使用者滿意程度&lt;/li&gt;
&lt;li&gt;預測使用者給咖啡的評分 &lt;code&gt;y'&lt;/code&gt; = &lt;code&gt;w1&lt;/code&gt; * 咖啡豆顆數 + &lt;code&gt;w2&lt;/code&gt; * 砂糖匙數 + &lt;code&gt;w3&lt;/code&gt; * 牛奶小杯數 + 基本分 &lt;code&gt;b&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;目標：找出一組調配比重 &lt;code&gt;w1, w2, w3, b&lt;/code&gt;，使得咖啡機預測的評分 &lt;code&gt;y'&lt;/code&gt; 越接近實際的使用者評分 &lt;code&gt;y&lt;/code&gt; 越好&lt;/li&gt;
&lt;li&gt;咖啡製作：使用上述比重調配咖啡，使得預測評分 &lt;code&gt;y'&lt;/code&gt; 接近 100&lt;/li&gt;
&lt;li&gt;各原料調配比重〈原廠設定〉： &lt;code&gt;w1 = 10, w2 = 2, w3 = 3, b = 60&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;...&lt;/p&gt;
&lt;hr/&gt;
&lt;p&gt;你恍然大悟，原來月巴克公司為了讓咖啡機最大化你給咖啡的評分，在咖啡機裡頭建構了一個簡單的&lt;a href="https://zh.wikipedia.org/wiki/%E7%B7%9A%E6%80%A7%E5%9B%9E%E6%AD%B8"&gt;線性回歸〈Linear Regression〉&lt;/a&gt;模型。&lt;/p&gt;
&lt;p&gt;在這模型裡頭，使用者針對一杯咖啡的評分 &lt;code&gt;y&lt;/code&gt; 會受到多個原料的量的影響。每個原料量的影響程度則透過個別的 &lt;code&gt;w&lt;/code&gt; 來描述。理想上，如果咖啡機可以找出一組比重〈weights〉 &lt;code&gt;w&lt;/code&gt; ，使得咖啡機『預測』出來的評分 &lt;code&gt;y'&lt;/code&gt; 跟『實際』使用者給的評分 &lt;code&gt;y&lt;/code&gt; 非常相近的話，咖啡機就可以利用該模型來合理地選擇咖啡豆、砂糖以及牛奶的量，調配出一杯預期能獲得你最高評分的咖啡。&lt;/p&gt;
&lt;p&gt;那咖啡機要如何實際『學習』呢？ 或者換句話說，咖啡機要怎麼樣知道它現在用的參數〈&lt;code&gt;w1&lt;/code&gt;、&lt;code&gt;b&lt;/code&gt;等〉夠不夠好呢？如果不夠好的話，要怎麼修正呢？&lt;/p&gt;
&lt;p&gt;在一開始完全沒有任何使用者回饋的時候，咖啡機可以很合理地使用原廠設定來計算使用者評分 &lt;code&gt;y'&lt;/code&gt;。等到你輸入了一些評分 &lt;code&gt;y&lt;/code&gt; 以後，將所有從你得到的評分 &lt;code&gt;y&lt;/code&gt; 跟咖啡機自己預測的 &lt;code&gt;y'&lt;/code&gt; 做比較，看咖啡機做的預測評分跟你的給分差了多少，據此修正原料的比重 &lt;code&gt;w&lt;/code&gt; 以及 &lt;code&gt;b&lt;/code&gt;。&lt;code&gt;y'&lt;/code&gt;跟&lt;code&gt;y&lt;/code&gt;的差異讓我們暫時稱作 &lt;code&gt;diff_y&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;修正以後，一般來說我們會得到新的比重　&lt;code&gt;w'&lt;/code&gt; 以及 &lt;code&gt;b'&lt;/code&gt;。當咖啡機使用 &lt;code&gt;w'&lt;/code&gt; 以及 &lt;code&gt;b'&lt;/code&gt;產生新的預測評分 &lt;code&gt;y''&lt;/code&gt;，其跟你的實際給分 &lt;code&gt;y&lt;/code&gt; 也會有一個差距，我們則將其稱作為 &lt;code&gt;diff_y'&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;當使用新的參數〈&lt;code&gt;w1&lt;/code&gt;、&lt;code&gt;b&lt;/code&gt;等〉產生的 &lt;code&gt;diff_y'&lt;/code&gt; 比原來的 &lt;code&gt;diff_y&lt;/code&gt; 來小的時候，我們就能很開心地表示：『這咖啡機幹得真不錯！學到了點東西，能更準確地找出我的喜好！』。&lt;/p&gt;
&lt;p&gt;而在每次獲得你回饋的時候重複上述步驟，咖啡機不斷地修正它用來預估你給咖啡分數的參數，讓預測出來的值 &lt;code&gt;y'&lt;/code&gt; 跟你過去所有評分 &lt;code&gt;y&lt;/code&gt; 之間的差異都更小。雖然我們這邊不會細講，但在線性回歸裡頭，一個常被用來計算預測值 &lt;code&gt;y'&lt;/code&gt; 跟實際值 &lt;code&gt;y&lt;/code&gt; 差異的方式是&lt;a href="https://zh.wikipedia.org/wiki/%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98%E6%B3%95"&gt;最小平方法〈Least Squares〉&lt;/a&gt;：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;diff_y = 針對每次使用者的評分 y，機器利用當下的參數產生相對應的 y' 以後，用兩者計算 (y' - y) 的平方並加總它們
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;你可以看到，當 &lt;code&gt;diff_y&lt;/code&gt; 越小，代表咖啡機越能準確地依據目前的原料量，來預測你會給咖啡的評分。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/learn-from-machine/daryan-shamkhali-89504-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;咖啡機學得很快。經過幾個怒吼以及失望的夜晚，透過你給的回饋，它現在做出的咖啡已經能很穩定地讓你給出 90 分以上的評價。&lt;/p&gt;
&lt;p&gt;透過詢問咖啡機，你現在知道，為了獲得你的高評價，咖啡機學到了以下的模型：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;你給咖啡的評分 = 咖啡豆顆數 * 13 + 砂糖匙數 * 1.2 + 牛奶小杯數 * 1.5 + 基本分 40 分&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這跟一開始為了滿足所有人的原廠設定相比，還差真不少：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一般使用者評分 = 咖啡豆顆數 * 10 + 砂糖匙數 * 2 + 牛奶小杯數 * 3 + 基本分 60 分&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;依照你過去的回〈ㄊㄧㄠˊ〉饋〈ㄐㄧㄠˋ〉，咖啡機發現跟一般人相比，咖啡豆量對你來說，是一杯咖啡好不好喝的重要指標〈13 vs 10〉，砂糖跟牛奶量則反而顯得沒那麼重要。而從基本分來看，咖啡機甚至學到你對咖啡的要求程度比一般人要來得嚴格〈40 vs 60〉，實實在在地說明機器了解你是個專業的咖啡愛好者。&lt;/p&gt;
&lt;p&gt;現在再讓我們看一次前面定義的機器學習：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;讓機器學習如何將輸入的資料 X 透過一系列的運算，轉換成指定的輸出 y。並提供一個衡量成功的方式，讓機器知道怎麼修正學習方向。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;經過上面的咖啡機例子，我們能清楚地歸納出以下幾點：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;咖啡機是在進行機器學習，學習如何用一連串運算，將原物料的量〈咖啡豆顆數等〉&lt;code&gt;X&lt;/code&gt; 轉換成使用者評分 &lt;code&gt;y&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;機器學習裡所謂的一系列運算，在咖啡機的例子裡是進行線性回歸，即 &lt;code&gt;y = w * x + b&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;咖啡機衡量成功的方式是計算『預測評分 &lt;code&gt;y'&lt;/code&gt; 跟實際評分 &lt;code&gt;y&lt;/code&gt; 之間的差異大小』，此差異越小，代表學得越好&lt;/li&gt;
&lt;li&gt;衡量成功的方法很重要，因為咖啡機可以知道『努力/學習的方向』&lt;/li&gt;
&lt;li&gt;咖啡機透過反覆地修正參數，進而最小化上述差異，成功地『學習』&lt;/li&gt;
&lt;li&gt;機器學習是學習一組最符合目標的『參數』〈如基本分的 &lt;code&gt;40&lt;/code&gt;、咖啡豆顆數的 &lt;code&gt;13&lt;/code&gt;〉&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我們可以總結說，咖啡機在你給的回饋以及監督之下，想辦法從三種原料〈咖啡豆、砂糖、牛奶〉中，『學習』出一個最棒的調配比例，以做出一杯能得到你最高評價的咖啡。在機器學習領域裡頭，這實際上被稱作&lt;a href="https://zh.wikipedia.org/wiki/%E7%9B%A3%E7%9D%A3%E5%BC%8F%E5%AD%B8%E7%BF%92"&gt;監督式學習〈Supervised Learning〉&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;太棒了，你跟月巴克咖啡機從此過著幸福美滿的日子‧&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="如何讓機器學得更好"&gt;如何讓機器學得更好&lt;a class="anchor-link" href="#如何讓機器學得更好"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如果你閱讀完上面例子，開始思考以下問題：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;『除了原物料的量以外，或許還可以搜集其他類型的資料，像是咖啡機主人的性別、年齡甚至泡咖啡的時間，然後把它們加到模型裡頭以提高預測評分的準度？』&lt;/li&gt;
&lt;li&gt;『除了簡單的線性回歸，我們應該也可以用其他更複雜的模型或演算法來預測使用者的評分？』&lt;/li&gt;
&lt;li&gt;『與其預測使用者評分，能不能建立新的模型，直接預測使用者喜好？』&lt;/li&gt;
&lt;li&gt;『如果咖啡機得到更多我的回饋資料，是不是會更準？』&lt;/li&gt;
&lt;li&gt;『我的喜好會隨很多因素如時間做改變，要怎麼讓咖啡機模擬這情況？』&lt;/li&gt;
&lt;li&gt;『這咖啡機學到最後，是不是只能產生適合我口味的咖啡，而不能產生大家都喜歡的咖啡？』&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我得說聲恭喜，你已經擁有機器學習的思維且準備好進入機器學習的殿堂了。&lt;/p&gt;
&lt;p&gt;但在你摩拳擦掌，準備進入殿堂時，有些人可能會跟你說，近年因為機器學習在各領域發展神速，且機器能使用的訓練資料〈Training Data〉也越來越多，&lt;a href="https://zh.wikipedia.org/wiki/%E5%BC%B7%E4%BA%BA%E5%B7%A5%E6%99%BA%E6%85%A7"&gt;強人工智慧〈Strong AI〉&lt;/a&gt;很快就會出現。不久的未來，我們甚至也不用自己設計演算法以及模型，A.I.會自動幫我們全部做好。也就是：機器會自己讓機器學得更好。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/learn-from-machine/strong-ai.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    當強人工智慧出現以後，或許人類就不再被需要了。因為機器會自己讓機器學得更好。
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;真的嗎？沒有人能真正的預測未來，所以我們無從知曉。&lt;/p&gt;
&lt;p&gt;但至少在接下來幾年，要讓機器學習或者人工智慧再繼續進步，『人類的思考』是不可或缺的重要因素。主要體現在兩個地方：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;機器並沒有意識判斷『為什麼』以及何謂『對的方向』&lt;/li&gt;
&lt;li&gt;機器的世界觀是人類教的&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="機器並沒有意識判斷『為什麼』以及何謂『正確』"&gt;機器並沒有意識判斷『為什麼』以及何謂『正確』&lt;a class="anchor-link" href="#機器並沒有意識判斷『為什麼』以及何謂『正確』"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;電腦因為有著強大的記憶以及運算能力，在很多任務上面都已經可以超越人類的表現。&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/learn-from-machine/image-classification-history.PNG" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://chtseng.wordpress.com/2017/11/20/ilsvrc-%E6%AD%B7%E5%B1%86%E7%9A%84%E6%B7%B1%E5%BA%A6%E5%AD%B8%E7%BF%92%E6%A8%A1%E5%9E%8B/" target="_blank"&gt;ILSVRC 歷屆的深度學習模型&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;近年電腦視覺〈Computer Vision〉領域發展快速，機器學習在影像分類〈Image Classification〉的表現已經超越人眼。
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;&lt;p&gt;但能達到這樣的成果的前提，都是因為有人類在設計模型、監督機器學習。&lt;/p&gt;
&lt;p&gt;目前機器學習或是 A.I. 的應用其背後的模型，當你去看裡頭一行行的程式碼的時候，裡頭並不會定義『為什麼』要做這些任務。實際上，在機器學習的過程中，機器並沒有意識到為什麼要做這些任務；而如果沒有人類的介入的話，機器也不會自己定義什麼樣的結果叫做『成功』或『正確』，而也就不知道該往什麼方向學習。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;該讓機器學習什麼&lt;/li&gt;
&lt;li&gt;怎麼定義『正確/成功』，讓機器遵從並往該方向改善&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這兩件事情只有依靠人類來做決定。而其決定將大大地影響機器學習的成果以及品質。機器不會跟你說：&lt;/p&gt;
&lt;p&gt;『我覺得把影片裡面的貓咪識別出來，比識別出交通號誌燈來得重要。』&lt;/p&gt;
&lt;p&gt;『喔... 我覺得我們學的方向怪怪的，讓我們往這個方向學習如何？』&lt;/p&gt;
&lt;p&gt;一個定義出錯的目標函式〈Objective Function〉將永遠無法讓機器學出我們想要的結果。&lt;/p&gt;
&lt;p&gt;針對這點，我們應該：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;找出值得解決的問題，下定我們的目標並明確定義何謂『正確』，以讓機器往該方向學習。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="機器的世界觀是人類教的"&gt;機器的世界觀是人類教的&lt;a class="anchor-link" href="#機器的世界觀是人類教的"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;第二點應該也不難理解。一個機器的世界觀基本上取決於兩點：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;人類指定使用的模型〈Model〉&lt;/li&gt;
&lt;li&gt;餵給它的資料〈Data〉&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如同前面咖啡機的線性回歸，我們透過一個簡單的線性模型，教會咖啡機看世界。在咖啡機所認知的世界裡頭，使用者的評分就只會受到三種原物料量的影響：咖啡豆、砂糖及牛奶。這是一個非常簡單的世界，方便我們理解機器學習，但在真實世界上基本上不會成功運作，你需要考慮更多因素。&lt;/p&gt;
&lt;p&gt;如同我們前面有提到，你可能會思考以下問題：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;『我的喜好會隨很多因素如時間做改變，要怎麼讓咖啡機模擬這情況？』&lt;/li&gt;
&lt;li&gt;『除了原物料的量以外，或許還可以搜集其他類型的資料，然後把它們加到模型裡頭以提高預測評分的準度？』&lt;/li&gt;
&lt;li&gt;『除了簡單的線性回歸，我們應該也可以用其他更複雜的模型或演算法來預測使用者的評分？』&lt;/li&gt;
&lt;li&gt;『這咖啡機學到最後，是不是只能產生適合我口味的咖啡，而不能產生大家都喜歡的咖啡？』&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/learn-from-machine/ricardo-resende-692381-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    我們怎麼看世界，將直接影響機器怎麼看世界。
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;事實上你已經在思考如何擴充機器的世界觀了。你可以使用各式各樣的模型、更多的資料以讓機器能用更全面的方式來理解這個世界。而這個新的世界觀只能由你來定義。&lt;/p&gt;
&lt;p&gt;〈現在的〉機器不會突然跟你說：&lt;/p&gt;
&lt;p&gt;『嗯... 我覺得我們應該考慮泡咖啡時有沒有下雨，因為這可能會嚴重地影響使用者心情，進而影響評分。』&lt;/p&gt;
&lt;p&gt;『我只依照你的評分做最佳化，可能會有&lt;a href="https://zh.wikipedia.org/wiki/%E9%81%8E%E9%81%A9"&gt;過適&lt;/a&gt;問題喔！』&lt;/p&gt;
&lt;p&gt;這些問題都是我們必須自己發現並解決，不能只期待機器自動解決〈至少這幾年〉。在機器學習領域裡頭，最怕的不是模型完全不行，而是上述的&lt;a href="https://zh.wikipedia.org/wiki/%E9%81%8E%E9%81%A9"&gt;過適〈Overfitting〉&lt;/a&gt;問題：機器所看到的資料本身太過侷限，導致其雖然只看到真實世界的一小部分，就誤以為那是全世界。換句話說，機器裡存在著強烈的偏見〈bias〉。前陣子常聽到的案例是&lt;a href="https://www.theguardian.com/technology/2017/dec/04/racist-facial-recognition-white-coders-black-people-police"&gt;白人設計出來的臉部辨識模型對黑人有偏見&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;以我們咖啡機的例子來說，如果你家裡只有你一人，咖啡機只需要服務你一人即好；但如果你們是一個家庭，家裡的人都希望咖啡機能為它們弄出好喝的咖啡，則每個人都需要給予咖啡機回饋，以讓咖啡機了解每個人喜好。如果仍然只有你一個人給予咖啡機回饋，其他人不給分，則咖啡機會以為得到的評分來自所有人，誤以為只要最佳化這些評分，就能滿足所有人，其實不然。&lt;/p&gt;
&lt;p&gt;為了讓機器看得更遠更全面，我們應該：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;想辦法在機器學習的模型內融入更多我們的直觀想法〈intuition〉，並讓機器看到更全面的資料，以拓展機器的『世界觀』。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="如何改善我們的學習_1"&gt;如何改善我們的學習&lt;a class="anchor-link" href="#如何改善我們的學習"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;閱讀到此，相信你對機器學習已經有個高層次的理解了。&lt;/p&gt;
&lt;p&gt;在對機器學習有個基本的了解以後，我們在前面章節提到為了讓機器學得更好，一個可行的方向是將我們的直觀想法、世界觀轉換成機器可以運算的模型或是目標函式，以讓機器能從聰明的我們身上學習。但換個角度思考，在我們教機器『學習』的時候，應該也能從機器『學習』到什麼才對。&lt;/p&gt;
&lt;p&gt;事實上，很多我們應用在機器學習領域的想法，緊密地跟我們的個人生活息息相關。&lt;/p&gt;
&lt;p&gt;舉個例子，在機器學習中，過適〈Overfitting〉是我們最想要避免的問題。我們不會希望機器只學到事物的表象，或者受到 outliers 的影響，而是希望機器學到更重要的模式〈Pattern〉、趨勢〈Trend〉。所以研究者們透過各種方式來讓機器不要過適：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;輸入更多資料&lt;/li&gt;
&lt;li&gt;用更簡單的模型&lt;/li&gt;
&lt;li&gt;減輕 outliers 的比重&lt;/li&gt;
&lt;li&gt;正規化〈Normalization〉&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而當機器成功地學到了事物的本質，就能精準地預測未來並且概括所有情況〈Generalize〉：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;預測股票漲幅&lt;/li&gt;
&lt;li&gt;預測誰最後會當上總統&lt;/li&gt;
&lt;li&gt;預測詐騙交易&lt;/li&gt;
&lt;li&gt;預測一張照片裡頭有什麼物件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;畢竟，一個只看過貓跟狗照片的機器，不管未來看到什麼，就算是汽車或是人類，也只會將視它們為一定程度的貓或者是狗。&lt;/p&gt;
&lt;p&gt;知名心理學家&lt;a href="https://zh.wikipedia.org/wiki/%E4%BA%9A%E4%BC%AF%E6%8B%89%E7%BD%95%C2%B7%E9%A9%AC%E6%96%AF%E6%B4%9B"&gt;馬斯洛&lt;/a&gt;曾&lt;a href="https://www.brainyquote.com/authors/abraham_maslow"&gt;說過&lt;/a&gt;：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;如果你只有一個槌子，你可能就會把每個問題都視為釘子。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/learn-from-machine/tr-veler-671730-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    不管學習的是機器還是人類，學會概括〈Generalize〉並避免過適〈Overfitting〉是最重要的課題。
    &lt;br/&gt;
    手中只有槌子的人，什麼問題都看起來像釘子。
    &lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;同樣道理可以應用在人類的學習上。&lt;/p&gt;
&lt;p&gt;當我們只注重在參加各式各樣的線上深度學習〈Deep Learning〉課程，而不去了解機器學習背後的原理就是一種過適；當我們掙扎著要用 Python 還是 R 畫漂亮的圖，而不去理解為何要這樣畫，才能讓觀眾更容易理解時也是一種過適。更不用說一個只了解&lt;a href="https://zh.wikipedia.org/zh-hant/决策树"&gt;決策樹〈Decision Tree〉&lt;/a&gt;的同學，看到什麼問題都會想要用決策樹來解的案例了。&lt;/p&gt;
&lt;p&gt;學習表象比較簡單沒錯，但不能帶你走很遠。了解趨勢或者模式則讓你看到未來：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;卓越的歷史學家忽視單一歷史事件，透過了解世界整體的歷史脈絡來預測未來&lt;/li&gt;
&lt;li&gt;愛因斯坦觀察到世界的運作原理而推出有名的質能轉換公式 &lt;code&gt;E = mc&amp;sup2;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;好的學習方式是理解事物背後的運作的趨勢、模式。為何我們要機器學習？為什麼深度學習會崛起？注重在詢問更多的『為什麼』以理解事物本質。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;從一些已經被應用在機器學習的概念獲得啟發，我們可以重新思考並改善我們人類自己的學習。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;我們在這篇文章前半段以一個虛構的智慧咖啡機為例，深入探討機器學習的一些基本但十分的重要概念以及運作方式。&lt;/p&gt;
&lt;p&gt;在掌握機器學習的基本概念以後，我們討論了如何以『人』為本，融入我們人類的智慧以讓機器更聰明地學習、了解這個世界。接著，我們用了一點篇幅，討論了看似不相關的『人類學習』以及『機器學習』之間一個共同且最重要的核心目標：『學習如何去概括〈Generalize〉事物並避免過適〈Overfitting〉』。&lt;/p&gt;
&lt;p&gt;現在機器學習〈尤其是深度學習〉跟其他學術領域如統計、電腦科學相比，是一個相對新的領域，大家都還在摸索階段。但正如當年新興的程式設計已經普遍被重視，甚至加入國高中教育一般，我想再過幾年，等機器學習更為成熟後，人們也會開始呼籲將『機器學習』領域的知識納入課綱，成為我們下一代的基本素養之一。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/learn-from-machine/andy-kelly-402111-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    未來教育模式的改變：
    &lt;br/&gt;
    或許『機器學習』會如同『程式設計』素養一般，成為下一代必備的基本知識素養之一
    &lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;或許那就是本篇所提到的『從機器學習中學習』。&lt;/p&gt;
&lt;p&gt;但在那時代到達之前，讓我們開心〈機器〉學習吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="機器學習"></category><category term="machine learning"></category></entry><entry><title>從經驗中學習 - 直觀理解貝氏定理及其應用</title><link href="https://leemengtaiwan.github.io/intuitive-understandind-of-bayes-rules-and-learn-from-experience.html" rel="alternate"></link><published>2018-05-25T15:30:00+09:00</published><updated>2018-05-25T15:30:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-05-25:/intuitive-understandind-of-bayes-rules-and-learn-from-experience.html</id><summary type="html">&lt;p&gt;貝氏定理（Bayes' theorem）是機率論中，一個概念簡單卻非常強大的定理。有了機率論的存在，人們才能理性且合理地評估未知事物發生的可能性（例：今天的下雨機率有多少？我中樂透的可能性有多高？），並透過貝氏定理搭配經驗法則來不斷地改善目前的認知，協助我們做更好的決策。這篇將利用生活上我們（或人工智慧）常需要考慮的事情當作引子，如今天的下雨機率是多少？來直觀地了解貝氏定理是怎麼被應用在各式各樣的地方。我們甚至可以效仿貝氏定理的精神，讓自己能更理性地評估未知並從經驗中學習。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://zh.wikipedia.org/wiki/%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86"&gt;貝氏定理（Bayes' theorem）&lt;/a&gt;是機率論中，一個概念簡單卻非常強大的定理。有了機率論的存在，人們才能理性且合理地評估未知事物發生的可能性（例：今天的下雨機率有多少？我中樂透的可能性有多高？），並透過貝氏定理搭配經驗法則來不斷地改善目前的認知，協助我們做更好的決策。&lt;/p&gt;
&lt;p&gt;英國數學家&lt;a href="https://zh.wikipedia.org/wiki/%E5%93%88%E7%BD%97%E5%BE%B7%C2%B7%E6%9D%B0%E5%BC%97%E9%87%8C%E6%96%AF"&gt;哈羅德&amp;middot;傑弗里斯&lt;/a&gt;甚至&lt;a href="https://en.wikipedia.org/wiki/Bayes%27_theorem#cite_note-1"&gt;說過&lt;/a&gt;：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;貝氏定理之於機率論，就像是畢氏定理之於幾何學。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;因為其簡單且強大的特性，被廣泛應用在醫療診斷以及機器學習等領域。網路並不缺貝氏定理的教學文章，但多數以&lt;a href="https://zh.wikipedia.org/wiki/%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86"&gt;機率公式&lt;/a&gt;出發，不夠直觀（至少以我個人來說），就算理解了也不易內化成自己的知識。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/bayes/Bayes_Theorem_MMB_01.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://commons.wikimedia.org/w/index.php?curid=14658489" target="_blank"&gt;貝氏定理公式&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;喔喔喔感覺到數學的力量了嗎？
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;因此這篇將利用生活上我們（或&lt;a href="https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD"&gt;人工智慧&lt;/a&gt;）常需要考慮的事情當作引子，如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;今天的下雨機率是多少？&lt;/li&gt;
&lt;li&gt;這封 email 是垃圾郵件的可能性有多高？&lt;/li&gt;
&lt;li&gt;醫生說我得癌症了，這可靠度有多高？（好吧，或許這沒那麼常發生）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;來直觀地了解貝氏定理是怎麼被應用在各式各樣的地方。我們甚至可以效仿貝氏定理的精神，讓自己能更理性地評估未知並從經驗中學習。&lt;/p&gt;
&lt;p&gt;廢話不多說，讓我們開始吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="今天會下雨嗎？"&gt;今天會下雨嗎？&lt;a class="anchor-link" href="#今天會下雨嗎？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在實際說明貝氏定理的公式把你嚇跑之前，讓我們先做個簡單的假想實驗來說明貝氏定理的精神。&lt;/p&gt;
&lt;p&gt;假設大雄一早準備出門跟靜香見面，正在考慮要不要帶傘出門。&lt;/p&gt;
&lt;p&gt;起床的時候他想：&lt;/p&gt;
&lt;p&gt;「這地區不太會下雨，不需要帶傘吧！」&lt;/p&gt;
&lt;p&gt;往窗外一看，大雄眉頭一皺，發現烏雲密佈。&lt;/p&gt;
&lt;p&gt;「痾有烏雲，感覺下雨機率上升了，但好懶得帶傘 .. 先吃完早餐再說吧。」&lt;/p&gt;
&lt;p&gt;走到廚房，發現餐桌上一大堆螞蟻在開趴。&lt;/p&gt;
&lt;p&gt;「依據老媽的智慧，螞蟻往屋內跑代表&lt;a href="http://news.ltn.com.tw/news/local/paper/715319"&gt;下雨機率又提升了&lt;/a&gt;。真的不得不帶傘了嗎 .. 不不不！我不要帶好麻煩！」&lt;/p&gt;
&lt;p&gt;想著想著，這時候靜香打電話過來了：&lt;/p&gt;
&lt;p&gt;「胖虎說他也要去喔！」「蛤你說什麼！？」&lt;/p&gt;
&lt;p&gt;胖虎是有名的雨男，每次跟他出遊都會下雨。依照這個經驗以及前面看到的幾個現象，最後大雄放棄掙扎，帶著雨傘出門了。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/bayes/andy-grizzell-543812-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在上面的例子中，大雄觀察到三個現象：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;烏雲密佈&lt;/li&gt;
&lt;li&gt;螞蟻開趴&lt;/li&gt;
&lt;li&gt;胖虎出沒&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;依據他過往的經驗，這些現象都會使得降雨的機率提升，讓他逐漸改變剛起床的時候「今天不太會下雨」的想法，最後決定帶傘出門。&lt;/p&gt;
&lt;p&gt;這個決策的轉變過程，其實就是貝氏定理的精神：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;針對眼前發生的現象以及獲得的新資訊，搭配過往經驗，來修正一開始的想法。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;實際上，大雄已經在腦海中進行了多次貝氏定理的運算而不自知（我家大雄哪有那麼聰明）。現在讓我們用比較數學的方式來重現大雄腦海中的運算。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="讓我們帶點數字進去"&gt;讓我們帶點數字進去&lt;a class="anchor-link" href="#讓我們帶點數字進去"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在了解貝氏定理的目的以後，讓我們以&lt;a href="https://zh.wikipedia.org/wiki/%E5%8F%91%E7%94%9F%E6%AF%94"&gt;發生比（odds）&lt;/a&gt;的方式來闡述定理。發生比很簡單，就只是列出兩個（或以上）的事件分別（可能）發生的次數。&lt;/p&gt;
&lt;p&gt;使用發生比的好處是可以很容易地比較不同事件發生的相對次數。後面會看到，我們也能把發生比轉成機率。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;假設依據過往氣象紀錄，大雄住的地區一年 365 天中有 270 天放晴，下雨的天數為 365 - 270 = 95 天。則下雨的發生比為：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;雨天數：晴天數 = 95：270
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;你可以把發生比想像成是一種相對關係，上面這個發生比代表，在大雄所住的地區，每觀測到 95 個雨天的日子，我們同時會觀測到 270 個晴天。晴天約是雨天的三倍之多（270 / 95）。&lt;/p&gt;
&lt;p&gt;轉換成機率來看的話，就是把雨天的天數，去除以所有天數：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;95 / (95 + 270) = 0.26 = 26%
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;一年也就只有 26% 的降雨機會，這也是為何大雄一開始在還沒觀察到新現象（烏雲、螞蟻及胖虎）的時候，合理認為今天「應該」不會下雨的原因。&lt;/p&gt;
&lt;p&gt;我們再繼續假設，依據大雄的過往經驗，他發現：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;雨天時，早上烏雲密佈的頻率是晴天時出現烏雲的 9 倍&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這個 9 倍是怎麼來的呢？&lt;/p&gt;
&lt;p&gt;這其實是所謂的&lt;a href="https://en.wikipedia.org/wiki/Likelihood_ratios_in_diagnostic_testing"&gt;概度比（likelihood ratio）&lt;/a&gt;。分別計算雨天及晴天發生的情況下，出現「烏雲密佈」現象的機率以後，再將兩者相除：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;雨天時烏雲密佈的機率 = P(烏雲|雨天）
-------------------------------
晴天時烏雲密佈的機率 = P(烏雲|晴天）
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;這兩個機率又被稱為&lt;a href="https://zh.wikipedia.org/wiki/%E6%9D%A1%E4%BB%B6%E6%A6%82%E7%8E%87"&gt;條件機率（conditional probability）&lt;/a&gt;。一般 &lt;code&gt;P(A|B)&lt;/code&gt; 代表在事件 B 發生的情況下，事件 A 發生的機率。&lt;/p&gt;
&lt;p&gt;假設平均來看，在 10 個雨天裡頭，早上烏雲密佈的天數為 9 天（也就是說平均有 1 天的雨天是早上沒有烏雲密佈的），則我們可以說，「給定雨天的條件下，烏雲密佈」的機率是：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;P(烏雲|雨天） = 9 / 10
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;另外在 10 個晴天裡頭，早上烏雲密佈的天數平均為 1 天（也就是說早上雖然烏雲密佈，但最後並沒有下雨的天數），則「給定晴天的條件下，烏雲密佈」的機率是：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;P(烏雲|晴天） = 1 / 10
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;則烏雲密佈的概度比即為：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;P(烏雲|雨天）    9 / 10
-----------  = --------- = 9
P(烏雲|晴天）    1 / 10
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;雖然「概度比」一詞很饒舌，但它就是一個比例，也就是「幾分之幾」的概念。 9 就是「一分之九」＝ 9 倍，而因為分母是「晴天」，你可以解讀這個 9 為&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「在烏雲密佈發生的情況下，每觀測到 1 個晴天，就會同時觀測到 9 個雨天」。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;也可以像是大雄觀察到的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「雨天時，早上烏雲密佈的頻率是晴天時出現烏雲的 9 倍」。&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/bayes/cloudy-field-2.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    經驗告訴我們，早上烏雲密佈的情況下，該天是雨天的機率就隨著上升
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="貝氏定理初顯鋒芒"&gt;貝氏定理初顯鋒芒&lt;a class="anchor-link" href="#貝氏定理初顯鋒芒"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;所以有了這個倍數可以做什麼？直覺及經驗告訴我們，在觀測到烏雲密佈的前提下，下雨機率理論上會有所提升。&lt;/p&gt;
&lt;p&gt;換句話說，在烏雲密佈，且觀測到的晴天數不變的情況下，觀測到的雨天數應該要有所上升，這樣下雨的天數在所有天數裡頭的比例才會上升。&lt;/p&gt;
&lt;p&gt;而其上升的倍數就是前面的概度比（ 9 倍）。因此在烏雲密佈發生的情況下，新的下雨發生比（odds）可以寫成：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;新雨天數：晴天數 = 原雨天數 * 概度比：晴天數
　　　　　　　　 =   95   *   9   ： 270
　　　　　　　　 =       855      ： 270
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;新的下雨發生比是我們利用觀測到的現象重新計算的，因此一般稱為「事後發生比」（posterior odds）；而一開始的發生比則被稱為「事前發生比」（prior odds）。&lt;/p&gt;
&lt;p&gt;事後發生比告訴我們，在烏雲密佈的情況下，每觀測 855 個雨天，就會同時觀測到 270 個晴天。跟事前發生比相反，現在雨天數反而超過晴天的三倍（855 /　270）。&lt;/p&gt;
&lt;p&gt;要計算新的下雨機率，我們一樣把雨天數去除以所有天數：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;855 / (855 + 270) = 0.76 = 76%
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;跟一開始的 26% 相比，在觀測到烏雲密佈這個現象以後，下雨的機率足足上升了 50 個百分點，現在我們有更充分的理由請大雄帶把傘了。&lt;/p&gt;
&lt;p&gt;實際上，透過上面的計算，我們已經套用貝氏定理的公式了（&lt;a href="https://betterexplained.com/articles/understanding-bayes-theorem-with-ratios/"&gt;發生比版本&lt;/a&gt;）：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;事後發生比 = 概度比 * 事前發生比&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如同大雄的例子，一般應用貝氏定理的情境如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;對一件未知事物有初步的猜測（事前發生比）&lt;/li&gt;
&lt;li&gt;觀測到跟該事物相關的現象&lt;/li&gt;
&lt;li&gt;利用先前跟該現象有關的經驗計算出概度比&lt;/li&gt;
&lt;li&gt;利用概度比修正該猜測，得到修正後結果（事後發生比）&lt;/li&gt;
&lt;li&gt;重新評估、做決策&lt;/li&gt;
&lt;li&gt;又觀察到新現象，重複步驟 3 到 5 &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;透過貝氏定理，我們可以很快速地利用過去的經驗改善自己的想法，並產生更好的決策。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="大雄不死心：單純貝式"&gt;大雄不死心：單純貝式&lt;a class="anchor-link" href="#大雄不死心：單純貝式"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;雖然觀察到了烏雲密佈，且利用過往經驗修正下雨的機率到了 76%，懶惰的大雄一開始還是不想帶傘出去。但為何最後還是帶傘出門了呢？那是因為除了烏雲密佈以外，他還觀察到了其他兩個影響下雨機率的現象：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;螞蟻開趴&lt;/li&gt;
&lt;li&gt;胖虎出沒&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;貝氏定理本身雖然強大，但其中一個使它被廣泛利用的是&lt;a href="https://zh.wikipedia.org/wiki/%E6%9C%B4%E7%B4%A0%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%88%86%E7%B1%BB%E5%99%A8"&gt;單純貝式（Naive Bayes）&lt;/a&gt;的概念：假設不同現象之間出現的機率為&lt;a href="https://zh.wikipedia.org/wiki/%E7%8B%AC%E7%AB%8B_(%E6%A6%82%E7%8E%87%E8%AE%BA"&gt;獨立&lt;/a&gt;)。&lt;/p&gt;
&lt;p&gt;設成獨立有什麼好處？事情變得很簡單，我們不用考慮現象 A 跟現象 B 之間的關聯性，能針對每個現象，分別去計算概度比，修正從「前面」的現象得到的結果，持續改善我們的認知。也就是上一節提到的貝氏定理的應用步驟 6。&lt;/p&gt;
&lt;p&gt;如法炮製，讓我們假設大雄針對其他兩個現象的經驗是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;雨天時，螞蟻出現在室內的天數是晴天的 2 倍&lt;/li&gt;
&lt;li&gt;雨天時，胖虎出遊的次數是晴天的 3 倍&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;讓我們再次套用貝氏定理，但這次不是套用在一開始什麼都不知道的事前發生比：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;雨天數：晴天數 = 95：270
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;而是在觀察到烏雲密佈後的事後發生比：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;烏雲密佈下的雨天數：晴天數 = 855：270
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;首先，讓我們套用跟螞蟻相關的經驗：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;雨天時螞蟻出現在室內的天數是晴天的 2 倍&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;概度比已經算好，所以依照貝氏定理的公式：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;事後發生比 = 概度比 * 事前發生比&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;新的（螞蟻）事後發生比為：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;新雨天數：晴天數 = 原雨天數 * 概度比：晴天數
　　　　　　　　 =   855  *   2   ： 270
　　　　　　　　 =      1710      ： 270
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;下雨的機率則提升為：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;1710 / (1710 + 270) = 0.86 = 86%
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;比起只有烏雲密佈，在螞蟻也出現的情況下，降雨機率又提升了接近 10%。大雄是一個降雨機率不大於 90% 就不帶傘的傢伙，讓我們看看胖虎出沒能不能使他改變心意。&lt;/p&gt;
&lt;p&gt;同樣，再次套用定理到上一個（螞蟻的）發生比，則新的（胖虎）事後發生比為：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;新雨天數：晴天數 = 原雨天數 * 概度比：晴天數
　　　　　　　　 =  1710  *   3   ： 270
　　　　　　　　 =      5130      ： 270
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在轉換成機率之前，我們發現新的雨天數是晴天數的 10 倍以上，因此可以想像新的機率至少是 90% 以上。而實際計算下雨的機率：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;5130 / (5130 + 270) = 0.95 = 95%
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在觀察到烏雲密佈、螞蟻以及胖虎出沒以後，大雄預估降雨機率上升至 95%，這下不得不帶傘出門了。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/bayes/eddy-klaus-33079-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
重複套用貝氏定理以修正想法的過程就像是在創作：把眼前所有所見（顏料）一個一個納入考量，做出最後的判斷（作品）
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="動動腦時間"&gt;動動腦時間&lt;a class="anchor-link" href="#動動腦時間"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;到了這邊，我相信你現在應該已經可以在腦中直觀地運用貝氏定理：針對眼前發生的現象，運用過去相關的經驗（計算概度比），來理性地評估某事件可能發生的機率。&lt;/p&gt;
&lt;p&gt;事實上在你繼續讀下去之前，我建議先停一停，思考幾個可以實際在生活中運用（或者已經在用）此定理的現象，以幫助你內化（internalize）這些概念。&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/bayes/neonbrand-618322-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;&lt;p&gt;如果你一時想不到點子，這邊提供幾個例子：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;email 內文裡頭出現「週年慶」時，該郵件為垃圾信的機率&lt;/li&gt;
&lt;li&gt;新聞內文出現「柯文哲」時，文章主題為政治的機率&lt;/li&gt;
&lt;li&gt;&lt;a href="https://zh.wikipedia.org/wiki/%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%AE%9A%E7%90%86"&gt;醫生說你得胰腺癌&lt;/a&gt;時，你真的得病的機率&lt;/li&gt;
&lt;li&gt;玩&lt;a href="https://zh.wikipedia.org/wiki/%E8%8B%B1%E9%9B%84%E8%81%94%E7%9B%9F"&gt;英雄聯盟&lt;/a&gt;時，&lt;a href="https://baike.baidu.com/item/kDa/20623453"&gt;KDA&lt;/a&gt; 超過 4 的對手排位是鑽石以上的機率&lt;/li&gt;
&lt;li&gt;在東京藥妝店血拼，旁邊講中文的人是台灣人的機率&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果你有其他有趣的例子，歡迎留言跟大家分享。（現在留言不用登入了！）&lt;/p&gt;
&lt;p&gt;如同上述，貝氏定理有非常多應用。不過這邊想深入探討第一個 email 的案例：給定一封電子郵件的內文，你要怎麼判斷該信是不是垃圾信件？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="從人腦到電腦：讓機器幫我們做判斷"&gt;從人腦到電腦：讓機器幫我們做判斷&lt;a class="anchor-link" href="#從人腦到電腦：讓機器幫我們做判斷"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/bayes/spam.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    一個典型的垃圾郵件內文
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;你說沒有什麼事情難得了我們人腦。依照過往經驗：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;垃圾信件裡頭出現「週年慶」一詞的機會是一般信件的 20 倍&lt;/li&gt;
&lt;li&gt;垃圾信件裡頭出現「折扣」一詞的機會是一般信件的 10 倍&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在假設所有信件裡頭一半是垃圾信件（發生比 1：1）的前提下，依照單純貝氏的公式，這封信是垃圾信件的可能性上升 200 倍（20 * 10），我們可以放心把這封信丟入垃圾信分類。&lt;/p&gt;
&lt;p&gt;但是沒有人會想要在腦中對每封信做這個運算。人類是懶惰的，能自動化的東西就請電腦幫我們解決就好了。&lt;/p&gt;
&lt;p&gt;另外你也不可能記得每一個詞的倍數，實際上也沒有必要。只要讓電腦幫我們記住每個詞分別在垃圾郵件以及一般信件出現的次數，就能計算所有詞彙的概度比（odds）。&lt;/p&gt;
&lt;p&gt;等到一封新的信件來以後，找出裡頭的字對應的倍數做相乘以後，電腦就能自動分類郵件了。事實上這就是&lt;a href="https://zh.wikipedia.org/wiki/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0"&gt;機器學習&lt;/a&gt;中&lt;a href="https://zh.wikipedia.org/wiki/%E6%9C%B4%E7%B4%A0%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%88%86%E7%B1%BB%E5%99%A8"&gt;單純貝氏分類器（Naive Bayes Classifier）&lt;/a&gt;在做的事情。&lt;/p&gt;
&lt;p&gt;讓機器取代人腦自動判斷，有幾個顯而易見的好處：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;判斷速度倍增&lt;/li&gt;
&lt;li&gt;記憶能力超強&lt;/li&gt;
&lt;li&gt;（可以把分類郵件空出的時間拿去看貓咪影片）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;唷呼！垃圾郵件自動變不見！小鎮村又變得更美好了。&lt;/p&gt;
&lt;p&gt;當然你想自己實作單純貝氏分類器的話，Python 可以使用 &lt;a href="http://scikit-learn.org/stable/modules/naive_bayes.html"&gt;scikit-learn&lt;/a&gt; 來實作。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="小心！你的經驗可靠嗎？"&gt;小心！你的經驗可靠嗎？&lt;a class="anchor-link" href="#小心！你的經驗可靠嗎？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;我們花了很長的篇幅講了幾個貝氏定理/單純貝氏的應用，也看到它既簡單又強大的特性。但在你摩拳擦掌並實際應用此定理的時候，有幾點需要注意：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不同現象/事件真的獨立嗎？&lt;/li&gt;
&lt;li&gt;一開始的猜測以及經驗可靠嗎？&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;很多現象不一定是完全獨立而是相關的。不過一個常見的解決方法是想辦法增加更多的現象/事件/特徵值（features）來讓做出來的貝氏分類器比較可靠。貝氏定理當然不完美，但正如統計學家&lt;a href="https://www.google.co.jp/search?q=George+E.+P.+Box&amp;amp;rlz=1C5CHFA_enJP695JP700&amp;amp;oq=George+E.+P.+Box&amp;amp;aqs=chrome..69i57j69i60&amp;amp;sourceid=chrome&amp;amp;ie=UTF-8"&gt;喬治&amp;middot;E&amp;middot;P&amp;middot;博克斯&lt;/a&gt;&lt;a href="https://en.wikipedia.org/wiki/All_models_are_wrong"&gt;所說&lt;/a&gt;：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;所有模型（models）都是錯的；但有些是有用的。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;儘管「獨立」這個假設在某些情況下不合常理，但在如垃圾郵件分類等問題上，貝氏分類器有不錯的表現。而且重點是它實作簡單，可以拿來當作 baseline。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;而一開始的猜測跟經驗可不可靠這個問題，英國數學家&lt;a href="https://zh.wikipedia.org/wiki/%E5%8D%A1%E5%B0%94%C2%B7%E7%9A%AE%E5%B0%94%E9%80%8A"&gt;卡爾&amp;middot;皮爾森&lt;/a&gt;，針對貝氏定理則給出一個我很愛的&lt;a href="https://en.wikipedia.org/wiki/Talk%3ABayesian"&gt;名言&lt;/a&gt;：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;一個信奉貝氏定理的人常常做這樣的事情：模糊地期待著馬的出現，瞥見驢子的蹤影，強烈地相信他是見到了一匹駝子。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;「先入為主」大概是應用貝氏定理最忌諱的點了。下次再套用定理時，記得先思考自己一開始的假設以及經驗是否值得信任或者有什麼盲點。需不需要搜集更多資料來修正一開始的想法。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/bayes/tim-mossholder-603227-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    我真的是驢子不是駝子啊！（豆知識：駝是馬跟驢生下的動物）
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="總結"&gt;總結&lt;a class="anchor-link" href="#總結"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;我們在這篇開頭首先用「大雄評估下雨」的例子來直觀地理解貝氏定理背後的精神，接著透過簡單的數學概念、發生比（odds）以及概度比（likelihood ratio）來推出基本的貝氏定理公式。&lt;/p&gt;
&lt;p&gt;接著進一步延伸至單純貝氏（naive bayes）的概念，讓機器透過過去累積的資訊，為我們自動分類垃圾郵件。&lt;/p&gt;
&lt;p&gt;最後我們提到一些應用貝氏定理需要注意的事情。&lt;/p&gt;
&lt;p&gt;即使基本的貝氏定理不難，延伸的領域非常的廣。這篇沒辦法包含所有範圍，但希望透過這篇基礎介紹，能讓讀者能利用貝氏定理的概念，更理性地評估未知並從經驗中學習（或者是建立自己的貝氏分類器）。&lt;/p&gt;
&lt;p&gt;另外如果你有其他有趣的例子可以應用在貝氏定理，歡迎留言跟大家分享。（現在留言不用登入了！）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="貝氏定理"></category><category term="機率"></category><category term="機器學習"></category></entry><entry><title>揭開資料科學的神秘面紗</title><link href="https://leemengtaiwan.github.io/demystify-the-hype-of-data-science-and-its-value.html" rel="alternate"></link><published>2018-05-11T21:10:00+09:00</published><updated>2018-05-11T21:10:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-05-11:/demystify-the-hype-of-data-science-and-its-value.html</id><summary type="html">&lt;p&gt;市面上有大量資料科學相關課程、書籍供我們自由學習，但你有想過為何我們需要學習資料科學嗎？為什麼資料科學現在那麼夯？我們應該拿資料科學來做什麼？抽離技術實作或者分析手法的討論，這篇文章試著用簡單的經濟學解釋其背後原因。希望閱讀完本文的讀者能了解為何資料科學在資訊時代扮演重要角色，以及我們要怎麼有效率地把握「資料科學力」以創造更大的價值。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;幾乎每天我們都能看到跟資料科學（Data Science）相關的新聞與文章，像是最近 &lt;a href="https://www.bnext.com.tw/article/49070/google-ai-phone-call-assistant-duplex-ethical-social-implications"&gt;Google 利用遞迴神經網路建立可以跟真人對話而不被發現的語音助理&lt;/a&gt;、 &lt;a href="https://www.inside.com.tw/2018/04/24/data-scientist-interview"&gt;成為 Apple 等公司的資料科學家前必讀的面試題目&lt;/a&gt;等等。&lt;/p&gt;
&lt;p&gt;市面上有大量資料科學相關課程、書籍供我們自由學習，事實上，多到一個人不可能看完。你有想過為何我們需要學習資料科學嗎？為什麼資料科學現在那麼夯？我們應該拿資料科學來做什麼？&lt;/p&gt;
&lt;p&gt;抽離技術實作或者分析手法的討論，這篇文章試著用簡單的經濟學原理回答這幾個問題。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;希望閱讀完本文的讀者能了解為何資料科學在資訊時代扮演重要角色，以及我們要怎麼有效率地把握「資料科學力」以創造更大的價值。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="目錄"&gt;目錄&lt;a class="anchor-link" href="#目錄"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;本文大致上會分成以下段落：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#聽說你想當資料科學家？"&gt;聽說你想當資料科學家？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#資料科學到底在夯什麼？"&gt;資料科學到底在夯什麼？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#啊所以那個資料科學勒？"&gt;啊所以那個資料科學勒？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#充實你的資料科學力"&gt;充實你的資料科學力&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#結語"&gt;結語&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;讓我們開始吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="聽說你想當資料科學家？"&gt;聽說你想當資料科學家？&lt;a class="anchor-link" href="#聽說你想當資料科學家？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;資料科學大概是近年最夯的流行語之一了。不管在哪邊，你都可以聽到媒體相關的報導：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://taronews.tw/2018/05/07/34472/"&gt;食農教育科研成果農業大數據結合資料科學&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.inside.com.tw/2018/04/24/data-scientist-interview"&gt;想成為資料科學家？來挑戰 Google、FB、Apple 等六間公司人工智慧最新面試題&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.digitimes.com.tw/iot/article.asp?cat=130&amp;amp;cat1=&amp;amp;cat2=&amp;amp;id=0000529979_36M8SBKK8S3C4K8O2RHKM&amp;amp;social_share=y"&gt;台灣產業AI化 最大問題人才不足&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.ithome.com.tw/news/121342"&gt;成為搶手資料科學家應具備什麼技能？先學Python準沒錯&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;... 族繁不及備載。&lt;/p&gt;
&lt;p&gt;而因為企業對擁有資料科學能力的人才需求大，想成為資料科學家（Data Scientist）的同學們也不少，相關的教學文章、線上課程如雨後春筍般湧現。這邊我沒辦法把它們一一列出，但你可以前往一些知名的線上課程平台如 &lt;a href="https://www.coursera.org/"&gt;Coursera&lt;/a&gt;、&lt;a href="https://www.udemy.com/"&gt;Udemy&lt;/a&gt;、&lt;a href="https://www.datacamp.com/"&gt;DataCamp&lt;/a&gt; 並搜尋「資料科學」（或者 Data Science）就知道我的意思了。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/data-science/datacamp-courses.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://www.datacamp.com/" target="_blank"&gt;DataCamp&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;基本上全部都是資料科學相關課程，寫程式寫到飽
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如果我們把這些新聞報導或者教學課程，依照主題/領域做個粗略分類的話，還可以得到一些關鍵字：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;大數據（Big Data）&lt;/li&gt;
&lt;li&gt;人工智慧（Artificial Intelligence）&lt;/li&gt;
&lt;li&gt;資料視覺化（Data Visualization）&lt;/li&gt;
&lt;li&gt;機器學習（Machine Learning）&lt;/li&gt;
&lt;li&gt;深度學習（Deep Learning）&lt;/li&gt;
&lt;li&gt;統計分析（Statistical Analytics）&lt;/li&gt;
&lt;li&gt;雲端運算 （Cloud Computing）&lt;/li&gt;
&lt;li&gt;Python、R、SQL&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/data-science/sean-pollock-203658-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://unsplash.com/photos/PhYq704ffdA?utm_source=unsplash&amp;amp;utm_medium=referral&amp;amp;utm_content=creditCopyText" target="_blank"&gt;資料科學&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;涵蓋大量領域，各領域的專業知識就像一棟棟大樓將你包圍吞噬
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;想學習資料科學的同學這時候就頭疼了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「全部都要學嗎？從哪邊開始 .. 」&lt;/li&gt;
&lt;li&gt;「選 &lt;a href="https://zh.wikipedia.org/wiki/Python"&gt;Python&lt;/a&gt; 或是 &lt;a href="https://zh.wikipedia.org/wiki/R%E8%AF%AD%E8%A8%80"&gt;R 語言&lt;/a&gt;？還是先學 &lt;a href="https://zh.wikipedia.org/wiki/SQL"&gt;SQL&lt;/a&gt;？」&lt;/li&gt;
&lt;li&gt;「資料視覺化要學 Python 的 &lt;a href="https://matplotlib.org/"&gt;Matplotlib&lt;/a&gt; 還是 R 的 &lt;a href="http://ggplot2.org/"&gt;ggplot2&lt;/a&gt; ？」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;現在有些網站很用心，為了解決你的煩惱，還將相關的課程集結起來成一個&lt;a href="https://www.coursera.org/specializations/data-science-python"&gt;專業課程（Specialization）&lt;/a&gt;讓你一步一步跟著學。&lt;/p&gt;
&lt;p&gt;勤學如你，上了幾門課以後學會如何利用 &lt;a href="https://www.coursera.org/learn/python-machine-learning"&gt;Python 做簡單的機器學習模型&lt;/a&gt;、&lt;a href="https://www.datacamp.com/courses/data-visualization-with-ggplot2-1"&gt;使用 R 做資料視覺化&lt;/a&gt;，甚至也懂得&lt;a href="https://www.datacamp.com/courses/intro-to-sql-for-data-science"&gt;使用 SQL 存取資料庫&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;恭喜！你是個資料科學家了！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;...&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;痾.. 這麼簡單？好像哪裡怪怪的？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;...&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;你會不會開始思考：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;所以到底啥是資料科學？資料科學到底在夯什麼？為什麼我要學資料科學？&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;實際上會這樣想的不止你一人。在仔細思考並給上述問題一個合理的解釋之前，就算學了再多門課，充其量只是在不斷擴充自己的「資料科學工具盒」，但卻不知道「為何要買這些工具」、「要拿這些工具做什麼」。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/data-science/barn-images-12223-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://unsplash.com/photos/t5YUoHW6zRo?utm_source=unsplash&amp;amp;utm_medium=referral&amp;amp;utm_content=creditCopyText" target="_blank"&gt;資料科學工具箱&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;琳瑯滿目，酷！但你要用這些工具創造或是改善什麼？
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;因為你學的是方便實踐資料科學的程式語言、工具、方法論（Methodology），而不是「為什麼資料科學重要」。我會用剩下的篇幅試著對此問題給出一套解釋。解釋方法有很多種，所以非常歡迎在底下留言分享你的看法。&lt;/p&gt;
&lt;p&gt;不過現在，且聽我娓娓道來。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="資料科學到底在夯什麼？"&gt;資料科學到底在夯什麼？&lt;a class="anchor-link" href="#資料科學到底在夯什麼？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;除了耳熟能詳的「技術發展快速」、「資料量龐大」的理由以外，資料科學之所以那麼夯，背後還有一個可想而知的巨大推手：「商業利益」。&lt;/p&gt;
&lt;p&gt;要進一步解釋這個概念，我們可以從 Google 首席經濟學家 &lt;a href="https://zh.wikipedia.org/wiki/%E5%93%88%E5%B0%94%C2%B7%E8%8C%83%E9%87%8C%E5%AE%89"&gt;哈爾&amp;middot;范里安&lt;/a&gt; 在 2009 年接受麥肯錫的訪問，探討&lt;a href="https://www.mckinsey.com/industries/high-tech/our-insights/hal-varian-on-how-the-web-challenges-managers"&gt;網際網路對企業的挑戰&lt;/a&gt;中看出一些端倪。（真知灼見，建議作課外閱讀）&lt;/p&gt;
&lt;p&gt;近年網際網路快速發展。要在網路上發表內容，對任何人或者任何企業來說都是輕而易舉的事情。這邊說的內容（Content）可以是任意資訊，比如説：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一則 Facebook 粉絲團貼文&lt;/li&gt;
&lt;li&gt;一則銷售青島啤酒的網頁&lt;/li&gt;
&lt;li&gt;一個教你學習資料科學的線上課程網頁&lt;/li&gt;
&lt;li&gt;一篇部落格文章（像你正在看的這篇）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因為傳播媒介以及科技的進步，要在網路上發布這些資訊並讓他人注意到的成本趨近於零，而其導致的結果就是&lt;a href="https://www.ithome.com.tw/article/87190"&gt;全球的資訊量急速成長&lt;/a&gt;。被稱為人工智慧之父之一的經濟學家 &lt;a href="http://wiki.mbalib.com/zh-tw/%E8%B5%AB%E4%BC%AF%E7%89%B9%C2%B7%E8%A5%BF%E8%92%99"&gt;赫伯特&amp;middot;西蒙&lt;/a&gt; 針對這種現象就曾說過一句&lt;a href="https://en.wikiquote.org/wiki/Herbert_A._Simon"&gt;名言&lt;/a&gt;：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;在一個資訊豐富的世界裡頭，資訊量的富裕導致人們注意力的貧窮。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;以個人的角度來看，在時間以及精力有限的情況下，我們每天能接受資訊的時間以及注意力都是有限的。如何分配這些寶貴的注意力以接收對的資訊，變成現代人的課題。&lt;/p&gt;
&lt;p&gt;痛點即商機。很多企業透過解決這個&lt;a href="https://zh.wikipedia.org/wiki/%E8%B3%87%E8%A8%8A%E8%B6%85%E8%BC%89"&gt;資料超載（Information Overload）&lt;/a&gt;的問題來提供使用者價值：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;漫畫網站把所有知名漫畫整理在一起供你閱讀&lt;ul&gt;
&lt;li&gt;價值：統整、數位化、自動更新散落各地的漫畫資訊&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Google 提供搜尋功能給你&lt;ul&gt;
&lt;li&gt;價值：讓你快速找到存在地球上的任何相關資訊&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Youtube 讓你免費看到飽&lt;ul&gt;
&lt;li&gt;價值：讓你隨時看全世界最新的貓咪影片&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;只要喊「+1」Facebook 粉絲團就免費把「珍貴」的內容給你&lt;ul&gt;
&lt;li&gt;價值：給你數位內容如新產品資訊、整理過後的旅遊資訊等&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;天下沒有白吃的午餐，企業願意這麼做必定有得到什麼。你的確取得了免費的數位內容（文章、影片、漫畫），但又付出了什麼？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/data-science/velizar-ivanov-540528-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://unsplash.com/photos/lz_VB9yEc_c?utm_source=unsplash&amp;amp;utm_medium=referral&amp;amp;utm_content=creditCopyText" target="_blank"&gt;資訊時代最珍貴的資源&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;人們（與喵）的關注
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;實際上，不管是閱讀文章、觀看影片、瀏覽漫畫，你都是在拿了你最寶貴的「注意力」跟企業交換這些價值。而在成功獲得你目光的同時，這些企業則透過秀廣告給你來獲利（例 1 - 3，暫不考慮 AdBlock）。&lt;/p&gt;
&lt;p&gt;註：在這邊，「注意力」跟「時間」有些微秒差異。不過你只要回想昨天晚上跟朋友或是家人吃飯的時候，各自滑手機的景象就可以了：你把「時間」花在跟身旁的人吃飯，卻把「注意力」（或者說是關注）放在手機裡頭的數位資訊。（如果你沒用手機，我很抱歉。）&lt;/p&gt;
&lt;p&gt;例 4 很有趣，你是拿「你自己以及你朋友圈的人的注意力」來做價值交換（你的留言讓 Facebook 的演算法自動推播該貼文到你朋友的動態牆上，粉絲團賺到他們的關注），但基本上是同樣的道理。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/data-science/rawpixel-552390-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://unsplash.com/photos/PUyuhpHr9Z4?utm_source=unsplash&amp;amp;utm_medium=referral&amp;amp;utm_content=creditCopyText" target="_blank"&gt;資訊時代最常見的價值交換&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;給我你的關注，我就給你免費資訊（外加廣告）
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;以經濟學的角度來重述前面的觀點，現在的資訊時代最不缺的資源就是「資料」；稀有、價值高且需要小心分配的稀有財是「人們的注意力」。在這個資訊爆炸的時代，企業透過加工處理大量的原始資料，產生新產品、服務及價值來換取該稀有財：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;誰能善用資料科學的力量、從現有數據創造新價值、服務或產品，並以此吸引人們珍貴的關注，就能獲得商機。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這就是為何資料科學那麼夯的其中一個原因：從資料中創造新價值，進而產生商業利益。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="啊所以那個資料科學勒？"&gt;啊所以那個資料科學勒？&lt;a class="anchor-link" href="#啊所以那個資料科學勒？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;聽到上面的例子，有些人的想法可能是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「哇這些企業好狡猾把我的注意力都偷走了！」&lt;/li&gt;
&lt;li&gt;「這樣回覆 +1 好有罪惡感喔嗚嗚」&lt;/li&gt;
&lt;li&gt;「好險我用 AdBlock 嘻嘻」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但這邊重點是要說明，這種依靠廣告的商業模式已經行之多年。Facebook、Google 等企業為了抓住我們的目光，持續不斷地在精進，以求能有效率地儲存、處理以及分析由我們產生的大量數據。&lt;/p&gt;
&lt;p&gt;而他們用來處理、分析、視覺化以及理解數據的這些程式語言、工具、方法論的總集合就構成所謂的資料科學。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;搜集、理解、分析、處理、視覺化資料數據並從中萃取有用的價值就是資料科學。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;讓我們以一個簡單的 Google 搜尋做更進一步的解釋。&lt;/p&gt;
&lt;p&gt;想像你在 Google 上搜尋「 data science courses 」後可能跑出以下結果：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/data-science/google.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    Google 日常：搜尋結果之上有幾個相關廣告
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;沒什麼特別的，Google 日常不是嗎？&lt;/p&gt;
&lt;p&gt;現在試著做以下步驟：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;開一個新的分頁/視窗&lt;/li&gt;
&lt;li&gt;隨便搜尋一個你有興趣的商品/產品，記下出現的幾個廣告還有它們的順序。&lt;/li&gt;
&lt;li&gt;隨便點幾個連結或者什麼都不做&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;重複步驟 2 跟 3 幾次以後，你應該可以觀察到顯示的廣告消失或者順序改變了：而這是因為背後有 Google 的廣告競價系統在運作。下面是這系統的超級簡化示意圖：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/data-science/google-bidding-system.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    Google 廣告競價：運用使用者的行為資料，即時地推算出該使用者點擊各廣告的機率。搭配業主的出價，選出適當的廣告顯示。
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;要完成此系統需要強大的資料科學技術支持。只有一個人搜尋的時候事情還好辦，但你得知道，在本文撰寫當下，Google &lt;a href="http://www.internetlivestats.com/one-second/#google-band"&gt;平均 1 秒鐘處理 67, 000 筆&lt;/a&gt;搜尋。試著想像一下，為了實現這個系統，Google 可能需要完成以下幾件事情：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用深度學習進行自然語言處理，判斷使用者輸入的語言以及想要表達什麼&lt;/li&gt;
&lt;li&gt;即時處理所有使用者查詢的串流數據&lt;/li&gt;
&lt;li&gt;利用使用者過往的瀏覽紀錄來預測點擊某廣告的機率&lt;/li&gt;
&lt;li&gt;在公司內部監控目前台灣使用者的搜尋趨勢（類似 &lt;a href="https://trends.google.com.tw/trends/"&gt;Google Trend&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;機器學習、統計分析、大數據 ... 這些工作運用到的技術，不就是那些我們在&lt;a href="#聽說你想當資料科學家？"&gt;聽說你想當資料科學家&lt;/a&gt;章節裡頭看到的關鍵字嗎？&lt;/p&gt;
&lt;p&gt;我們這篇只以 Google 的廣告系統為例，但實際上現在幾乎可以說是全世界都在想辦法利用資料科學的力量來處理資料並創造新的價值、服務、公司。看看現在的新創，有哪些沒有用到資料科學？&lt;/p&gt;
&lt;p&gt;所以你現在知道為何資料科學那麼重要了。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;全世界都在想辦法活用資料科學以從龐大數據中為使用者創造更多價值。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="充實你的資料科學力"&gt;充實你的資料科學力&lt;a class="anchor-link" href="#充實你的資料科學力"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;綜觀資料科學一詞萌芽到最近的過程，全世界的資料量&lt;a href="https://www.ithome.com.tw/article/87190"&gt;持續成長&lt;/a&gt;，而人們也不斷地在想辦法追趕這些資料：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用最有效率的方式儲存這些資料&lt;/li&gt;
&lt;li&gt;用最快的速度處理及分析這些資料&lt;/li&gt;
&lt;li&gt;對這些資料做實驗，重複再重複測試不同的假說及演算法&lt;/li&gt;
&lt;li&gt;快速地從資料萃取出新的洞見（Insight）&lt;/li&gt;
&lt;li&gt;以這些洞見創造新的價值、產品、服務&lt;/li&gt;
&lt;li&gt;加速以上步驟所需要的循環時間&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如同前面 Google 的例子，這些都是資料科學。&lt;/p&gt;
&lt;p&gt;你會發現，所謂的資料科學（Data Science）就是對資料（Data）做科學、有系統地（Scientific）的處理罷了。資料科學一詞或許誕生沒多久，但對資料做科學這概念老早就存在了。只是近年因為&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;數據量的快速成長（如&lt;a href="http://technews.tw/2017/06/07/seagate-one-fifth-of-global-data-will-be-real-time-and-most-of-them-belongs-to-internet-of-things/"&gt;物聯網裝置的火紅&lt;/a&gt;）&lt;/li&gt;
&lt;li&gt;運算能力的進步&lt;/li&gt;
&lt;li&gt;人工智慧的突破&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;等等原因，讓我們更急迫地想辦法用以往做不到的方式來理解這個世界的龐大數據。 &lt;a href="https://www.youtube.com/watch?v=F1wlCerC40E"&gt;Youtube 現在能夠分析出你喜歡看貓咪影片&lt;/a&gt;，&lt;a href="https://www.bnext.com.tw/article/49070/google-ai-phone-call-assistant-duplex-ethical-social-implications"&gt;Google 可以建立跟真人對話而不被發現的語音助理&lt;/a&gt;。這些都是他們利用資料科學，從現有的大量數據創造額外價值的例子。如同&lt;a href="https://www.safaribooksonline.com/library/view/what-is-data/9781449336080/ch01.html"&gt;這篇&lt;/a&gt;所說的：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;未來是屬於那些能從大量資料數據創造價值的企業以及人才的。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;一個好消息是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一企業擁有的資料量&lt;/li&gt;
&lt;li&gt;一企業裡能夠處理、分析此資料量的資料科學人才數量&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這兩者在多數企業都是不成比例的（後者短缺），因此擁有資料科學能力的人才薪水可以說是水漲船高。而這當然也變成為何近年那麼多人想成為資料科學家的動機（儘管有些人可能不知道背後原因）。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/data-science/stefan-stefancik-257625-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://unsplash.com/photos/UCZF1sXcejo?utm_source=unsplash&amp;amp;utm_medium=referral&amp;amp;utm_content=creditCopyText" target="_blank"&gt;了解資料科學相關知識的人才&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;是大多數的企業積極尋找的對象
    &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在了解這點以後，你可以先想想自己的興趣在哪裡、想用資料科學創造什麼價值。這邊想強調的是，先思考你能透過資料科學，創造什麼新的「價值」，而不是什麼「商業利益」。&lt;/p&gt;
&lt;p&gt;如同我們前面看到的，資料科學是現行廣告經濟的背後推手，但為何我們願意看 Google、Facebook 丟給我們的廣告？那是因為他們「先」從資料創造了價值（方便的搜尋功能、社群網路功能）從而取得我們的關注。&lt;/p&gt;
&lt;p&gt;實際上，在取得關注以後，你的商業模式不是一定要秀廣告給使用者看。訂閱制（Subscription）或會員制是一個替代方案： NetFlix 和 Amazon 都是這樣。甚至，你可以&lt;a href="https://www.bnext.com.tw/article/49041/google-fb-business-model"&gt;不像 Google 一樣思考&lt;/a&gt;，使用新的商業模型。&lt;/p&gt;
&lt;p&gt;但「商業模式」不是這篇想討論的議題。重點是「價值」：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;在資訊爆炸的時代，各行各業的每個人都需要學習善用資料科學，從資料數據創造新的使用者價值。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;事實上，與其想著要成為一個資料科學家，不如先好好想想，在自己目前所在的業界、公司、職位能怎麼利用手邊的資料數據搭配資料科學來創造新的價值。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如果你耐心地看到這邊，代表我得到你最珍貴的關注了，賺賺賺！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;稍微複習一下，我們在這篇文章開頭假想了一個有志學習資料科學的同學。在他/她學習資料科學的過程產生了幾個疑問：「為何資料科學那麼夯？」「為何我們需要資料科學？」&lt;/p&gt;
&lt;p&gt;而本篇則以非常簡單的經濟學供給概念，加上 Google 以及 Facebook 的運作方式來說明現在的企業是怎麽利用資料科學來創造新的使用者價值來交換人們的關注。&lt;/p&gt;
&lt;p&gt;我們接著說著為何今後各行各業都需要「資料科學力」來處理日益增加的資料數據並為人們建立新的價值。事實上很多職稱不是「資料科學家」的人現在都已經在做著資料科學：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;搜集、理解、分析、處理、視覺化資料數據並從中萃取有用的價值&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;當年網際網路開始蓬勃發展，軟體工程師是最夯最潮的行業。儘管現在工程師的重要性並沒有下降，隨著人們的程式能力穩定上升，軟體工程師回歸平凡，甚至還有人戲稱為「碼農」、「程式猿」。&lt;/p&gt;
&lt;p&gt;歷史總是不斷重演。&lt;/p&gt;
&lt;p&gt;或許再過幾年，等人們的資料科學力上升到一定階段，資料科學變成呼吸喝水般的知識以後，資料科學家們也會被人戲稱為「資料農」。&lt;/p&gt;
&lt;p&gt;或許當你幾年後遇到我，我可能這樣回你：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;嘿！我就只是個資料農！你也是嗎？&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
</content><category term="資料科學"></category><category term="data-science"></category></entry><entry><title>為何資料科學家需要學習 SQL</title><link href="https://leemengtaiwan.github.io/why-you-need-to-learn-sql-as-a-data-scientist.html" rel="alternate"></link><published>2018-04-30T23:50:00+09:00</published><updated>2018-04-30T23:50:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-04-30:/why-you-need-to-learn-sql-as-a-data-scientist.html</id><summary type="html">&lt;p&gt;這篇將簡單討論資料科學家必備的能力之一：結構化查詢語言（SQL）在概念上跟命令式程式語言如 Python 有什麼不同之處，以及在什麼樣的情況下我們會想要利用 SQL 做資料分析。這篇注重在為何你會想要使用 SQL 做資料分析，而非 SQL 本身功能的教學。如果要學習 SQL 本身，可以參考本文最後面的推薦閱讀。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這篇簡單討論&lt;a href="https://zh.wikipedia.org/wiki/SQL"&gt;結構化查詢語言（SQL）&lt;/a&gt;在概念上跟命令式程式語言如 Python 有什麼不同之處，以及在什麼樣的情況下我們會想要利用 SQL 做資料分析。&lt;/p&gt;
&lt;p&gt;這篇注重在為何你會想要使用 SQL 做資料分析，而非 SQL 本身功能的教學。如果要學習 SQL 本身，可以參考最後面的&lt;a href="#推薦閱讀"&gt;推薦閱讀&lt;/a&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="使用-SQL-與數據對話"&gt;使用 SQL 與數據對話&lt;a class="anchor-link" href="#使用-SQL-與數據對話"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;身為資料科學家或者是分析人員，我們都知道 SQL 基本上是必備的分析工具。&lt;/p&gt;
&lt;p&gt;簡單來說，&lt;a href="https://zh.wikipedia.org/wiki/%E5%AE%A3%E5%91%8A%E5%BC%8F%E7%B7%A8%E7%A8%8B"&gt;SQL 是一種程式語言&lt;/a&gt;，我們可以透過它對被儲存在&lt;a href="https://zh.wikipedia.org/wiki/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93"&gt;關聯式資料庫&lt;/a&gt;裡頭的資料進行查詢或操作。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;SQL 是資料科學家與資料庫（Database）溝通的語言&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在沒接觸過 SQL 之前，你可能會想&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;「做為一個程式語言，為何 SQL &lt;a href="https://insights.stackoverflow.com/survey/2018/"&gt;有那麼多人在使用？&lt;/a&gt;」&lt;/li&gt;
&lt;li&gt;「我們有 Python、R，不學 SQL 應該也沒關係吧？」&lt;/li&gt;
&lt;li&gt;「又要學一個程式語言好麻煩。」&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;為了釐清這些疑問，讓我們做一個假想實驗。比方說我們現在想要知道某個特定顧客過去的所有購買記錄。&lt;/p&gt;
&lt;p&gt;如果你熟悉 SQL 的話，可以對資料庫下一個簡單的查詢（Query）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;c&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;customer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
       &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;totalprice&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
       &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orderdate&lt;/span&gt; 
  &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;customer&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="k"&gt;c&lt;/span&gt; 
       &lt;span class="k"&gt;INNER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt; 
       &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="k"&gt;c&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;custkey&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;custkey&lt;/span&gt; 
 &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="k"&gt;c&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'Customer#000000001'&lt;/span&gt; 
 &lt;span class="k"&gt;ORDER&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orderdate&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;上面這個查詢翻為白話就是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;從顧客清單 &lt;code&gt;customer&lt;/code&gt; 還有購賣紀錄 &lt;code&gt;orders&lt;/code&gt; 裡頭&lt;ul&gt;
&lt;li&gt;FROM customer AS c INNER JOIN orders AS o ON c.custkey = o.custkey&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;找出名為 Customer#000000001 的顧客的所有購買紀錄&lt;ul&gt;
&lt;li&gt;WHERE c.name = 'Customer#000000001'&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;並把那些紀錄依照購買日期排序&lt;ul&gt;
&lt;li&gt;ORDER BY o.orderdate&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;最後只回傳顧客名稱、總購買金額、購買日期幾個項目&lt;ul&gt;
&lt;li&gt;SELECT c.name AS customer, o.totalprice, o.orderdate&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這個查詢對第一次寫 SQL 的人可能會覺得很複雜，但注意，我們並沒有告訴資料庫「如何」取得這些資料，比方說：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;怎麼合併顧客跟購買紀錄？&lt;/li&gt;
&lt;li&gt;怎麼過濾特定顧客？&lt;/li&gt;
&lt;li&gt;怎麼排序？&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我們只告訴它該給我們「什麼資料」。而得到的結果是：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;customer            | totalprice | orderdate
--------------------+------------+------------
 Customer#000000001 |  152411.41 | 1993-06-05
 Customer#000000001 |  165928.33 | 1995-10-29
 Customer#000000001 |  270087.44 | 1997-03-04
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如同我們預期，只有該顧客的購買紀錄被回傳，且依照購買日期 &lt;code&gt;orderdate&lt;/code&gt; 從早排到晚。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;實際上，資料庫可能需要做以下運算來取得資料：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;將顧客表格 &lt;code&gt;customer&lt;/code&gt; 以及購買紀錄的表格 &lt;code&gt;orders&lt;/code&gt; 分別命名為 &lt;code&gt;c&lt;/code&gt; 及 &lt;code&gt;o&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;依照共通的鍵值 &lt;code&gt;custkey&lt;/code&gt; 合併（&lt;code&gt;JOIN&lt;/code&gt;）兩表格&lt;/li&gt;
&lt;li&gt;找出特定顧客 &lt;code&gt;Customer#000000001&lt;/code&gt; 的購買記錄&lt;/li&gt;
&lt;li&gt;將該紀錄依照購買日期 &lt;code&gt;orderdate&lt;/code&gt; 排序&lt;/li&gt;
&lt;li&gt;選出要顯示的欄位 &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這些運算最後都得依照「某個」順序執行，但是我們不需要考慮這些事情，完全依靠資料庫的&lt;a href="http://db.cs.berkeley.edu/papers/fntdb07-architecture.pdf"&gt;查詢最佳化器（Query Optimizer）&lt;/a&gt;來幫我們決定。&lt;/p&gt;
&lt;p&gt;寫 SQL 敘述時，你可以理解成我們是指定「要的資料」，而查詢最佳化器會依照此需求，找出一個最佳路徑來取得必要的資料。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/sql/yoal-desurmont-619654-unsplash.jpg" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://unsplash.com/photos/pcLLI0MTDNg?utm_source=unsplash&amp;amp;utm_medium=referral&amp;amp;utm_content=creditCopyText" target="_blank"&gt;&lt;/a&gt;
    SQL 查詢
    &lt;font color="purple"&gt;: &lt;/font&gt;專注在你的目標，查詢最佳化器會負責找到達成目標的最佳路徑
    &lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;換句話說，當我們在寫 SQL 的時候，是在進行&lt;a href="https://zh.wikipedia.org/wiki/%E5%AE%A3%E5%91%8A%E5%BC%8F%E7%B7%A8%E7%A8%8B"&gt;宣告式程式設計（Declarative Programming）&lt;/a&gt;：我們只告訴資料庫，我們想要什麼資料（What），而不是怎麼取得（How）它們。&lt;/p&gt;
&lt;p&gt;這跟一般常見的&lt;a href="https://zh.wikipedia.org/wiki/%E6%8C%87%E4%BB%A4%E5%BC%8F%E7%B7%A8%E7%A8%8B"&gt;命令式程式語言（Imperative Programming）&lt;/a&gt;如 Python、Java 有所不同。在寫 SQL 時，我們告訴資料庫它該達成的目標 - 取得什麼資料（What）；在寫 Python 時，我們得告訴程式該怎麼達成該目標（How）。&lt;/p&gt;
&lt;p&gt;為了進一步闡述這個概念，接著讓我們試著使用 Python 來取得跟上面的 SQL 查詢一樣的結果。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="用-Python-達到-SQL-查詢效果"&gt;用 Python 達到 SQL 查詢效果&lt;a class="anchor-link" href="#用-Python-達到-SQL-查詢效果"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;首先先假設所有顧客資料是透過一個 &lt;code&gt;list&lt;/code&gt; 儲存，裡頭包含多個 &lt;code&gt;dict&lt;/code&gt;。每個 &lt;code&gt;dict&lt;/code&gt; 則代表一個顧客的資料：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;customers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"Customer#000000001"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"custkey"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"1"&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"Customer#000000002"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"custkey"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"2"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;而購買記錄則是一個 &lt;code&gt;dict&lt;/code&gt;，&lt;code&gt;dict&lt;/code&gt; 的鍵值為所有顧客的 &lt;code&gt;custkey&lt;/code&gt;；鍵值對應的值則是包含該顧客所有購買紀錄的 &lt;code&gt;list&lt;/code&gt;：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;orders&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;"1"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[{&lt;/span&gt;&lt;span class="s2"&gt;"totalprice"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;152411.41&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"orderdate"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"1993-06-05"&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
          &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"totalprice"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;270087.44&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"orderdate"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"1997-03-04"&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
          &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"totalprice"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;165928.33&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"orderdate"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"1995-10-29"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
         &lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;所以 &lt;code&gt;orders["1"]&lt;/code&gt; 就代表 &lt;code&gt;custkey = 1&lt;/code&gt; 的顧客的購買紀錄。&lt;/p&gt;
&lt;p&gt;了解背後的資料結構以後，我們可以寫一段 Python 程式碼來取得資料：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"customer           | totalprice| orderdate "&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"------------------ | ----------| --------- "&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# 從所有顧客找符合條件的人&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;customers&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="c1"&gt;# 跳過我們沒興趣的顧客&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'name'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s1"&gt;'Customer#000000001'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;continue&lt;/span&gt;
    &lt;span class="c1"&gt;# 利用 custkey 取德該顧客的購買紀錄&lt;/span&gt;
    &lt;span class="n"&gt;c_orders&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'custkey'&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 依照 orderdate 排序購買紀錄&lt;/span&gt;
    &lt;span class="n"&gt;c_orders_sorted&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c_orders&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'orderdate'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
    
    &lt;span class="c1"&gt;# 將所有排序後的記錄回傳&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;c_orders_sorted&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'name'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'totalprice'&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'orderdate'&lt;/span&gt;&lt;span class="p"&gt;])]&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;" | "&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="c1"&gt;# 已經找到該顧客，提早結束迴圈以減少處理時間&lt;/span&gt;
    &lt;span class="k"&gt;break&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;customer           | totalprice| orderdate 
------------------ | ----------| --------- 
Customer#000000001 | 152411.41 | 1993-06-05
Customer#000000001 | 165928.33 | 1995-10-29
Customer#000000001 | 270087.44 | 1997-03-04
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;所以我們使用 Python 達到跟上面的 SQL 查詢一樣的結果了。但兩者在執行上有什麼差異？&lt;/p&gt;
&lt;p&gt;使用命令式程式語言來處理資料時，我們需要：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;了解資料結構以操作資料（顧客是存在 &lt;code&gt;list&lt;/code&gt; 還是 &lt;code&gt;dict&lt;/code&gt; ？）&lt;/li&gt;
&lt;li&gt;明確地定義執行步驟（先排序購買記錄 &lt;code&gt;orders&lt;/code&gt; 還是先把顧客 &lt;code&gt;customers&lt;/code&gt; 跟購買紀錄合併？）&lt;/li&gt;
&lt;li&gt;最佳化（如最後的 &lt;code&gt;break&lt;/code&gt; ）&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;再看一次先前的 SQL 查詢（+註解）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;-- 給我以下幾個欄位：顧客名稱、總購買金額、購買日期&lt;/span&gt;
&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="k"&gt;c&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;customer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
       &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;totalprice&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
       &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orderdate&lt;/span&gt;
&lt;span class="c1"&gt;-- 將有相同 custkey 的顧客跟購買紀錄合併&lt;/span&gt;
  &lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;customer&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="k"&gt;c&lt;/span&gt;
       &lt;span class="k"&gt;INNER&lt;/span&gt; &lt;span class="k"&gt;JOIN&lt;/span&gt; &lt;span class="n"&gt;orders&lt;/span&gt; &lt;span class="k"&gt;AS&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;
       &lt;span class="k"&gt;ON&lt;/span&gt; &lt;span class="k"&gt;c&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;custkey&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;custkey&lt;/span&gt;
&lt;span class="c1"&gt;-- 只需要此顧客的購買紀錄&lt;/span&gt;
 &lt;span class="k"&gt;WHERE&lt;/span&gt; &lt;span class="k"&gt;c&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'Customer#000000001'&lt;/span&gt;
&lt;span class="c1"&gt;-- 依照購買日期排序&lt;/span&gt;
 &lt;span class="k"&gt;ORDER&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="n"&gt;o&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;orderdate&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;這裡頭我們不需要了解資料被以什麼形式儲存，也不需要定義要以什麼順序執行查詢，更不用做最佳化。這些事情全部交給背後的資料庫處理，使得資料科學家可以專注在更高層次的問題：「我們需要什麼資料？」&lt;/p&gt;
&lt;p&gt;而這正是 SQL 最強大的地方：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;SQL 讓資料科學家可以專注在需要「什麼」資料而非要「怎麼」取得。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;雖然我們這篇只舉了一個十分簡單的例子，但一般來說 SQL 非常適合以下的使用情境：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;將多個資料來源（例：表格）合併起來並依照一些條件篩選結果&lt;/li&gt;
&lt;li&gt;依照取得的資料做一些簡易的 aggregation （如：加總、平均、最大值）&lt;/li&gt;
&lt;li&gt;簡單的資料轉換（例：把 datetime 欄位取出年份）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果需要十分複雜的資料轉換或者計算時，一般我還是推薦使用 Python 或 R。但是下次當你有機會使用 SQL 取得想要的資料時，不妨試著專注在「想要什麼資料」而不是「怎麼取得資料」。說不定一個 SQL 查詢就能幫你省下一些花在搜集資料的時間。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="推薦閱讀"&gt;推薦閱讀&lt;a class="anchor-link" href="#推薦閱讀"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.datacamp.com/courses/intro-to-sql-for-data-science"&gt;DataCamp - Intro to SQL for Data Science&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.datacamp.com/courses/joining-data-in-postgresql"&gt;DataCamp - Joining Data in PostgreSQL&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.linkedin.com/learning/advanced-sql-for-data-scientists"&gt;LinkedIn Learning - Advanced SQL for Data Scientists&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="資料科學"></category><category term="SQL"></category><category term="data-science"></category></entry><entry><title>資料科學家為何需要了解資料工程</title><link href="https://leemengtaiwan.github.io/why-you-need-to-learn-data-engineering-as-a-data-scientist.html" rel="alternate"></link><published>2018-04-23T22:55:00+09:00</published><updated>2018-04-23T22:55:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-04-23:/why-you-need-to-learn-data-engineering-as-a-data-scientist.html</id><summary type="html">&lt;p&gt;透過描述資料科學家的一天日常，本文將簡單介紹資料工程（Data Engineering）的概念、其如何跟資料科學相關。以及最重要的，作為一個資料科學家應該如何學習並善用這些知識來創造最大價值。身為一個資料科學家，擁有資料工程的知識可以提升工作效率，點亮你的方向並加速專案前進。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;透過描述資料科學家的一天日常，本文將簡單介紹資料工程（Data Engineering）的概念、其如何跟資料科學相關。以及最重要的，作為一個資料科學家（Data Scientist）應該如何學習並善用這些知識來創造最大價值。&lt;/p&gt;
&lt;p&gt;身為一個資料科學家，擁有資料工程的知識可以提升工作效率，點亮你的方向並加速專案前進。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="目錄"&gt;目錄&lt;a class="anchor-link" href="#目錄"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#資料科學家的一天"&gt;資料科學家的一天&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="#資料準備"&gt;資料準備&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#第一挑戰：資料量大增"&gt;第一挑戰：資料量大增&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#第二挑戰：非結構化資料"&gt;第二挑戰：非結構化資料&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="#資料為本"&gt;資料為本&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#資料管道"&gt;資料管道&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#資料倉儲"&gt;資料倉儲&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#資料湖"&gt;資料湖&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#如何實際應用資料工程？"&gt;如何實際應用資料工程？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#結語"&gt;結語&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="資料科學家的一天"&gt;資料科學家的一天&lt;a class="anchor-link" href="#資料科學家的一天"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;一說到資料科學，在你腦海中浮現的幾個關鍵字可能是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料分析&lt;/li&gt;
&lt;li&gt;資料視覺化&lt;/li&gt;
&lt;li&gt;A.I. / 機器學習&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;等為人津津樂道的面向。&lt;/p&gt;
&lt;p&gt;的確，這些都在資料科學的範疇裡頭，但實際上佔用多數資料科學家大部分時間，卻常被忽略的部分是資料準備：&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/data-engineering/data-scientist-work-pie-chart.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://www.forbes.com/sites/gilpress/2016/03/23/data-preparation-most-time-consuming-least-enjoyable-data-science-task-survey-says/#5d0184f76f63" target="_blank"&gt;Forbes&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;依據調查，多數資料科學家花 80 % 的時候在準備資料
    &lt;br/&gt;
&lt;/center&gt;&lt;h3 id="資料準備"&gt;資料準備&lt;a class="anchor-link" href="#資料準備"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;說到資料準備，你可能會聯想到我們在前一篇&lt;a href="data-visualization-from-matplotlib-to-ggplot2.html#載入資料-+-簡單資料處理"&gt;淺談資料視覺化以及 ggplot2 實踐&lt;/a&gt;裡頭，使用 R 語言做的簡單資料清理：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 將 CSV 檔案載入成資料框架（dataframe）&lt;/span&gt;
ramen_all &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; read.csv&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"datasets//ramen-ratings.csv"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# 將「星星數」轉成定量資料&lt;/span&gt;
ramen_all&lt;span class="o"&gt;$&lt;/span&gt;Stars &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="kp"&gt;as.numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;ramen_all&lt;span class="o"&gt;$&lt;/span&gt;Stars&lt;span class="p"&gt;)&lt;/span&gt; 
&lt;span class="c1"&gt;# Subset 資料&lt;/span&gt;
ramen &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; ramen_all &lt;span class="o"&gt;%&amp;gt;%&lt;/span&gt;
  filter&lt;span class="p"&gt;(&lt;/span&gt;Country &lt;span class="o"&gt;%in%&lt;/span&gt; count&lt;span class="p"&gt;(&lt;/span&gt;ramen_all&lt;span class="p"&gt;,&lt;/span&gt; Country&lt;span class="p"&gt;,&lt;/span&gt; sort &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; drop&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;%&amp;gt;%&lt;/span&gt;
  filter&lt;span class="p"&gt;(&lt;/span&gt;Style &lt;span class="o"&gt;%in%&lt;/span&gt; count&lt;span class="p"&gt;(&lt;/span&gt;ramen_all&lt;span class="p"&gt;,&lt;/span&gt; Style&lt;span class="p"&gt;,&lt;/span&gt; sort &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; drop&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;TRUE&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在做分析之前，我們做了以下的步驟來準備資料：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;讀進&lt;code&gt;ramen-ratings.csv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;轉變某些欄位的資料型態&lt;/li&gt;
&lt;li&gt;依照一些條件取出想要分析的資料&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;雖然資料量不大，你仍然可以試著想像我們實際上建立了一個 &lt;a href="https://zh.wikipedia.org/wiki/ETL"&gt;ETL&lt;/a&gt; 工作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;將資料從來源（硬碟）擷取出來（&lt;strong&gt;E&lt;/strong&gt;xtract）&lt;/li&gt;
&lt;li&gt;做了一些轉換（&lt;strong&gt;T&lt;/strong&gt;ransform）&lt;/li&gt;
&lt;li&gt;載入（&lt;strong&gt;L&lt;/strong&gt;oad）目的地（記憶體）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;假設我們把一般的資料分析專案分為以下兩階段：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;資料準備：將資料轉換成適合分析的格式&lt;/li&gt;
&lt;li&gt;資料分析：探索資料、建構預測模型&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;上面的 ETL 就屬於第一個步驟。又因為此資料集大概只包含 5,000 筆資料，步驟 1 所花的時間跟步驟 2 的所需時間相比，可以說微乎其微，它不會是你做資料科學的一個 bottleneck。&lt;/p&gt;
&lt;p&gt;但如果你要處理的資料量是這個的 1,000 倍大呢？你還能馬上進入分析階段嗎？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="第一挑戰：資料量大增"&gt;第一挑戰：資料量大增&lt;a class="anchor-link" href="#第一挑戰：資料量大增"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;實際上一個資料科學家每天需要分析的資料量可能要乘上幾個級數。現在假設你從銷售部門拿到一個包含數百萬筆銷售紀錄，大小為 60G 的 CSV 檔案，我想你應該不會想要直接打開它，即使它在某些人眼裡還不夠資格稱為大數據 (&amp;acute;；&amp;omega;；｀)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;你殫精竭慮，最後決定去問公司內一位資深的&lt;a href="https://medium.freecodecamp.org/the-rise-of-the-data-engineer-91be18f1e603"&gt;資料工程師（Data Engineer）&lt;/a&gt;該怎麼解決這問題。&lt;/p&gt;
&lt;p&gt;該仁兄施了點你不曉得的魔法，過了幾分鐘從 Slack 丟來個神秘的 URL。連到上面，你發現熟悉的 &lt;a href="http://jupyter.org/"&gt;Jupyter Nook&lt;/a&gt; 介面，而且 CSV 還幫你載好了 &amp;Sigma;(ﾟдﾟ;&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/data-engineering/jupyter-notebook.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://www.ithome.com.tw/news/121497" target="_blank"&gt;Bonus&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;Jupyter Lab 是 Jupyter Notebook 的改善版，大推
    &lt;br/&gt;
&lt;/center&gt;&lt;p&gt;你開心地在資料工程師幫你搞定的機器上做出分析，最後在大家面前做口頭報告。大家針對報告的反應不錯，但坐在底下的廣告部門的人這時候提問了：&lt;/p&gt;
&lt;p&gt;「可以把這些銷售紀錄跟廣告點擊的串流日誌（log）合在一起分析嗎？這樣我們會有更多有趣的結果！」&lt;/p&gt;
&lt;p&gt;你的頭又痛了起來。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="第二挑戰：非結構化資料"&gt;第二挑戰：非結構化資料&lt;a class="anchor-link" href="#第二挑戰：非結構化資料"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;除了資料量級的差異，一個資料科學家在企業裡頭會遇到的另外一個挑戰是非結構化資料（Unstructured Data）的快速增加。你如何將各種不同格式（JSON、存取日誌、CSV 等）的資料以有效率的方式跟平常熟悉的關聯式資料庫如 &lt;a href="https://www.postgresql.org/"&gt;PostgreSQL&lt;/a&gt; 裡頭的資料結合以供分析？&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/data-engineering/increasing-dark-data.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://www.slideshare.net/AmazonWebServices/how-to-build-a-data-lake-with-aws-glue-data-catalog-abd213r" target="_blank"&gt;AWS Reinvent&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;非結構化資料快速增加，但因為不存在關聯式資料庫裡，無法直接被拿來分析
    &lt;br/&gt;
&lt;/center&gt;&lt;p&gt;如果我們能寫一個簡單的 &lt;a href="https://zh.wikipedia.org/wiki/SQL"&gt;SQL&lt;/a&gt; 查詢，把銷售資料（sales）跟廣告點擊（clicks）資料依照共有的鍵值 &lt;code&gt;sale_id&lt;/code&gt; 合起來該有多好：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SELECT *
FROM sales AS s
INNER JOIN clicks AS c
ON s.sale_id = c.sale_id&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;你想著想著就到下班時間了。&lt;/p&gt;
&lt;p&gt;「算了，還是先回家睡個覺，明天再厚著臉皮問資料工程師吧！反正之前他也幫我在&lt;a href="https://zh.wikipedia.org/wiki/%E8%B3%87%E6%96%99%E5%80%89%E5%84%B2"&gt;資料倉儲（Data Warehouse）&lt;/a&gt;加了新的表格。」&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="資料為本_1"&gt;資料為本&lt;a class="anchor-link" href="#資料為本"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;從上面這個資料科學家的一天，我們得到什麼啟示？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;資料（的基礎設施）為資料科學之基礎 - 巧婦難為無米之炊&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;老實說這個例子裡頭的資料科學家已經非常幸運：公司裡有資料工程師能幫他把大量、複雜格式的資料做 ETL 並以資料倉儲中的一個新表格（Table）的方式呈現轉換過後的資料以供他使用。硬要說稍微不方便的地方，頂多就是該資料科學家得等資料工程師搞定好資料就是了。&lt;/p&gt;
&lt;p&gt;然而因為資料工程師是一個很新的職位，多數的企業現在並沒有這樣的人存在。大多數的資料科學家只能自己下海，想辦法生出可以用的資料。實際上，&lt;a href="https://hackernoon.com/@mrogati?source=post_header_lockup"&gt;Monica Rogati&lt;/a&gt; 在 &lt;a href="https://hackernoon.com/the-ai-hierarchy-of-needs-18f111fcc007"&gt;The AI Hierarchy of Needs&lt;/a&gt; 提到，一些常見的資料科學專案像是&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;建置 AI &lt;/li&gt;
&lt;li&gt;建置簡單的機器學習模型&lt;/li&gt;
&lt;li&gt;資料分析&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;都得建立在「有完善且可靠的資料」這個基礎之下：&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/data-engineering/ai-need.png" style="width:80%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://hackernoon.com/the-ai-hierarchy-of-needs-18f111fcc007" target="_blank"&gt;資料科學的金字塔層級要求&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;你需要建立好資料科學的基礎設施才有本錢往「上」發展
    &lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;以金字塔最下三層為例，要讓資料科學的專案順利進行，你最少要（由下而上）：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;持續搜集（COLLECT）原始資料&lt;/li&gt;
&lt;li&gt;將該資料轉移（MOVE / STORE）到適合分析的地方如資料倉儲、&lt;a href="https://itw01.com/G4DCESL.html"&gt;資料湖&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;轉換（TRANSFORM）被轉移的資料，進行前處理以方便分析&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;我認爲資料工程的重頭戲在上面的 2, 3 點：將資料以「轉換好」的形式「送」到可供分析的地方。（當然也可以先送再轉換，或者不轉換，詳見下面章節的&lt;a href="#資料湖"&gt;資料湖&lt;/a&gt;）&lt;/p&gt;
&lt;p&gt;身為資料科學家，如果你夠幸運，公司內部有專業的資料工程師幫你把上面這件事情做好，恭喜！你可以多專注在分析以及建置預測模型上面；
但假設公司裡頭只有資料科學家，而企業又想要處理大數據的話，抱歉，你得擔起這個攤子，想辦法把資料的基本設施搞定：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;每個成功的資料科學家背後都有個偉大的資料工程師。或者該資料科學家就是那個資料工程師。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;身為資料科學家，如果我們也能了解資料工程相關的知識的話，不就能更快地、更有效率地進行資料分析了嗎？&lt;/p&gt;
&lt;p&gt;這個想法即是所謂的&lt;a href="http://www.effectiveengineer.com/blog/master-adjacent-disciplines"&gt;從鄰近專業（Adjacent Disciplines）學習&lt;/a&gt;：透過學習跟本業息息相關的資料工程，資料科學家可以加速資料科學的專案進行，並為個人以及團隊創造更大價值。想閱讀更多，可以看看&lt;a href="https://medium.com/@rchang/a-beginners-guide-to-data-engineering-part-i-4227c5c457d7"&gt;在 Airbnb 工作的資料科學家怎麼說&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;接著讓我們稍微聊聊到底什麼是資料工程以及一些相關例子。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="資料管道"&gt;資料管道&lt;a class="anchor-link" href="#資料管道"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;依照前面的論述，資料工程最主要的目的就是建構資料科學的基本設施（Infrastructure）。而這些基礎設施裡頭一個很重要的部分是&lt;a href="https://www.alooma.com/answers/what-is-the-difference-between-a-data-pipeline-and-an-etl-pipeline"&gt;資料管道（Data Pipeline）&lt;/a&gt;的建置：將資料從來源 &lt;strong&gt;S&lt;/strong&gt;ource 導向目的地 
&lt;strong&gt;T&lt;/strong&gt;arget 以供之後的利用。有必要的話，對資料進行一些轉換。&lt;/p&gt;
&lt;p&gt;一些簡單的例子像是我們之前部落格提到的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="replicate-data-from-mongodb-to-redshift-using-aws-data-migration-service.html"&gt;將 NoSQL（MongoDB） 資料導向資料倉儲（Redshift）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="use-kinesis-streams-and-firehose-to-build-a-data-lake.html"&gt;將串流資料（Kinesis）導向資料湖（AWS S3）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;從上面的例子也可以看到，實際上資料管道是一個涵蓋範圍很廣的詞彙，包含&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;即時的串流資料處理&lt;/li&gt;
&lt;li&gt;Batch 處理（如：每 12 小時作一次）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ETL 做的事情跟資料管道類似，但偏重在 Batch 處理，這篇文章將 ETL 視為資料管道裡頭的一個子集。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/data-engineering/etl-flow.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://robinhood.engineering/why-robinhood-uses-airflow-aed13a9a90c8" target="_blank"&gt;ETL&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;從資料來源擷取、轉換資料並將其導入目的地
    &lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;資料的來源或目的地可以是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;分散式檔案儲存系統（如 &lt;a href="https://zh.wikipedia.org/wiki/Apache_Hadoop"&gt;HDFS&lt;/a&gt;、&lt;a href="https://aws.amazon.com/tw/s3/"&gt;AWS S3&lt;/a&gt;）&lt;/li&gt;
&lt;li&gt;一般的資料庫 / 資料倉儲（如 &lt;a href="https://aws.amazon.com/tw/redshift/getting-started/"&gt;AWS Redshift&lt;/a&gt;）&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ETL 最重要的是轉換步驟，一些常見的轉換包含：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;改變欄位名稱&lt;/li&gt;
&lt;li&gt;去除空值（Missing Value）&lt;/li&gt;
&lt;li&gt;套用商業邏輯，事先做資料整合（Aggregate）&lt;/li&gt;
&lt;li&gt;轉變資料格式（例：從 JSON 到適合資料倉儲的格式如 &lt;a href="https://parquet.apache.org/"&gt;Parquet&lt;/a&gt;）&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;img src="images/data-engineering/man-on-data-pipeline.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://unsplash.com/photos/xNdPWGJ6UCQ?utm_source=unsplash&amp;amp;utm_medium=referral&amp;amp;utm_content=creditCopyText" target="_blank"&gt;資料工程師&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;建構資料管道以讓大量的資料可供分析
    &lt;br/&gt;
&lt;/center&gt;&lt;p&gt;這些轉換都是為了讓之後使用資料的資料科學家們能更輕鬆地分析資料。為了建置可靠的資料管道 / ETL 流程，我們常會需要使用一些管理工具像是 &lt;a href="https://airflow.apache.org/"&gt;Airflow&lt;/a&gt;、 &lt;a href="https://aws.amazon.com/tw/glue/"&gt;AWS Glue&lt;/a&gt; 以確保資料的處理如同我們預期。&lt;/p&gt;
&lt;h3 id="一些關鍵技術"&gt;一些關鍵技術&lt;a class="anchor-link" href="#一些關鍵技術"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Hadoop 生態環境&lt;/li&gt;
&lt;li&gt;分散式系統上的 ETL 設計&lt;/li&gt;
&lt;li&gt;SQL-on-Hadoop 的專案了解（如 Apache Hive, Spark SQL, Fackbook Presto）&lt;/li&gt;
&lt;li&gt;資料流程管理（如 Airflow、AWS Glue）&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;那經過資料管道處理後的資料要怎麼存取/分析？依照存取方式的不同，資料管道的架構方式也會有所不同。&lt;/p&gt;
&lt;p&gt;而存取資料的方式大概可以分為兩種：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://medium.com/@rchang/a-beginners-guide-to-data-engineering-part-i-4227c5c457d7"&gt;資料倉儲（Data Warehousing）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://itw01.com/G4DCESL.html"&gt;資料湖（Data Lake）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="資料倉儲_1"&gt;資料倉儲&lt;a class="anchor-link" href="#資料倉儲"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;資料倉儲的概念就跟實際的倉儲相同：你在這邊將原料（原始資料）轉化成可以消化的產品（資料庫裡頭的經過整理的一筆筆紀錄）並存起來方便之後分析。&lt;/p&gt;
&lt;p&gt;這邊最重要的概念是：為了方便商業智慧的萃取，在將資料放入資料倉儲前，資料科學家 / 資料工程師需要花很多的心力決定資料庫綱目（Database Schema）要長什麼樣子。
也就是說資料庫的綱要（Schema）在建立資料管道的時候就已經被決定了：這種模式稱之為 Schema-on-Write。這是為了確保資料在被放進資料倉儲的時候就已經是可以分析的形式，方便資料科學家分析。&lt;/p&gt;
&lt;p&gt;你可以想像資料工程師在建構資料管道 / ETL 的時候，得對原始資料做大量的轉換以讓資料在被&lt;strong&gt;寫&lt;/strong&gt;入資料倉儲時就已經符合一開始定義的 Schema。而資料倉儲最常被拿來使用的一個資料模型（Data Model）是所謂的 &lt;a href="https://en.wikipedia.org/wiki/Dimensional_modeling"&gt;Dimensional Modeling&lt;/a&gt;（Stars / Snowflaks Schema）。&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/data-engineering/star-schema.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="http://publib.boulder.ibm.com/tividd/td/TEDW/SC32-1497-00/en_US/HTML/srfmst158.htm" target="_blank"&gt;資料倉儲最被廣泛使用的 Data Model&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;Stars Schema
    &lt;br/&gt;
&lt;/center&gt;&lt;p&gt;資料工程師將企業最重要的事件（如：使用者下了訂單、發了一個 Facebook 動態）放到最中間的 Fact Table，並且為了可以使用所有想像得到的維度來分析這些事件，會把事件本身的維度（Dimensions）再分別存在外圍的多個 Dimension Tables。常見的維度有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;時間（此事件什麼時候產生、年月份、星期幾等）&lt;/li&gt;
&lt;li&gt;商品的製造商的資料、其他細節&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因為看起來就像是一個星星，因此被命名為 Stars Schema。Snowflakes 則是其變形。&lt;/p&gt;
&lt;h3 id="一些關鍵技術_1"&gt;一些關鍵技術&lt;a class="anchor-link" href="#一些關鍵技術"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;在資料倉儲的部分，關鍵的技術與概念有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;了解正規化（Normalization）的好處&lt;/li&gt;
&lt;li&gt;分散式 SQL 查詢引擎的原理（如 &lt;a href="https://prestodb.io/"&gt;Presto&lt;/a&gt;）&lt;/li&gt;
&lt;li&gt;分析專用的資料模型的設計原理（如 Stars / Snowflakes schema）&lt;/li&gt;
&lt;li&gt;了解分散式系統背後各種 JOIN 的原理（Sort-Merge JOINs、Broadcast Hash JOINs、Paritioned Hash JOINs 等）&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="資料湖_1"&gt;資料湖&lt;a class="anchor-link" href="#資料湖"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;「每天新增的資料量太多，要把所有想分析的資料都做詳細的 Schema 轉換再存入資料倉儲太花人力成本。總之先把這些資料原封不動地存到分散式檔案儲存系統上，之後利用如 &lt;a href="https://aws.amazon.com/tw/glue/"&gt;AWS Glue&lt;/a&gt; 等服務將資料的 schema 爬出來並分析。」這就是以資料湖為核心的資料管道架構想法。一般這種存取資料的方式我們稱之為 Schema-on-Read，因為 Schema 是在實際載入原始資料的時候才被使用。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://aws.amazon.com/tw/athena/"&gt;AWS Athena&lt;/a&gt; 就是一個 AWS 依照這樣的想法打造的服務。&lt;/p&gt;
&lt;p&gt;舉個簡單的例子，假設我們現在想把&lt;a href="#資料科學家的一天"&gt;資料科學家的一天&lt;/a&gt;提到的銷售資料以及廣告資料合併起來做分析，在 AWS 上我們可以實作一個這樣的資料管道：&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/data-engineering/data-lake-example.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    利用 AWS Athena 及 AWS Glue 實作以資料湖為基礎的分析架構
    &lt;font color="purple"&gt;: &lt;/font&gt;即時合併並分析不同格式的資料
    &lt;br/&gt;
&lt;/center&gt;&lt;p&gt;我們將存在關聯式資料庫的銷售資料透過 ETL 存到資料湖（AWS S3）裡頭以後，利用 AWS Glue 將資料的中繼資料（Meta Data）存在資料目錄（Data Catalogue）底頭。常見的中繼資料有&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;表格定義（有哪些欄位，如：&lt;code&gt;sale_id&lt;/code&gt;）&lt;/li&gt;
&lt;li&gt;各個欄位的資料型態&lt;/li&gt;
&lt;li&gt;各個欄位實際在原始資料（如 CSV ）裡頭的排列順序&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;接著我們就可以利用提到的 SQL 查詢把銷售資料跟廣告資料合併：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SELECT *
FROM sales AS s
INNER JOIN clicks AS c
ON s.sale_id = c.sale_id&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;收到以上的 SQL 查詢，Athena 會分別把銷售資料以及廣告資料依照對應的資料目錄解析資料後合併再回傳結果給我們。&lt;/p&gt;
&lt;p&gt;我認為今後這種以資料湖為基礎的分析架構會越來越熱門，原因如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;非結構化資料量越來越大，花費人力在事前為資料倉儲建立完整的 schema 越來越不實際&lt;/li&gt;
&lt;li&gt;分散式 SQL 查詢服務像是 Athena 抽象化複雜的資料格式，允許資料科學家下 SQL 查詢做 ad-hoc 分析&lt;/li&gt;
&lt;li&gt;透過 Parquet / ORC 等資料格式來自動減少資料湖沒有做正規化而導致的效能損失&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="一些關鍵技術_2"&gt;一些關鍵技術&lt;a class="anchor-link" href="#一些關鍵技術"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;雖然再過幾年，等到資料工程的人才增加，資料科學家或許可以完全不用介意背後的資料基礎設施的建置，但近幾年這部分可能還是要靠資料科學家自己實作。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料湖的概念&lt;/li&gt;
&lt;li&gt;AWS Glue + AWS Athena 的運用（Bonus: Serverless 分析架構，不需管理機器）&lt;/li&gt;
&lt;li&gt;Hive MetaData Store&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在資料湖的例子我主要都用 AWS 的服務來舉例，但你可以自由使用其他雲端服務或者 Hadoop。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="如何實際應用資料工程？_1"&gt;如何實際應用資料工程？&lt;a class="anchor-link" href="#如何實際應用資料工程？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;首先你得先了解目前環境的資料基礎設施。而為了釐清這點，你可以問自己或者相關人員以下問題：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料科學的金字塔，我們建到哪一層了？&lt;/li&gt;
&lt;li&gt;我們過去有哪些專案是在取得、準備資料階段就陷入瓶頸？&lt;/li&gt;
&lt;li&gt;我們有專業的資料工程師或相關人員在做資料倉儲或者是資料湖的準備嗎？&lt;/li&gt;
&lt;li&gt;我們的資料是儲存在什麼分散式檔案儲存系統上面？ HDFS 還是 S3？&lt;/li&gt;
&lt;li&gt;我們是怎麼管理/監管 ETL 工作的？ 要考慮用 Airflow 嗎？&lt;/li&gt;
&lt;li&gt;要建構一個新的資料管道的話，要自己架 Hadoop 群集還是使用雲端服務？&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在你思考過以上幾個問題以後，你就會發現為何過往有些資料科學的專案進展緩慢了。這時候與其一直在等待資料的到來，你可以把你想到的幾個問題拿去跟相關的工程師討論。相信我，從你開口跟他們討論如何解決資料基礎設施的瓶頸這點開始，他們將不再視你為「那個只想要拿到資料」的敵人，而是同伴。&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/data-engineering/hadoop-framework.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://medium.com/@ssola/becoming-a-data-engineer-5e0f14048d42" target="_blank"&gt;Hadoop 的分散式基礎設施&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;要學的東西太多，不如就用雲端服務吧
    &lt;br/&gt;
&lt;/center&gt;&lt;p&gt;假如很不幸，你們公司沒有專業的工程師，而你得自己想辦法兜出一個可以處理這些大量資料的方法，我會建議先從現存的全受管（Full-Managed）雲端服務找能解決痛點的方案。&lt;/p&gt;
&lt;p&gt;使用現成的雲端服務來建置資料基礎有幾個好處：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pay-as-you-go，通常是用多少花多少&lt;/li&gt;
&lt;li&gt;Proof-of-concept，你可以直接開始嘗試建立最重要的商業邏輯而非架機器&lt;/li&gt;
&lt;li&gt;Serverless 架構，不需管理機器（如 AWS Glue + Athena）&lt;/li&gt;
&lt;li&gt;導入成本降低（相較於自己架 Hadoop Cluster）&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;我嘗試在這篇文章說明資料工程對資料科學家的重要，以及你可以如何開始學習資料工程。&lt;/p&gt;
&lt;p&gt;在這個大數據時代，資料科學家的價值在於找出「大量」資料背後的潛在價值，不要反而讓「資料量太多」這邊成了你最大的限制。
從雲端服務開始，多學一點資料工程，讓你的資料科學專案前進地更快吧！&lt;/p&gt;
&lt;p&gt;如果你有任何想法想要提出或分享，都歡迎在底下留言或者透過社群網站聯絡我 B-)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="資料科學"></category><category term="資料工程"></category><category term="data-science"></category><category term="data engineering"></category></entry><entry><title>淺談資料視覺化以及 ggplot2 實踐</title><link href="https://leemengtaiwan.github.io/data-visualization-from-matplotlib-to-ggplot2.html" rel="alternate"></link><published>2018-04-14T15:10:00+09:00</published><updated>2018-04-14T15:10:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-04-14:/data-visualization-from-matplotlib-to-ggplot2.html</id><summary type="html">&lt;p&gt;這篇主要描述自己以往在利用 Python 做資料視覺化時常犯的思維瑕疵，而該思維如何在接觸 R 的 ggplot2 以後得到改善。本文會試著說明資料視覺化的本質為何，以及在設計視覺化時，概念上應該包含什麼要素以及步驟。最後展示如何透過 ggplot2 活用前述的概念，來實際做資料視覺化。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這篇主要描述自己以往在利用 Python 做資料視覺化 (data visualization) 時常犯的思維瑕疵，而該思維如何在接觸 R 的 &lt;a href="http://ggplot2.org/"&gt;ggplot2&lt;/a&gt; 以後得到改善。&lt;/p&gt;
&lt;p&gt;本文會試著說明資料視覺化的本質為何，以及在設計視覺化時，概念上應該包含什麼要素以及步驟。最後展示如何透過 ggplot2 活用前述的概念，來實際做資料視覺化。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="目錄"&gt;目錄&lt;a class="anchor-link" href="#目錄"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;文章內容大致上會分為以下幾個小節：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#資料視覺化是資料與圖的直接映射？"&gt;資料視覺化是資料與圖的直接映射？&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#資料視覺化應該是-.."&gt;資料視覺化應該是 ..&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ggplot2-實踐"&gt;ggplot2 實踐&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#結語"&gt;結語&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#References"&gt;References&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="資料視覺化是資料與圖的直接映射？"&gt;資料視覺化是資料與圖的直接映射？&lt;a class="anchor-link" href="#資料視覺化是資料與圖的直接映射？"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;身為一個 Python 起家的資料科學家，在做資料視覺化的時候，我很自然地使用 Python ecosystem 裡像是 &lt;a href="https://matplotlib.org/"&gt;matplotlib&lt;/a&gt; 以及 &lt;a href="https://seaborn.pydata.org/"&gt;seaborn&lt;/a&gt; 等繪圖 packages。針對手中的資料，我會想辦法找到一個「對應」的圖然後把資料塞進去。簡單無腦 &lt;em&gt;(:3 」&amp;ang;)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;舉例來說，當我們手上有三個變數 x, y, z 且其各自的資料型態為：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;x: &lt;a href="https://zh.wikibooks.org/zh-hant/%E7%B5%B1%E8%A8%88%E5%AD%B8/%E7%B5%B1%E8%A8%88%E8%B3%87%E6%96%99"&gt;定量變數 (quantitative)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;y: 定量變數&lt;/li&gt;
&lt;li&gt;z: &lt;a href="https://zh.wikibooks.org/zh-hant/%E7%B5%B1%E8%A8%88%E5%AD%B8/%E7%B5%B1%E8%A8%88%E8%B3%87%E6%96%99"&gt;定性變數（categorical）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;則我們想要進行資料視覺化的時候有幾種選擇：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;想分析 x, y -&amp;gt; 都是定量資料 -&amp;gt; 散佈圖 (scatter plot)&lt;/li&gt;
&lt;li&gt;想分析 x, z -&amp;gt; 一定量一定性 -&amp;gt; 長條圖 (bar chart)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在這，「資料視覺化」的定義是一種映射關係 (mapping)：也就是如何將資料直接對應到某個「特定」圖表形式（折線圖、散佈圖 etc.）。基本上這種映射關係在做簡單的分析的時候沒有什麼問題，但是當想要同時分析/呈現的變數超過兩個 （例： x &amp;amp; y &amp;amp; z ）的時候就不容易找到適合的圖。一個折衷的方法是我們把變數兩兩畫圖做比較，但這樣會侷限我們能分析的資料維度數目，錯過一些有趣的洞見。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="資料視覺化應該是-.."&gt;資料視覺化應該是 ..&lt;a class="anchor-link" href="#資料視覺化應該是-.."&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="先確認觀眾及目的"&gt;先確認觀眾及目的&lt;a class="anchor-link" href="#先確認觀眾及目的"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在完成一些 &lt;a href="#References"&gt;ggplot2 的 tutorials&lt;/a&gt; 後，可以發現資料視覺化一般依用途可以分為兩種：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;探索、了解資料特性&lt;/li&gt;
&lt;li&gt;說故事：將探索過後得到的洞見 (insight) 傳達給其他人&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/ggplot2/data-vis-purpose.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://www.datacamp.com/courses/data-visualization-with-ggplot2-1" target="_blank"&gt;Image Credit&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;搞清楚資料視覺化的目的以及觀眾是重要的第一步
    &lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;依照目的以及觀眾的不同，資料視覺化的方式會有所不同。一個常見的例子是當我們第一次接觸某個資料集。這時候資料視覺化的觀眾是自己，目的是在最短的時間了解資料特性。則這時我們在做圖的時候的要求就可以很寬鬆，像是不加上標題，或是只要能做出自己能理解的視覺化即可。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="正式定義"&gt;正式定義&lt;a class="anchor-link" href="#正式定義"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在確認觀眾及目的以後，我們終於可以開始進行資料視覺化了！資料視覺化的定義因人而異，而這邊我想給出一個非常直觀的定義：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;資料視覺化是將資料中的變數映射到視覺變數上，進而有效且有意義地呈現資料的樣貌&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;一些常見且肉眼容易識別的視覺變數 / 刻度（visual variables / scales）包含：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;位置（x / y axis）&lt;/li&gt;
&lt;li&gt;顏色（color）&lt;/li&gt;
&lt;li&gt;大小（size）&lt;/li&gt;
&lt;li&gt;透明程度（alpha）&lt;/li&gt;
&lt;li&gt;填滿（fill）&lt;/li&gt;
&lt;li&gt;形狀（shape）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;用更口語的方式來解釋：在做資料視覺化的時候，我們希望能將&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;肉眼難以分析的資料&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;對應到：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;肉眼容易解讀的視覺元素&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;透過這個映射關係，我們可以將原本的變數的數值變化也映射到視覺變數的變化。而因為我們人類容易區別視覺變數的變化（位置差異、大小長度變化 etc），我們能更容易地理解原始資料的樣貌、變化以及模式。&lt;/p&gt;
&lt;p&gt;舉例來說，我們可以：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;把不同捷運路線（文湖線、板南線）對應到不同顏色&lt;/li&gt;
&lt;li&gt;把各國的 GDP 對應到點的大小&lt;/li&gt;
&lt;li&gt;把某個資料的年份對應到 Ｘ 軸，越右邊代表越接近現代&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="一個簡單例子"&gt;一個簡單例子&lt;a class="anchor-link" href="#一個簡單例子"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;事實上，我們可能平常每天都在做資料視覺化而不自知。比方說我們有一個數列 &lt;code&gt;y&lt;/code&gt;：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.055&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.132&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;0.522&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.229&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.013&lt;/span&gt; &lt;span class="o"&gt;..&lt;/span&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;光是看這個數字，肉眼無法看出什麼模式，但我們可以簡單畫個圖：&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/ggplot2/simple-visual-encoding.png" style="width:70%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這邊我們利用視覺變數「Y軸位置」來呈現數值的變化，可以馬上看出數列裡頭的值都落在 -3 到 3 之間，而這是因為我們肉眼很容易辨別「位置」這個視覺變數的變化。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="圖像的分層文法"&gt;圖像的分層文法&lt;a class="anchor-link" href="#圖像的分層文法"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在 &lt;a href="http://byrneslab.net/classes/biol607/readings/wickham_layered-grammar.pdf"&gt;A Layered Grammar of Graphics&lt;/a&gt; 裡頭，&lt;a href="http://hadley.nz/"&gt;Hadley Wickham&lt;/a&gt; 闡述所謂的圖像（包含由資料視覺化產生的圖像）實際上如同我們平常使用的語言，是有文法的。而其文法可以拆成 7 個部分（層）。前述的&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;原始資料 = 資料層（Data）&lt;/li&gt;
&lt;li&gt;視覺變數層（Visual variables = Aesthetics）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;則恰好是這個架構裡頭最底下的兩層。視覺變數是我為了方便理解建立的名詞，在原文以及 ggplot2 裡頭被稱作 &lt;strong&gt;Aesthetics&lt;/strong&gt;。（中文翻作「美學」，當初看好久也無法理解啊 (╯&amp;deg;Д&amp;deg;)╯ ┻━┻）&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/ggplot2/layered-grammar-of-graphics.png" style="width:80%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://www.datacamp.com/courses/data-visualization-with-ggplot2-1" target="_blank"&gt;Image Credit&lt;/a&gt;
&lt;font color="purple"&gt;: &lt;/font&gt;圖像的分層文法
    &lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;看到這你一定會「哇靠那我每次畫個圖都要實作七層？」。實際上不需要，上面幾層像是主題（Theme）比較像是裝飾品，給我們更大的自由與彈性來訂製（customize）視覺化結果。在下一節我們會看到，ggplot2 會自動幫我們設定合適的主題或座標。（如果沒特別指定的話）&lt;/p&gt;
&lt;p&gt;但一般而言，一個圖像最基本的組成是底下三層。也就是除了前述的兩層（資料、視覺變數）以外還需要加上&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;幾何圖形層（Geometries）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;為何還要這層？假如我們有了資料，決定了視覺變數（第二層，例：把資料中的變數 A 對應到 X 軸；變數 B 對應到 Y 軸）後，實際上就可以畫一個充滿點（point）的散佈圖了不是嗎？&lt;/p&gt;
&lt;p&gt;這樣的思維如同&lt;a href="#資料視覺化是資料與圖的直接映射？"&gt;資料視覺化是資料與圖的直接映射？&lt;/a&gt;部分所提到的，有所瑕疵。如果變數 A 是分類型變數（Categorical）的話，單純以&lt;strong&gt;點&lt;/strong&gt;為圖形的散佈圖就會變得十分難以理解（下圖左）；這時候以&lt;strong&gt;長條&lt;/strong&gt;為圖形（下圖右）的方式會比較清楚：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/ggplot2/make-geom-layer-independent.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    獨立幾何圖形層
    &lt;font color="purple"&gt;: &lt;/font&gt;
&lt;br/&gt;讓資料視覺化不再侷限於「我要畫什麼圖」，而是「我想要怎麼畫」
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;將「幾何圖形」這個選擇獨立出來一層讓我們在資料視覺化的時候有更大的彈性。有了這些基本概念以後，我們可以開始嘗試使用 ggplot2 來實際做一些資料視覺化。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="ggplot2-實踐_1"&gt;ggplot2 實踐&lt;a class="anchor-link" href="#ggplot2-實踐"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;在這個章節裡頭我們將使用 Kaggle 的 &lt;a href="https://www.kaggle.com/residentmario/ramen-ratings/data"&gt;Ramen Ratings&lt;/a&gt; 來做資料視覺化。這資料集紀錄了各國泡麵所得到的星星數。首先我們要先載入這次的主角：R 語言裡頭最著名的視覺化 package ggplot2。&lt;a href="http://yaojenkuo.io/r_programming/ch14#(1"&gt;dplyr&lt;/a&gt; 則是 R 語言用來處理資料的 package。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="載入-packages"&gt;載入 packages&lt;a class="anchor-link" href="#載入-packages"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ggplot2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;dplyr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;值得一提的是它們都是同屬於 &lt;a href="https://medium.com/datainpoint/tidyverse-r-%E8%AA%9E%E8%A8%80%E5%AD%B8%E7%BF%92%E4%B9%8B%E6%97%85%E7%9A%84%E6%96%B0%E8%B5%B7%E9%BB%9E-3b01ca6a348c"&gt;TidyVerse&lt;/a&gt; 的一員。TidyVerse 是 R 裡頭常被用來做資料科學的 packages 的集合，以 Python 來說大概就像是 Pandas + Matplotlib + Numpy 的感覺吧。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="載入資料-+-簡單資料處理"&gt;載入資料 + 簡單資料處理&lt;a class="anchor-link" href="#載入資料-+-簡單資料處理"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;如下註解所示，這邊將資料集讀入，做一些簡單的資料型態轉變後選擇一部分的資料集（subset）來做之後的視覺化：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 將 CSV 檔案載入成資料框架（dataframe）&lt;/span&gt;
&lt;span class="n"&gt;ramen_all&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"datasets//ramen-ratings.csv"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# 將「星星數」轉成定量資料&lt;/span&gt;
&lt;span class="n"&gt;ramen_all&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;Stars&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;numeric&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ramen_all&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;Stars&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; 

&lt;span class="c1"&gt;# Subset 資料，選擇拉麵數量前幾多的國家方便 demo&lt;/span&gt;
&lt;span class="n"&gt;ramen&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="n"&gt;ramen_all&lt;/span&gt; &lt;span class="o"&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class="nb"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Country&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;% count(ramen_all, Country, sort = TRUE)[1:6, 1, drop=TRUE]) %&amp;gt;%
  &lt;span class="nb"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Style&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;% count(ramen_all, Style, sort = TRUE)[1:4, 1 , drop=TRUE])
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;除了我們使用 dplyr 的 &lt;code&gt;filter&lt;/code&gt; 依照條件 subset 資料集以外，值得一提的是 pipe 運算子 &lt;code&gt;%&amp;gt;%&lt;/code&gt;。它是前面提到的 TidyVerse 裡頭的 packages 共享的介面（interface），將前一個函示的輸出當作下一個函式的輸入，讓我們可以把運算全部串（chain）在一起。在 Linux 裡頭就是如同 &lt;code&gt;|&lt;/code&gt; 的存在。&lt;/p&gt;
&lt;p&gt;而實際我們的資料長這樣：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ramen&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_html rendered_html output_subarea "&gt;
&lt;table class="table table-striped table-responsive"&gt;
&lt;thead&gt;&lt;tr&gt;&lt;th scope="col"&gt;Review..&lt;/th&gt;&lt;th scope="col"&gt;Brand&lt;/th&gt;&lt;th scope="col"&gt;Variety&lt;/th&gt;&lt;th scope="col"&gt;Style&lt;/th&gt;&lt;th scope="col"&gt;Country&lt;/th&gt;&lt;th scope="col"&gt;Stars&lt;/th&gt;&lt;th scope="col"&gt;Top.Ten&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;2580                                                       &lt;/td&gt;&lt;td&gt;New Touch                                                  &lt;/td&gt;&lt;td&gt;T's Restaurant Tantanmen                                   &lt;/td&gt;&lt;td&gt;Cup                                                        &lt;/td&gt;&lt;td&gt;Japan                                                      &lt;/td&gt;&lt;td&gt;37                                                         &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;2579                                                       &lt;/td&gt;&lt;td&gt;Just Way                                                   &lt;/td&gt;&lt;td&gt;Noodles Spicy Hot Sesame Spicy Hot Sesame Guan-miao Noodles&lt;/td&gt;&lt;td&gt;Pack                                                       &lt;/td&gt;&lt;td&gt;Taiwan                                                     &lt;/td&gt;&lt;td&gt; 7                                                         &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;2578                                                       &lt;/td&gt;&lt;td&gt;Nissin                                                     &lt;/td&gt;&lt;td&gt;Cup Noodles Chicken Vegetable                              &lt;/td&gt;&lt;td&gt;Cup                                                        &lt;/td&gt;&lt;td&gt;USA                                                        &lt;/td&gt;&lt;td&gt;16                                                         &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;2577                                                       &lt;/td&gt;&lt;td&gt;Wei Lih                                                    &lt;/td&gt;&lt;td&gt;GGE Ramen Snack Tomato Flavor                              &lt;/td&gt;&lt;td&gt;Pack                                                       &lt;/td&gt;&lt;td&gt;Taiwan                                                     &lt;/td&gt;&lt;td&gt;19                                                         &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;2575                                                       &lt;/td&gt;&lt;td&gt;Samyang Foods                                              &lt;/td&gt;&lt;td&gt;Kimchi song Song Ramen                                     &lt;/td&gt;&lt;td&gt;Pack                                                       &lt;/td&gt;&lt;td&gt;South Korea                                                &lt;/td&gt;&lt;td&gt;47                                                         &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;2574                                                       &lt;/td&gt;&lt;td&gt;Acecook                                                    &lt;/td&gt;&lt;td&gt;Spice Deli Tantan Men With Cilantro                        &lt;/td&gt;&lt;td&gt;Cup                                                        &lt;/td&gt;&lt;td&gt;Japan                                                      &lt;/td&gt;&lt;td&gt;39                                                         &lt;/td&gt;&lt;td&gt; &lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="簡單資料視覺化"&gt;簡單資料視覺化&lt;a class="anchor-link" href="#簡單資料視覺化"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;有了資料，讓我們再確定一下資料視覺化的目的及觀眾：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;目的：探索資料&lt;/li&gt;
&lt;li&gt;觀眾：我們自己&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這樣的條件讓我們知道視覺化的條件是快速做出結果，不需調整如標題、主題的設定。&lt;/p&gt;
&lt;p&gt;現在讓我們問一些簡單的問題。像是&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;泡麵的包裝（碗裝、袋裝等）各佔多少比例？&lt;/li&gt;
&lt;li&gt;不同國家各有多少泡麵在資料集裡頭？&lt;/li&gt;
&lt;li&gt;不同包裝的泡麵所得到的星星總數，在不同國家有什麼差異嗎？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;其中一種能解決第一個問題的資料視覺化是：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ggplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ramen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Style&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;geom_bar&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
QACBVAT+H+5PGMGtxImPAAAAAElFTkSuQmCC"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在 &lt;code&gt;ggplot(ramen, aes(x = Style)) + geom_bar()&lt;/code&gt; 裡頭，我們實際上已經建構了圖表最基礎的三層元素：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料層： &lt;code&gt;ramen&lt;/code&gt; 告訴 ggplot2 使用此資料框架&lt;/li&gt;
&lt;li&gt;視覺變數層： &lt;code&gt;aes(x = Style)&lt;/code&gt; 告訴 ggplot2 我們將使用「 X 軸位置」這個視覺變數來反映泡麵包裝 &lt;code&gt;Style&lt;/code&gt; 這個變數的變化&lt;ul&gt;
&lt;li&gt;因為包裝的值有四種可能，你可以想像 ggplot2 已經準備好要幫你在 X 軸上的四個位置畫圖&lt;/li&gt;
&lt;li&gt;&lt;code&gt;aes&lt;/code&gt; 是我們前面提到 &lt;strong&gt;aesthetics&lt;/strong&gt; 的縮寫&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;幾何圖形層： &lt;code&gt;geom_bar()&lt;/code&gt; 告訴 ggplot 去計算對應到 &lt;code&gt;x&lt;/code&gt; 視覺變數的變數裡頭，所有值的出現次數後將結果以&lt;strong&gt;長條&lt;/strong&gt;來呈現&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我們通常透過 &lt;code&gt;+&lt;/code&gt; 來疊加不同層的結果。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="基本層數缺一不可"&gt;基本層數缺一不可&lt;a class="anchor-link" href="#基本層數缺一不可"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;上面的例子很簡單，但假如我們沒有指定幾何圖形層的話，圖會長什麼樣子呢？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ggplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ramen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Style&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
2Oe08I5O32SfyEUXXdR23333Th21icDf/va39r3vfW+wvf7669v666/fdtxxx7bSSisBmiYC
F1xwQfvBD36w8NVkn+5tb3vblmNFN9poo4W3L8k3l1122XCM9x577LEkbTx2gsCZZ57ZMn5i
cVP+Zm677baLu9vtRYE5F8Cf/OQn2yqrrNLufOc7D4Nzrrnmmvbb3/62bb755u01r3nNcPad
ol2pLAF8/PHHC+CSVq3o8ssvb8997nOHM1xlvt10003tAx/4QDvhhBPaRz7ykbbyyivXGqma
VIEE8Kc//em28cYbD8+Ts+nlpChHHXXUcGayww8/fImfPwGchWoBvMSU4xpk0On3v//94ba/
//3v7eKLL273uc99Fn62lllmmXH1fvjfBOZcAIdp5513HveBzS/XAQcc0PIHY8stt/zfJD1q
SgT+/Oc/txe+8IXDFov8AV9uueWG580f9j333LO9733vay960Yum5LV4klsXuOMd79iOPPLI
cYVf+MIX2pvf/Ob2+Mc/vm266abj7vPD9BDYZ599Wv5lykrEM57xjPbiF7+4bbDBBtPjBc6S
VzEnA3jivMuhRdl0ecUVVyy866qrrmrHHXdcy+EQt7/97dv2228/rCWn4P3vf/8QAFn7ypTg
Pv3004dgWGGFFYbbjj76aGE+SPT9L+cIzrmdDz300IXhm2fIaQtf8pKXDJs8c3/Wtt75zncO
oXzXu951eBEJ76whP/vZzx7m99vf/vb25Cc/uX3+859vf/rTn9oDH/jAttNOOy1cyu/7ynUb
CTzykY8cAjifrVEA51zrZ599dvvjH//Y7nCHOwxryDkd5WjKaWAz77O1arPNNmuPeMQjhs/l
6P7R10suuaSddNJJQ7hnjc00eQL//Oc/2xFHHDGs0HziE59o+ZwdeOCB7d///vew5SMrNtlV
tM466wxbALPV8ZRTTmlZo95tt90WvrB89o455pj2nOc8Z9hFsfCOOfDNnByEdcMNN7S//vWv
LSGbTS3ZfJl9U1tttdUwy7M2tf/++w/7lh760IcOf8zzxz0f7ExXXnnl8Ed7+GHBfyeffPLw
i/XjH/94uOkvf/lLyy/kWmutNSrxtZPAj370o2GTZnYjTJwy//IHICfxTwhnTSvzeDTlYhq5
LWMAstk63x988MHDzzl5fM5f+/rXv74Vrk8yaunr/yDwne98Z3jU2muvPXw98cQT26tf/ep2
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"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;就像我們剛剛所說的，雖然 ggplot2 已經知道要用什麼資料框架、要用什麼視覺變數，不知道要用什麼圖形表示的話就會是空白一張圖。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="另個簡單例子"&gt;另個簡單例子&lt;a class="anchor-link" href="#另個簡單例子"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;讓我們依樣畫葫蘆，來解決第二個問題：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不同國家各有多少泡麵在資料集裡頭？&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ggplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ramen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Country&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fill&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Style&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
  &lt;span class="n"&gt;geom_bar&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
  &lt;span class="n"&gt;coord_flip&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
EEAAAQQQQCA4BFavXi3Z2dmmMnv27JGUlBS57rrrnJVr3769czvYNwiAg72HqB8CCCCAAAII
IIAAAgggEECBZcuWOUt/5JFH5D//+Y98+umnzn2htME9wKHUW9QVAQQQQAABBBBAAAEEEAhC
gRdffFGWLFkif/vb36R///7y3XffmVp++OGHMmTIEOnYsaMkJyfLxx9/bPZnZWXJsGHDZNWq
VW6tWbBggTz//PNu+3z5ggDYl5rkhQACCCCAAAIIIIAAAgjYUECD37vvvls2bNggaWlpUr58
eZk6darcfvvt0qBBAxk4cKCkp6fLzTffLOvXr5fSpUvL4cOHZdKkSW5aY8eOdXvt6xdMgfa1
KPkhgAACCCCAAAIIIIAAAjYUiImJkRUrVpjgVpuv9wpPnDjRBMb6WoPhxMREWbt2rbRq1UoG
Dx4svXr1kl9++UUSEhJky5YtsmPHDhkwYICe7pdEAOwXVjJFAAEEEEAAAQQQQAABBOwlcNVV
VzmDX235P//5Tzl06JDotOadO3fK1q1b5cyZM3L27FkD061bNxP4vvfee3LPPffInDlzpGvX
rlKjRg2/wTEF2m+0ZIwAAggggAACCCCAAAII2EegcuXKbo2dPHmy1K9fX5555hkzGty7d2+p
WrWq85zIyEi544475M033xS9J/jtt9+WQYMGOY/7Y4MRYH+okicCCCCAAAIIIIAAAgggYGMB
HekdPXq0TJgwQe6//34joUGuBryORyrpTg149RwdBT5//rz06NHDr2qMAPuVl8wRQAABBBBA
AAEEEEAAAfsJ6OiujgjrQlca8OoCWMOHD5dz5845p0CrStOmTeXqq682q0f369dPypYt61cs
AmC/8pI5AggggAACCCCAAAIIIGA/gaioKHnuuefknXfeMdOeq1evblaG1iB38+bNbiC6GJYG
yv6e/qyFMgXajZ4XCCCAAAIIIIAAAggggAACBQno/bz6kzstXrw49y6zmrOu6HzgwAHRAFhH
hfNLpUqVkssuu8yMBOd33Jf78q+BL0sgLwQQQAABBBBAAAEEEEAAAdsK1KpVK9+2//jjj7Jv
3z4ZP368uV8435N8vJMp0D4GJTsEEEAAAQQQQAABBBBAAIGiBebNmycdOnSQa665RoYOHVr0
BT44gwDYB4hkgQACCCCAAAIIIIAAAggg4JnAQw89JKdPnzaPP9Jp0FYka0qxoiWUgQACCCCA
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
YII="/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這邊有兩個值得注意的地方：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;除了基本的三層以外，我們透過 &lt;code&gt;+ coord_flip()&lt;/code&gt; 額外對座標層（Coordinates）做操作，請 ggplot2 把 x, y 軸互換。&lt;/li&gt;
&lt;li&gt;透過 &lt;code&gt;aes(..., fill = Style)&lt;/code&gt; 裡頭的 &lt;code&gt;fill = Style&lt;/code&gt; ，我們告訴 ggplot2 將長條圖裡頭的填滿空間（fill）這個視覺變數，依照泡麵包裝（Style）做變化&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;第二點是在做資料視覺化的時候，想辦法增加&lt;a href="https://en.wikipedia.org/wiki/Edward_Tufte"&gt;資料墨水量（Data Ink Ratio）&lt;/a&gt;的例子。透過增加顯示在同張圖上的變數數目，進而提高該圖能傳達的訊息量。&lt;/p&gt;
&lt;p&gt;舉例而言，我們可以很明顯地看到，在這資料集裡頭，台灣的杯裝泡麵（Cup）沒有被記錄到多少；而日本被記錄到的泡麵量最多，且袋裝（Pack）數目最多。這些是在我們沒有用「填滿」這個視覺變數時無法察覺的。而在 ggplot2 裡，要實現這種視覺化非常容易。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="複雜例子"&gt;複雜例子&lt;a class="anchor-link" href="#複雜例子"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;讓我們解決最後一個問題：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不同包裝的泡麵所得到的星星總數，在不同國家有什麼差異嗎？&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;資料視覺化一個有趣的地方就是：同個問題不同的人會有不同的做法。而針對這問題其中一種做法是：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;將包裝 &lt;code&gt;Style&lt;/code&gt; 對應到 X 軸、星星數 &lt;code&gt;Stars&lt;/code&gt; 對應到 Y 軸，然後使用長條 &lt;code&gt;geom_bar&lt;/code&gt; 顯示數值&lt;/li&gt;
&lt;li&gt;依照每個國家重複步驟一&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;而 ggplot2 的實作為：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ggplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ramen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Style&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Stars&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
  &lt;span class="n"&gt;geom_bar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;stat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"identity"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
  &lt;span class="n"&gt;facet_wrap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt; &lt;span class="n"&gt;Country&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
BBDwU4AA2M9yIVcIIIAAAggggAACCCCAAAI5FiAAzjEoq0MAAQQQQAABBBBAAAEEEPBToNSX
bO3du9eeeOIJe+mll+yEE06wk046ybp1Oxif79mzx5YuXWrLly+3Y4891saPH98m62vXrrXF
ixdb//79raamxqqqqkLzZJoempkBBBBAAAEEEEAAAQQQQACBRAkcjDALuFu7d++266+/3ubM
mWOvvfaazZw506ZPn24KipUU/M6YMcNuuukmW7dunc2aNcvNm5rle++916ZOneoC5Pvvv9+u
vPJK27JlS8ssmaa3zMgHBBBAAAEEEEAAAQQQQACBRAp4UQP88MMP24svvmi1tbU2YMAAa2xs
tPPPP98effRRmzhxoimg3bFjh82bN88qKyttzZo1Ltg999xzbfTo0aaaXS17xx132NixY625
udkFzJpfgXOm6YksWXYKAQQQQAABBBBAAAEEEEAgJOBFDfADDzzgAl4Fv0o9evRwAe2pp57q
hh9//HEXCCv4VRoxYoSNGTPGFi1a5IaXLFliw4YNc8GvRpSWltqkSZMiT3crSflPNc6p//bt
25cylY8IIIAAAggggAACCCCAAAJxFPCiBlg1tApg77nnHnv66aetX79+dskll9ioUaOc6fr1
6930VGDNv3Hjxpbpw4cPT53s5t+0aZNrRq3lO5qe+qzxs88+axdeeGFoXbfccotNnjw5NM7H
gUGDBvmYrYLlSccRqfACQ4cOLXwm2smBbrT5mjdld9euXe3kuu0on/chyG1FRYXX1kE+8/k3
DuWWT4/Bgwfnc3Peb0t9mcQ9qTIiDsf5YYcdFnfqnOa/d+/epn+kAwI9e/Y0/SMdEFDM5PP3
uqmpKVJRFTwArq+vdxd6Cn4HDhxo73nPe1zT5yuuuMLuvvtuO/zww02BbOsvo4ZXrlzpdvL1
119vM726utoFv9u2bbNM01MDJdUyv+Md7wjh9e3b16KChhbM00D37t1N/3zOY54o3Gb05dQP
r5rCB8+R53P7bCss4ONxWV5e7o4NHSO+JrVCiZJ89E3NdxysU/Pb1Z/LysrcJtT3BelAiy2d
s30/jvNVVsHvl44Pn1uf6XudKSn/PpdrcO3ku3Um51xNLykpMZ2fuHY6KKrjPGgRenBs8X6K
w++Xjt8o56eCB8DBRZ56bL7tttvcUaXnf6dMmWL33Xef3XDDDa436NYXqhoOmkQHX9jUQzKY
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
Z1xwEIcA+LvvvrO//e1vzkXbq2DtjjvusOHDhzs3BYNJTjoWdHzot8vfQba8vNy++eYbdwfV
2267zdq0aVMtApV3+o5NN900NgGwGiy13Uo//PCDzZw5M1V+a9rmm2+uF1I1BWq77qQAWMfi
VlttFYsAmLpTzdedFAAPGTIkNgEwdScC4GoWu9F/XMHdwIEDUytWpX7AgAF2//3323nnnZea
Xmx/vPDCC3b11Ve7IE/Bnk9vvPGGnXPOObbjjjsWRWWiXbt2GceHHPyP23777Wddu3b1NEXx
etRRR5n+KalBpF+/fnbmmWfaeuutVxT7X9s7+X//938Zwcctt9xiN998s+vpLNbHsE2dOtVO
PfVU22yzzVz55B/no8apI4880m699VY7/fTTazurCvJ9Z511lq2zzjqp71YDyTHHHGODBw8u
ikbK1I7/748bbrghNUnHgXpd0n/fUzP5o9oC1J0qJ6TutNyFulPm8UHdiQA484gI8J16DtSj
9dNPP6W2Tr0Ljz/+uI0ZM8b1NKg39KCDDnLPAb799ttdRcz3mqjX8MUXX3QVNP9cQbXGx23Y
8NChQ2233XZzPZ0piF//UE9l3759XW+UpqvHRT0Nf/7zn1OLqSdGRltuuaWNGzfO3n77bTes
XEP29Pw/Bc/bb799avm4/bHLLru4nvEvv/zSBcBqnVZPsXpDNYpAFQMNc9eQVZ80vFQO6iHd
brvt3L/KAhgdZ+rFUWAZ114seagiql5KDVtbddVVrX///u5ZrFU5ab/V+HTooYd6MpsyZYob
gnniiSe6oeepGUX8h84rnZvz589PPStxxowZbpqORz3zVuetyiP53X333c7ePxdY+aEe5YMP
PtgpeuNTTjklNqoaNaEecQV/PvjVxuvZkWeffba7bEHz1RP4r3/9ywXFOgaVFDyrJ+mEE05w
Paca6aOy/NFHH3VeW2yxhe29996xPfdU5mjEio4FnzQUU+fdxIkTXd5rvvLfP4t11qxZrlFP
l7n4SxjWX399//HUq3qYVbarfFPjX1yTeon1T8O6Neph9913d79fatx99dVX3SiLtm3but8+
DSfX77+CaP3GpTd4vvLKK66X+fDDD48rRaTb/VvrTvJTr1ifPn3cdqgByzfu6TI0JS2jc3aP
PfZw7+PwX751J42k0jGnssgnHX8a3aJhvdSdlqt8+umnpjL/+++/dyMAdB7qd65i+vzzz+3h
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
3UnllP75cryy41B1J92TRh0IqnOrPExCSmrdafkYpCTkUBHsgwI5DQPWEDEFwz6pdVLDf3wL
sirqGmaoQlvBr1pGVXDpZit6jeMdctXS+Mgjj7gfJb/fetWPlCpCGk6ppB/B9MqiCvD0G4hp
Gb3X9Sw+qWVXAXF6w4OfF7dXDYNXMKEfcfWUHH300aleAVW8dfMdBSk6hnxSr52GJPprn9QS
rqGrqlhdddVVGdfB+s/E/TWXk/bPP+NWw6DVE+OHYMZ936Pcfh/M+UYmlU/qQUlPeq/RCSqH
9Nxq9SDoJiIaKqab+KiM0rBD5UncKpjaT5VNKo81uqZi0l2yVW4pSPO9munlk+7zUDHp/PVJ
ow5UGY9jme33If1V16mqnFWAp561Aw44wDWMqHFESY0rPhj2n9NwaF2O4ZOGU6tBWEn3KEha
UuOcjhvdjOjOO+90PUoqk1Vm+/NN+6zySA2d6gXW71xljcNJs/m9+5Nv3Uk3B9X5pvs9qIFG
DQ0qn1SG6V9cy6ffU3eSdcXyqZjrTirDVX9OL59UbulSBI1cUlJjru78rxsiKghWI2/SUpLq
TgTAgR2dun5OQ1b1TyeVep707Fu1QqoSpB4U9ZLoh1FBnIaCqaVYJ6Yf1qofQg3HUFDoh0rr
VTfHimMBrixS67Z6LnXtlyqaqgxoWPf555/vctD3auumKrqOUD9iuoGRWuF0/XB6xUEfuPvu
u9061KquHhpVJtJb4N1KY/ifbrqg/fUBrh5D4m8wo4qVbtajnrtrrrnGDa/XcjqWdPyk94pr
11UBUwEvw6SlXE5+fzX8WTeNU0+cAp1iT7rMwpdPOs8u/vVaejVC+WtgdTdePe9Uj21TWabA
VhUBlUlqnFJSL4uuEdb1rQqINbxKx5lu3KaKftyS9k3D3XTpgfZVQavKFTXMqaxS2aT9VPml
Hpknn3zS2ejylvTAzu+3RrToEhb1hurcVaNV+t1+/XJxfNV5p1FMKotUJqsypQYmP7RXl+vo
d0s3eFJDgRoWZFTxLtCqjKp3xT8NIY4WVW2zv5RF+a/zQg2TGo2jIE5uPqlBSeeOGgH0JAB/
fvn5xfYaRd1JPV3qcVcDjQJfJb2qbNLvoxpF45Z+S91Jhgr+1aCim19V1qhXrHUn5bsu6dDl
POpg0vmomxSqvKp4XOiY0QiyJHYgJKnuxBDowEozBbW+dVs/hLo2SpUf3XxGrZH6p4BYN7pS
S7jea5iUfiD99R46QFVhUEXDDyfTCanhUnENgFWB1H6rF1s9m75Xd6ONNnJ3MVZlQEmP+1GB
pOs0VCFQIaR9Tx/yq3Wp8FIvp6ZreNnJJ58c2JHw+zZHvWsK2nQdin6wdXwokNUNVlSZlJOu
MdcwVBlpOI8aVXSjnYpJTrojqxoddBOEJAWA+TjJQ9dBq4FJN7+SZbGniy66KEWgyqJ681QW
+QqAXHW8qNFEDSsqwxTwappPeq87j+u8VJKryjjd4E8NNHFMukeDAlw1MupcU3Cnod+6flW9
nD5p+K/u6qwGN51fOk/9PR/8MrLUddBah8p2Pf9cyyYh6cYw6vlXRVLlsxp1VT7pHFODpd6r
R0XHh64rl6EaF1RGqcxOT5qm81O/C7qTeFKMdD7o2lP1lut40n7rGFKQmz7ySxb6fdPxxuiU
5U94qG7dSaYqn9TI5zsPVKYpqe6UXo9wE2Pwn86LfOpOqkupTqSgTf90KYN6M/1TJrSrWlcx
1510jx01+KrxTeepyitdclax80BWOhblpwYqjbBLSkpS3ank1x/ZZUnJmGLbD133qgJZwy6K
LamXRddNVVXpUeu5egkqFkzqXdFNeNQLo7sCar4qrklL+pHS/vlGkcr2T/M1LFNOxZpyOamH
vFevXm7EQMVrW4vVLJ/91s+KRqeoMa7YGg58D2dV55569dSAp97g9FEn6t3TTdbUmKleKF2q
4K+fzsc8TsvkKnt0/HijOAYdUeWFziE1gld1DmnEgXqhKhtJENU2JHE91J2qrjtpxIF6gv2N
6Xz+U3fyEstvUKvyuaLRiiWS/1cS6k50acT4OC3mG/LkultzPgVT+oX9MT4MKt10BbZVVcD9
B5K8/34fc71W5aTeKN3ASJVL9U4S/OaSzJyvoCXXOZr5ieS8U4PkyholFfTmstFxmdTgVzmd
q+zR8eNHLyXnyPjte1KVgYbPqxFYTy/wj5j67Wsv3k9Qd6o679UpULHjoOLSuc7fisvH6X1V
dYL0fdDolXzqmOmfSdrfVTnFqe5EAJy0o5L9WamAent1vSsJgZUJqIdKd4DWTZ2uv/76lS3K
PAQiEVDQp7Kpqt6+SL6ElSRCQPe/0BBxDYvWddMkBGpagLpTTQsnY/1xqjsxBDoZxxx7gQAC
EQtoSGoSh8dHzMTqEECgAAKUTwVA5ysRQCCnQFzKJgLgnFnJAggggAACCCCAAAIIIIAAAkkQ
4DFISchF9gEBBBBAAAEEEEAAAQQQQCCnAAFwTiIWQAABBBBAAAEEEEAAAQQQSIIAAXAScpF9
QAABBBBAAAEEEEAAAQQQyCnAXaBzErEAAggggAACYQksXrzYPvvsM/vmm29s3XXXdf/Snytc
3a3Vo3a0vg4dOlR3VXweAQQQQACBoAToAQ4qO9gYBBBAAAEEVi5w5ZVXumcNb7zxxrbPPvtY
ly5d3PvLL7/cli1blvHhsWPH2p133pkxLZ83u+++u+2///75LMoyCCCAAAIIxEqAADhW2cXG
IoAAAggUs8Dpp59u5513nu233372xBNP2BtvvGFXX321bbnllnbhhRfacccdl8GzxRZb2OjR
ozOm8QYBBBBAAIFiFuAxSMWc++w7AggggEBsBJYsWWLt2rWzTp062YcffuiGKPuN1zz1BH/7
7bc2depUW2WVVdwsDWM+9thj7Y477vCL5vW6ySabWJMmTeytt97Ka3kWQgABBBBAIC4CXAMc
l5xiOxFAAAEEilpg2rRpNmPGDOvRo0dG8CuUunXrup7ghx56yH744QdbsGCB3XzzzW5I9Lvv
vmsXXXSR9evXz95//33Te/Ukt2jRIsPz/vvvt++//97OOuusjOn+ja47LisrszFjxtgvv/xi
3bp1cz3OFdfjl+cVAQQQQACBEAUYAh1irrBNCCCAAAIIVBBo3769qWdWQe6gQYNcMJy+yAEH
HGCDBw+2jTbayAWor776qps9efJk099z5swxBbGXXnqpPfjgg+kftfLycjvhhBPsk08+yZju
3/z000+27bbb2vHHH+/WpQD4iiuusM0226zKz/jP8ooAAggggEBIAgTAIeUG24IAAggggMBK
BIYPH26rrbaanXLKKda2bVvbZptt7Nxzz7UXX3zRNAzap86dO9tLL71kJSUlttdee7m/FRjv
vffe1qZNG7vvvvv8ou710UcftdmzZ9tRRx2VMd2/Oeecc+ydd95xwbfuPv3www+7YdgLFy60
/v37+8V4RQABBBBAIHgBAuDgs4gNRAABBBBAYLmArvN977337Prrr7cddtjBDWm+6qqrbJdd
drH111/fBaUrs6pfv74dccQRrhd34sSJqUXvvfdeW2uttWynnXZKTfN/zJo1yw19Vg+wepl9
WmONNezwww+31157zT766CM/mVcEEEAAAQSCFiAADjp72DgEEEAAAQQyBVq2bGmnnXaa69Wd
OXOmPfvss25o8oQJE6x79+4uQM78ROa7vn37umuDdc2v0pQpU9w6+vTp43qMM5c2++KLL9zy
GkJ9yCGHZPwbNWqUW/zzzz+v+DHeI4AAAgggEKQAAXCQ2cJGIYAAAgggkCkwfvx4N/R46dKl
qRmNGze2XXfd1W677TZ77LHH3LW/w4YNS82v7A9dt6sbWPlh0AqENXy6quHPuvmWUqNGjdzN
t3Rnaf9PvcCHHnqoew5xZd/FNAQQQAABBEIT4C7QoeUI24MAAggggEAlAo8//ri7Q/PLL79s
O+64Y9YSu+22mzVo0MD12GbNrDBBvcAnn3yyu4GVrivebrvtbO21166w1PK3fvp6661nQ4YM
yVhGgbPuQE1CAAEEEEAgLgL0AMclp9hOBBBAAIGiFth3333d/p9//vmmuzJXTOr51eOPdt99
99QsBae6UVXFpGt3dT3wrbfeaqNHj7ajjz664iKp9wqAO3To4HqfNQw6Pel6Yj1zWM8fJiGA
AAIIIBAHAQLgOOQS24gAAgggUPQCusmVgt833njDunbtagMGDHBDn2+44QY77LDDrHfv3rbV
Vlu5a3Q9lq4X1t2g9Uzg7777zk+21q1b2z777OOma2jzwQcfnJpX8Y969erZNddcY/Pnz7f9
99/fXnnlFXv77bftjDPOMAXd6klec801K36M9wgggAACCAQpULLs1xTklrFRCCCAAAIIIJAl
8MADD7iAVM/s1fN7lTp27OgecTRw4EB3ra7/kJ4XrMck6bm9ZWVlGT29Tz75pPuMAmfdBTo9
6XnDTZo0sbfeeis1WUOldfOtH3/80U0rLS013Tjrlltucb3JqQX5AwEEEEAAgYAFCIADzhw2
DQEEEEAAgaoEdP3tV199ZU2bNrVOnTpVtZi7wdWMGTPc83/1XGCfnnnmGevZs6d7hvDOO+/s
J+d8nTx5sk2fPt09NklBMgkBBBBAAIE4CRAAxym32FYEEEAAAQQiENCdpPfYYw/To5N0d+n0
wDiC1bMKBBBAAAEEghXgLtDBZg0bhgACCCCAQLQCuuppp512skmTJtmXX35pI0aMIPiNlpi1
IYAAAggELsBNsALPIDYPAQQQQACBqATU09u+fXt3V+e77rrLDjjggKhWzXoQQAABBBCIhQBD
oGORTWwkAggggAACCCCAAAIIIIBAdQXoAa6uIJ9HAAEEEEAAAQQQQAABBBCIhQABcCyyiY1E
AAEEEEAAAQQQQAABBBCorgABcHUF+TwCCCCAAAIIIIAAAggggEAsBAiAY5FNbCQCCCCAAAII
IIAAAggggEB1BQiAqyvI5xFAAAEEEEAAAQQQQAABBGIhQAAci2xiIxFAAAEEEEAAAQQQQAAB
BKorQABcXUE+jwACCCCAAAIIIIAAAgggEAsBAuBYZBMbiQACCCCAAAIIIIAAAgggUF2B/wfj
KoE66EiWrwAAAABJRU5ErkJggg=="/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;實際上在上面的程式碼裡頭，我們多操作了額外兩層：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;統計層（Statistics）：專門負責匯總資料&lt;/li&gt;
&lt;li&gt;小平面層（Facets）：依照選定的變數分別畫圖，如上述的步驟二&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;首先 ggplot2 的 &lt;code&gt;geom_bar&lt;/code&gt; 預設只需要 &lt;code&gt;x&lt;/code&gt; 視覺變數，因為匯總資料的統計層會把 x 依照不同的值分別計數（也就是各個包裝的數量），然後讓 &lt;code&gt;geom_bar&lt;/code&gt; 顯示。但我們並不希望 &lt;code&gt;geom_bar&lt;/code&gt; 使用這個數值，因此使用 &lt;code&gt;geom_bar&lt;/code&gt; 裡頭的 &lt;code&gt;stat = "identity"&lt;/code&gt; 是告訴統計層不要分別計數，而是使用我們給定的星星數 &lt;code&gt;y&lt;/code&gt; 。&lt;/p&gt;
&lt;p&gt;而 &lt;code&gt;facet_wrap( ~ Country)&lt;/code&gt; 則是告訴小平面層依照 &lt;code&gt;Country&lt;/code&gt; 這個變數重複畫&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ggplot&lt;span class="p"&gt;(&lt;/span&gt;ramen&lt;span class="p"&gt;,&lt;/span&gt; aes&lt;span class="p"&gt;(&lt;/span&gt;x &lt;span class="o"&gt;=&lt;/span&gt; Style&lt;span class="p"&gt;,&lt;/span&gt; y &lt;span class="o"&gt;=&lt;/span&gt; Stars&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
  geom_bar&lt;span class="p"&gt;(&lt;/span&gt;stat &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;"identity"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;注意所有的圖的 x, y 軸都是一致的，方便我們做比較。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語_1"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;資料視覺化需要統計知識以及設計美感，涵蓋範圍非常廣大。這篇雖然打了落落長，但真的只有碰到皮毛（淚）。資料視覺化感覺都可以打個系列文了。但最後再次重申資料視覺化的定義：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;資料視覺化是將資料中的變數映射到視覺變數上，進而有效且有意義地呈現資料的樣貌&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;總之先確認你的觀眾與目的，選好你想要觀察的變數，選擇適當的視覺變數做可視化吧！&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="References"&gt;References&lt;a class="anchor-link" href="#References"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.datacamp.com/courses/data-visualization-with-ggplot2-1"&gt;DataCamp - Data Visualization with ggplot2 (Part 1)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://r-statistics.co/ggplot2-Tutorial-With-R.html"&gt;r-statistics.co - ggplot2 tutorial&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.safaribooksonline.com/library/view/data-visualization-in/9781491963661/"&gt;Safari - Data Visualization in R With ggplot2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
</content><category term="R"></category><category term="visualization"></category><category term="ggplot2"></category><category term="資料視覺化"></category></entry><entry><title>利用 Kinesis 處理串流資料並建立資料湖</title><link href="https://leemengtaiwan.github.io/use-kinesis-streams-and-firehose-to-build-a-data-lake.html" rel="alternate"></link><published>2018-04-04T21:30:00+09:00</published><updated>2018-04-04T21:30:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-04-04:/use-kinesis-streams-and-firehose-to-build-a-data-lake.html</id><summary type="html">&lt;p&gt;所謂的資料湖指的是一企業裡頭所有形式的資料的集合。這些資料包含原始資料，以及經過轉換的衍生資料。資料湖的核心概念是將所有可用的資料全部整合在一個邏輯上相近的地方以供企業自由結合並做各式各樣的運用。資料湖可以用很多方式建立，這裏我們主要介紹如何利用 Amazon Kinesis 將串流資料載入資料湖。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;所謂的&lt;a href="https://en.wikipedia.org/wiki/Data_lake"&gt;資料湖 (data lake) &lt;/a&gt; 指的是一企業裡頭所有形式的資料的集合。這些資料包含原始資料 (raw data)，以及經過轉換的衍生資料 (derived data)。&lt;/p&gt;
&lt;p&gt;資料湖的核心概念是將所有可用的資料全部整合在一個邏輯上相近的地方以供企業自由結合並做各式各樣的運用。資料湖可以用很多方式建立，這裏我們主要介紹如何利用 &lt;a href="https://aws.amazon.com/tw/kinesis/"&gt;Amazon Kinesis&lt;/a&gt; 將串流資料 (streaming data) 載入資料湖。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="概觀"&gt;概觀&lt;a class="anchor-link" href="#概觀"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;資料湖概念上可以說是企業的所有資料的最終目的地。現在假設我們打算以 &lt;a href="https://aws.amazon.com/tw/s3/"&gt;Amazon S3&lt;/a&gt; 中作為我們的資料湖，問題就變成：要如何將串流資料穩定地傳到 S3。這部分我們將透過 &lt;a href="https://aws.amazon.com/tw/kinesis/"&gt;Amazon Kinesis&lt;/a&gt; 來達成。 Kinesis 本質上是跟 &lt;a href="https://kafka.apache.org/"&gt;Apache Kafka&lt;/a&gt; 類似的 &lt;a href="https://en.wikipedia.org/wiki/Message_broker"&gt;message broker&lt;/a&gt;，將訊息依照 message producers 產生的順序傳遞給 message consumers。實際上資料的流動會如下圖所示：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/kinesis/simple-streaming-data-flow.png" style="width:80%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    Simple Dataflow
    &lt;font color="purple"&gt;: 將 streaming data 透過 Kinesis 保存在 S3&lt;/font&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;上圖有幾點值得說明：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;作為一個簡易的 demo，這邊我們的串流資料產生者 (streaming data producer) 是一個簡易 python script&lt;/li&gt;
&lt;li&gt;Streams 指的是 &lt;a href="https://aws.amazon.com/tw/kinesis/data-streams/"&gt;Amazon Kinesis Data Streams&lt;/a&gt;。在 Kinesis 架構裡頭，一個 data stream 通常代表一個主題 (topic)，
跟這個主題相關的 producers 會把資料傳入該 stream 以讓該主題的 consumers 之後能接受訊息。&lt;/li&gt;
&lt;li&gt;Firehose 指的是 &lt;a href="https://aws.amazon.com/tw/kinesis/data-firehose/"&gt;Amazon Kinesis Data Firehose&lt;/a&gt;，是專門把接受到的串流資料寫入 AWS 上的資料存放區（如 S3、Redshift、ElasticSearch）以供後續分析的服務。&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="建構流程"&gt;建構流程&lt;a class="anchor-link" href="#建構流程"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;要完成上述的資料傳輸 pipeline，我們會 follow 以下步驟：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#建立一個-Kinesis-data-stream"&gt;建立一個 Kinesis data stream&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#建立一個-Firehose-delivery-stream"&gt;建立一個 Firehose delivery stream&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#用-Python-傳串流資料"&gt;用 Python 傳串流資料&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#確認-S3-上的資料"&gt;確認 S3 上的資料&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在每個步驟裡頭會稍微澄清一些概念。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="建立一個-Kinesis-data-stream"&gt;建立一個 Kinesis data stream&lt;a class="anchor-link" href="#建立一個-Kinesis-data-stream"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;現在假設有一個名為 naive-app 的應用程式，我們想要把使用者在上面做的操作紀錄下來。這時候我們可以建立一個新的 Kinesis Data Stream 來接受 app 的 streaming data。這邊指的 streaming data 是使用者存取應用程式時產生的 access log。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/kinesis/create-kinesis-stream.png" style="width:80%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Scalability"&gt;Scalability&lt;a class="anchor-link" href="#Scalability"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這邊最重要的是 &lt;code&gt;Number of shards&lt;/code&gt; 的設定。Kinesis 將接收到的資料以 log 的方式儲存在硬碟上，而為了提高 scalability，Kinesis 利用 Partitioning 的概念將 log 切割成多個部分並分配到不同的 shards 上，再將這些 shards 分別存在不同機器上面以提高 read/write capacity。因此我們可以理解一個 Kinesis Stream (Topic) 的資料吞吐量 (throughput) 直接受到 shard 的數目影響： shard 數目越多，同時能處理 read/write 的機器越多，資料吞吐量越高。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="How-to-scale"&gt;How to scale&lt;a class="anchor-link" href="#How-to-scale"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;理想上是一開始就掌握該 Stream/Topic 需要的資料吞吐量，進而決定最佳的 &lt;code&gt;Number of shards&lt;/code&gt; ，但有時候事與願違。事後想要改變 shard 數目時需要透過 &lt;a href="http://docs.aws.amazon.com/kinesis/latest/APIReference/"&gt;AWS Streams API&lt;/a&gt; 做 Resharding。Resharding 實際上就是在改變 shard 數目：增加 shard 會讓已存在的 shard 再度被切割；減少 shard 則會合併已存在的 shard。&lt;/p&gt;
&lt;p&gt;在這邊我們就只直接使用一個 shard for demo。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Availability"&gt;Availability&lt;a class="anchor-link" href="#Availability"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;另外值得一提的是 Kinesis 為了避免資料損失，會在三個不同的 availability zones 進行資料的 replication。因為這個額外的 overhead 可能使得在同樣設定下， &lt;a href="https://www.opsclarity.com/evaluating-message-brokers-kafka-vs-kinesis-vs-sqs/"&gt;Kinesis 比 Kafka 慢&lt;/a&gt; 的情況。因為是 log-based message broker，資料會被暫時存在硬碟上，預設保留 24 小時，而最多可以付費提升到維持 7 天以用來 replay data。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="建立一個-Firehose-delivery-stream_1"&gt;建立一個 Firehose delivery stream&lt;a class="anchor-link" href="#建立一個-Firehose-delivery-stream"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;有了接受 naive-app 串流資料的 Kinesis stream 以後，我們要建立一個 Firehose delivery stream 來接收 Kinesis stream 的資料。&lt;/p&gt;
&lt;p&gt;Firehouse delivery stream 簡單來說是一個將串流資料存到 AWS 資料存放區的服務（如 S3、Redshift、ElasticSearch）。因此除了 &lt;a href="https://aws.amazon.com/tw/about-aws/whats-new/2017/08/amazon-kinesis-firehose-can-now-read-data-directly-from-amazon-kinesis-streams/"&gt;Kinesis stream 的串流資料&lt;/a&gt;以外，當然也可以接其他的串流資料：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CloudWatch 的 log &lt;/li&gt;
&lt;li&gt;AWS IoT&lt;/li&gt;
&lt;li&gt;使用者自定義的串流資料&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在這篇裡頭我們的串流資料是 Kinesis stream，因此 Source 選擇 &lt;code&gt;Kinesis stream&lt;/code&gt; 並填入我們剛剛建立的 stream 名稱： &lt;code&gt;naive-app-access-log&lt;/code&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/kinesis/create-delivery-stream.png" style="width:80%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;值得一提的是 Firehose delivery stream 會 auto-scale，並不像 Kinesis stream 要手動調整 shard 數目。不過當然傳越多花越多。&lt;/p&gt;
&lt;p&gt;如上張圖所示，實際上 Firehose 還允許我們在 delivery stream 接受到串流資料以後把原始資料傳到指定的 &lt;a href="https://aws.amazon.com/tw/lambda/"&gt;Lambda function&lt;/a&gt; 做進一步的轉換。
但因為我們想要資料湖儲存原始的串流資料，這邊我們省略這步驟。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Configuration"&gt;Configuration&lt;a class="anchor-link" href="#Configuration"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;實際上 Firehose 不會一接收到資料就進行資料轉移。我們可以設定 Buffer size 以及 Buffer interval 讓 Firehose 在達到其中一個條件的時候把接收到的訊息統整起來一次做資料的轉移 (batch processing)。這邊為了能讓 Firehose 盡快把收到的資料轉移到 S3，設定 Buffer interval 為 &lt;code&gt;60&lt;/code&gt; 秒。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/kinesis/firehose-configure-settings.png" style="width:80%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="選擇-delivery-stream-目的地"&gt;選擇 delivery stream 目的地&lt;a class="anchor-link" href="#選擇-delivery-stream-目的地"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;在設定好 Firehose delivery stream 的串流資料來源（e.g., Kinesis stream）以及基本設定以後，我們要決定串流資料的目的地。這邊基本上很直覺， Destination 選擇 &lt;code&gt;Amazon S3&lt;/code&gt; 以及想要放資料的 bucket 即可。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/kinesis/firehose-select-destination.png" style="width:80%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;比較需要注意的是我們可以指定此 Firehose delivery stream 在放資料進入 bucket 時要為檔案加什麼前綴。&lt;/p&gt;
&lt;p&gt;假設未來其他的串流資料我們也想要統一放在 &lt;code&gt;me-data-lake&lt;/code&gt; 這個 bucket 裡頭。為了方便管理，我們可以為每個 delivery stream 設定一個識別用的 Prefix。以 naive-app 來說，我們指定 Prefix 為 &lt;code&gt;naive-app-access-log/&lt;/code&gt; 。加上 Firehose 預設的 &lt;code&gt;YYYY/MM/DD/HH/&lt;/code&gt; ，該 stream 的每個檔案的路徑就會變成如下圖的 &lt;code&gt;naive-app-access-log/YYYY/MM/DD/HH/file_name&lt;/code&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/kinesis/s3-bucket-path.png" style="width:80%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    加入 Prefix 後實際將串流資料存入 S3 時的檔案路徑
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="用-Python-傳串流資料_1"&gt;用 Python 傳串流資料&lt;a class="anchor-link" href="#用-Python-傳串流資料"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;確保 Kinesis stream -&amp;gt; Firehose delivery stream -&amp;gt; S3 的資料流設定以後，我們可以寫一個簡單的 Python script 實際傳資料進 Kinesis stream 做測試。但首先先讓我們使用 &lt;a href="https://boto3.readthedocs.io/en/latest/"&gt;AWS SDK for Python&lt;/a&gt; 實作一個寄訊息給 Kinesis stream 的 function &lt;code&gt;write_to_stream&lt;/code&gt; ：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;boto3&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;write_to_stream&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;event_id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;region_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stream_name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;"""Write streaming event to specified Kinesis Stream within specified region.&lt;/span&gt;

&lt;span class="sd"&gt;    Parameters&lt;/span&gt;
&lt;span class="sd"&gt;    ----------&lt;/span&gt;
&lt;span class="sd"&gt;    event_id: str&lt;/span&gt;
&lt;span class="sd"&gt;        The unique identifer for the event which will be needed in partitioning.&lt;/span&gt;
&lt;span class="sd"&gt;    event: dict&lt;/span&gt;
&lt;span class="sd"&gt;        The actual payload including all the details of the event.&lt;/span&gt;
&lt;span class="sd"&gt;    region_name: str&lt;/span&gt;
&lt;span class="sd"&gt;        AWS region identifier, e.g., "ap-northeast-1".&lt;/span&gt;
&lt;span class="sd"&gt;    stream_name: str&lt;/span&gt;
&lt;span class="sd"&gt;        Kinesis Stream name to write.&lt;/span&gt;

&lt;span class="sd"&gt;    Returns&lt;/span&gt;
&lt;span class="sd"&gt;    -------&lt;/span&gt;
&lt;span class="sd"&gt;    res: Response returned by `put_record` func defined in boto3.client('kinesis')&lt;/span&gt;
&lt;span class="sd"&gt;    """&lt;/span&gt;
    &lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;boto3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'kinesis'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;region_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;region_name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;res&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;put_record&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;StreamName&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;stream_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;Data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dumps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;PartitionKey&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;event_id&lt;/span&gt;
    &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;res&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;code&gt;write_to_stream&lt;/code&gt; 基本上是把一個 Python dict &lt;code&gt;event&lt;/code&gt; 利用 &lt;code&gt;json.dumps&lt;/code&gt; 轉成字串後傳到指定的 region 的 Kinesis stream 裡的函式。（完整的 &lt;a href="https://gist.github.com/leemengtaiwan/b5edca45e12664164e6634d6fe24d913"&gt;Gist&lt;/a&gt; ）&lt;/p&gt;
&lt;p&gt;這邊值得注意的是 &lt;code&gt;Data=json.dumps(event) + '\n'&lt;/code&gt; 裡頭的 &lt;code&gt;'\n'&lt;/code&gt; 。如果之後想要利用 &lt;a href="https://aws.amazon.com/tw/glue/"&gt;AWS Glue&lt;/a&gt; 或者 &lt;a href="https://aws.amazon.com/tw/athena/"&gt;Athena&lt;/a&gt; 來進一步分析此串流資料的話，推薦在代表一個 event 的字串後面加上換行符號以維持「一行一事件」的資料形式，方便 schema 的自動產生。&lt;/p&gt;
&lt;p&gt;範例日誌檔案內容會像是這樣：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;{"event_id": "56262", "timestamp": 1522740951, "event_type": "write_post"}
{"event_id": "35672", "timestamp": 1522740956 ...
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;另外值得一提的是因為 Kinesis 背後是使用 &lt;a href="https://docs.aws.amazon.com/streams/latest/dev/key-concepts.html"&gt;Hash partitioning&lt;/a&gt; 來分配資料到 shard，基本上 &lt;code&gt;PartitionKey=event_id&lt;/code&gt; 裡頭的 &lt;code&gt;event_id&lt;/code&gt; 只要每個訊息都是獨一無二的，就能保證資料能「平均地」分配到各個 shard 上。&lt;/p&gt;
&lt;p&gt;有了此函式以後，我們可以實際傳一些訊息進 Kinesis stream：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;event&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="s2"&gt;"event_id"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;100000&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
        &lt;span class="s2"&gt;"event_type"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;choice&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'read_post'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'write_post'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'make_comments'&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
        &lt;span class="s2"&gt;"timestamp"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;calendar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timegm&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;utcnow&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;timetuple&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="c1"&gt;# send to Kinesis Stream&lt;/span&gt;
    &lt;span class="n"&gt;event_id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'event_id'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    &lt;span class="n"&gt;write_to_stream&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;event_id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;REGION_NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;KINESIS_STREAM_NAME&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sleep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;假設我們的 naive-app 可以讓使用者讀文章、寫文章以及寫評論，則上面的程式碼是模擬使用者使用 naive-app 時產生的事件，並將該事件的內容傳到 Kinesis stream &lt;code&gt;naive-app-access-log&lt;/code&gt;。60 秒內幾筆產生的事件如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;{'event_id': '56262', 'event_type': 'write_post', 'timestamp': 1522740951}
{'event_id': '35672', 'event_type': 'make_comments', 'timestamp': 1522740956}
{'event_id': '71613', 'event_type': 'read_post', 'timestamp': 1522740962}
{'event_id': '48160', 'event_type': 'make_comments', 'timestamp': 1522740967}
{'event_id': '96093', 'event_type': 'write_post', 'timestamp': 1522740972}
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="確認-S3-上的資料"&gt;確認 S3 上的資料&lt;a class="anchor-link" href="#確認-S3-上的資料"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;注意因為上面的 5 個事件在 $5 * 5 = 25$ 秒內就產生了。且因為我們前面設定 Firehose delivery stream 的 Buffer interval 為 60 秒，Firehose 會把以上的事件的訊息全部串接起來，放到一個檔案裡頭，而不是分成五個檔案：&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/kinesis/s3-bucket-path.png" style="width:80%"/&gt;
&lt;/center&gt;&lt;p&gt;而實際檔案的內容如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;{"event_id": "56262", "timestamp": 1522740951, "event_type": "write_post"}
{"event_id": "35672", "timestamp": 1522740956 ...
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="結語"&gt;結語&lt;a class="anchor-link" href="#結語"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;到這邊為止成功把（偽）串流資料透過 Kinesis 存到 S3 了！為了方便之後的應用，輸出的檔案的內容格式或許還可以再改進，但資料湖的其中一個想法是 &lt;a href="https://www.youtube.com/watch?v=JHGkaShoyNs"&gt;Command Query Responsibility Segregation (CQRS)&lt;/a&gt;，也就是在存放資料的時候就只專心丟資料，不去在意之後資料會被以什麼方式、schema 使用，可以保證之後實際應用資料時有最大的彈性。&lt;/p&gt;
&lt;p&gt;另外在確保資料好好地儲存在資料湖以後，我們通常會實際針對串流資料再進行一些處理 / 分析像是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://aws.amazon.com/tw/blogs/big-data/building-a-near-real-time-discovery-platform-with-aws/"&gt;放到 Elasticsearch 並用 Kibana 做 Visualization&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;觸發 Lambda function 做進一步處理&lt;/li&gt;
&lt;li&gt;使用 Athena 做 ad-hoc 分析&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;img src="images/kinesis/kinesis-firehose-intro.png" style="width:80%"/&gt;
&lt;/center&gt;&lt;p&gt;但這邊時間有限，之後有機會再來記錄資料湖之後的分析筆記。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="References"&gt;References&lt;a class="anchor-link" href="#References"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=814aUb5n_Fk"&gt;Youtube: Introduction to Amazon Kinesis Firehose&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.sumologic.com/blog/devops/kinesis-streams-vs-firehose/"&gt;sumologic - Kinesis Stream vs Firehose&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://acloud.guru/forums/aws-certified-big-data-specialty/discussion/-KhI3MgPEo-FY5rfgl3J/what_is_difference_between_kin"&gt;A Cloud Guru - difference betwwen Kinesis Streams and Kinesis Firehose&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.arundhaj.com/blog/getting-started-kinesis-python.html"&gt;Getting started with AWS Kinesis using Python&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.opsclarity.com/evaluating-message-brokers-kafka-vs-kinesis-vs-sqs/"&gt;opsclarity - Evaluating Message Brokers: Kafka vs. Kinesis vs. SQS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
</content><category term="資料工程"></category><category term="python"></category><category term="aws"></category><category term="kinesis"></category></entry><entry><title>AWS Data Migration Service - 從 MongoDB 遷移到 Redshift</title><link href="https://leemengtaiwan.github.io/replicate-data-from-mongodb-to-redshift-using-aws-data-migration-service.html" rel="alternate"></link><published>2018-03-27T18:30:00+09:00</published><updated>2018-03-27T18:30:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-03-27:/replicate-data-from-mongodb-to-redshift-using-aws-data-migration-service.html</id><summary type="html">&lt;p&gt;同樣一份資料因應不同的使用案例，可能需要使用不同的存取方式。而針對這些不同的存取方式，我們通常需要選擇最適合的資料庫來最佳化使用者體驗。這篇文章將簡單介紹如何使用 AWS Database Migration Service來快速地達到我們的目標：將 MongoDB 資料遷移到 Redshift 上。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;同樣一份資料因應不同的使用案例，可能需要使用不同的存取方式。而針對這些不同的存取方式，我們通常需要選擇最適合的資料庫來最佳化使用者體驗。&lt;/p&gt;
&lt;p&gt;這篇文章將簡單介紹如何使用 &lt;a href="https://aws.amazon.com/tw/dms/"&gt;AWS Database Migration Service&lt;/a&gt; (以下簡稱 AWS DMS )來快速地達到我們的目標：將 MongoDB 資料遷移到 Redshift 上。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="使用案例"&gt;使用案例&lt;a class="anchor-link" href="#使用案例"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;舉例來說，一個電子商務網站的後端可以使用一個具有高度彈性的 NoSQL 資料庫如 &lt;a href="https://www.mongodb.com/"&gt;MongoDB&lt;/a&gt; 來應對變化快速的使用者需求；而公司內部的資料科學家可以利用資料倉儲如 &lt;a href="https://aws.amazon.com/tw/redshift/"&gt;Redshift&lt;/a&gt; 來找出 business insight 。但這時候一個問題產生了：資料科學家用的資料倉儲 (例：Redshift) 的資料哪裡來？&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;常見的方式是對 MongoDB 裡頭的資料定期做 &lt;a href="https://zh.wikipedia.org/wiki/ETL"&gt;ETL&lt;/a&gt; 以後將轉換過後的資料載入 Redshift 供分析需求。理論上在做 ETL 時要依照資料倉儲的 Data Model 重新設計 Tables (例： &lt;a href="https://en.wikipedia.org/wiki/Star_schema"&gt;Star Schema&lt;/a&gt;)，但為了能在最短的時間將 MongoDB 上的資料轉到 Redshift 進行一些 Query，這篇文章將簡單介紹 AWS DMS 的運作方式，以及如何運用它來實際進行資料遷移所需要的步驟。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/aws-dms/intro.png" width="90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://aws.amazon.com/tw/dms/" target="_blank"&gt;AWS DMS&lt;/a&gt;
&lt;font color="purple"&gt;: 遷移（並轉換） AWS 上的資料庫&lt;/font&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="AWS-DMS-基本介紹"&gt;AWS DMS 基本介紹&lt;a class="anchor-link" href="#AWS-DMS-基本介紹"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;DMS 基本上運作方式就是幫我們啟動一台 EC2 機器 (稱之為 replication instance) ，然後在上面跑 replication task(s) 。 一個 instance 上可以有多個 tasks 進行資料遷移。 instance 則分別透過 &lt;a href="https://docs.aws.amazon.com/zh_cn/dms/latest/userguide/CHAP_Introduction.Sources.html"&gt;Source Endpoint&lt;/a&gt; / &lt;a href="https://docs.aws.amazon.com/zh_cn/dms/latest/userguide/CHAP_Introduction.Targets.html"&gt;Target Endpoint&lt;/a&gt; 連結來源 / 目標資料庫。在後面我們會看到， endpoints 實際上就只是告訴 AWS DMS 的 replication instance 如何連結到實際的資料庫的設定罷了。在我們的例子裡頭，來源 / 目標資料庫分別對應到 MongoDB / Redshift 。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/aws-dms/flow.png" style="width:80%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://docs.aws.amazon.com/zh_cn/dms/latest/userguide/Welcome.html" target="_blank"&gt;DMS 基本運作方式&lt;/a&gt;
&lt;font color="purple"&gt;: 資料遷移是由在 Replication Instance 上執行的 Replication Task 透過 endpoints 連結來源/目標資料庫完成的&lt;/font&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="基本遷移步驟"&gt;基本遷移步驟&lt;a class="anchor-link" href="#基本遷移步驟"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;在假設來源 / 目標資料庫已經在運作的情況下，如同 AWS DMS 的 Get started, 一般會進行以下步驟來遷移資料：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="#建立-replication-instance"&gt;建立 replication instance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#確保-replication-instance-能連結到來源-/-目標資料庫"&gt;確保 replication instance 能連結到來源 / 目標資料庫&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#定義-replication-task"&gt;定義 replication task&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Debugging"&gt;Debugging：確保一切運作正常&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;以下針對每個步驟，我會紀錄一些需要注意的地方。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="建立-replication-instance"&gt;建立 replication instance&lt;a class="anchor-link" href="#建立-replication-instance"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;點擊 AWS DMS 介面的 Get started 選項會請我們建立新的 instance:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/aws-dms/create-replicate-instance.png" width="90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    建立 Replication Instance
    &lt;font color="purple"&gt;: 注意 VPC /設定&lt;/font&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這步驟基本上沒什麼問題， replication task 會佔用大量的 CPU 以及記憶體資源，理想上是依據需求選擇 Instance class ，不過第一次測試功能的話用預設的 t2.medium 即可。這邊值得注意的是 VPC 以及下面進階選項的 VPC Security Group(s) 設定。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如果來源 / 目標資料庫都可供公開存取的話，基本上不需要 VPC 。但一般來說我們都會有安全考量，也就是要求所有在 AWS 上的資源都要套用安全設定，則最簡單的架構是將來源資料庫、目標資料庫以及 Replication Instance 都放入同一個 VPC ，並利用 &lt;a href="https://docs.aws.amazon.com/zh_cn/AmazonVPC/latest/UserGuide/VPC_SecurityGroups.html"&gt;security group&lt;/a&gt; 設定來允許該 Instance 存取兩個資料庫。概念上此 VPC 的架構會如下 ( &lt;code&gt;sg&lt;/code&gt; 為 Security Group 之縮寫 )：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/aws-dms/naive-vpc-structure.png" style="width:60%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;font color="purple"&gt;來源 / 目標資料庫所在的 Security Group 要允許 Replication Instance 所在的 Security Group 存取&lt;/font&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;以上圖為例， Security Group &lt;code&gt;sg_mongodb&lt;/code&gt; 以及 &lt;code&gt;sg_redshift&lt;/code&gt; 的 Inbound Rule 要允許 &lt;code&gt;sg_replicate&lt;/code&gt; 存取。而允許存取的 Port 則依照資料庫實際使用的 Port 設定即可 (例： MongoDB 慣用 27017； Redshift 則是 5439)。最後別忘了在建立 replication instance 的進階設定的 VPC Security Group(s) 選擇 &lt;code&gt;sg_replicate&lt;/code&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;另外你可能已經注意到上圖的 S3 bucket 。就 replication tasks 的 log 來看， AWS DMS 在遷移資料的時候實際上會再細分為兩步驟：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Replication Task 將來源資料庫的資料載出、轉換並暫存到 S3&lt;/li&gt;
&lt;li&gt;Task 將存在 S3 的資料載入目標資料庫&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;雖然 &lt;a href="https://aws.amazon.com/tw/cloudwatch/"&gt;ClodWatch&lt;/a&gt; 需要額外收費，但為了方便除錯，建議使用。在文章後面的 &lt;a href="#Debugging"&gt;Debugging&lt;/a&gt; 我們會實際看一些例子。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="確保-replication-instance-能連結到來源-/-目標資料庫"&gt;確保 replication instance 能連結到來源 / 目標資料庫&lt;a class="anchor-link" href="#確保-replication-instance-能連結到來源-/-目標資料庫"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;上一步驟設定好以後， AWS DMS 會馬上幫我們建立一個新的 replication instance。在等待的同時我們可以開始設定資料庫的 endpoints。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/aws-dms/check-replication-instance-can-connect-to-both-endpoints.png" width="90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    設定來源 / 目標 enpoints
    &lt;font color="purple"&gt;: 在此步驟確保 Replication Instance 可以連到兩個資料庫可以減少除錯時間&lt;/font&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這步驟基本上依照資料庫的不同，需要的輸入的項目可能不一樣。不過值得一提的是，在&lt;a href="#建立-replication-instance"&gt;建立 replication instance&lt;/a&gt; 的時候我們已經讓來源 / 目標資料庫以及 replication instance 都待在同個 VPC 裡頭。假設我們的 MongoDB 是運行在該 VPC 裡頭的某個 EC2 instance 之上，要允許在同個 VPC 的 replication instance 存取該 EC2 instance，我們要在 Server name 選項輸入運行 MongoDB 的 EC2 的 Private IP (上圖第一個紅框)。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="MongoDB-as-Source-Database"&gt;MongoDB as Source Database&lt;a class="anchor-link" href="#MongoDB-as-Source-Database"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;當 MongoDB 為來源資料庫時有一些值得注意的事情可以參考&lt;a href="https://docs.aws.amazon.com/zh_cn/dms/latest/userguide/CHAP_Source.MongoDB.html"&gt;官方文件&lt;/a&gt;。以下會說明一些值得特別注意的地方。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="Metadata-mode"&gt;Metadata mode&lt;a class="anchor-link" href="#Metadata-mode"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;Metadata mode 預設為 &lt;code&gt;document&lt;/code&gt;（上圖第二個紅框），也就是把 MongoDB 裡頭的 json-formated 文件放到 Redshift 裡頭對應 Table 的一個 &lt;code&gt;_doc&lt;/code&gt; 欄位。假設 MongoDB 裡有一個 &lt;code&gt;users&lt;/code&gt; collection ，裡頭存了以下文件：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;"user"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"leemeng"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;"favorite"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"chocolate"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; 
    &lt;span class="nt"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nt"&gt;"b"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"For fun!"&lt;/span&gt;
    &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="nt"&gt;"unnecessary_field"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"Don't include me!"&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;將會被以下的格式載入 Redshift：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;_doc                      |
---------------------------
{"user": "leemeng", "fav ..&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;而這通常不是我們要的。將 metadate mode 設定為 &lt;code&gt;table&lt;/code&gt; 模式能讓 AWS DMS 把文件裡頭的欄位扁平化後放入對應的欄位(column)：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;user    | favorite  | a.b     | unnecessary_field
-------------------------------------------------
leemeng | chocolate | For fun!| Don't include me!
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;注意到這邊有一個我們不需要遷移到 Redshift 的 &lt;code&gt;unnecessary_field&lt;/code&gt; 。在後面的 &lt;a href="#Transformation Rules"&gt;Transformation Rules&lt;/a&gt; 我們會了解怎麼辦該欄位去除。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="Numbers-of-documents-to-scan"&gt;Numbers of documents to scan&lt;a class="anchor-link" href="#Numbers-of-documents-to-scan"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;而 Numbers of documents to scan 選項則讓我們決定要讓 AWS DMS 拿多少文件來決定要建立哪些欄位。如果要遷移的 MongoDB collection 的文件 schema 很常被更動（常有新鍵值）的話，建議可以讓 AWS DMS 掃描多一點文件來建立足夠的欄位。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Redshift-as-Target-Database_1"&gt;Redshift as Target Database&lt;a class="anchor-link" href="#Redshift-as-Target-Database"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;如果按照 AWS DMS 的 Get started 一步一步走的話基本上沒有問題。要注意的是 Redshift 要有允許 DMS 存取的 AMI Rule，否則會出錯。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="定義-replication-task_1"&gt;定義 replication task&lt;a class="anchor-link" href="#定義-replication-task"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;在確定 replication instance 可以連線到兩個資料庫後，可以開始建立我們的 replication task：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/aws-dms/create-replication-task.png" width="90%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這邊我們可以看到有三種資料遷移方式 (圖中的 Migration type)：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;遷移目前 MongoDB 的資料&lt;/li&gt;
&lt;li&gt;同上，但在遷移後之後繼續同步 MongoDB &amp;amp; Redshift (前提是 MongoDB 要以 Replica Set 模式執行)&lt;/li&gt;
&lt;li&gt;只把 Task 啟動後 MongoDB 的資料變動遷移到 Redshift&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;這邊選擇自己的想要的遷移方式即可。接著我們要告訴 AWS DMS 想要進行遷移的 MongoDB Collections 以及在想要做的簡單轉換。兩者分別透過 &lt;a href="#Selection-Rules"&gt;Selection Rules&lt;/a&gt; 還有 &lt;a href="#Transformation-Rules"&gt;Transformation Rules&lt;/a&gt; 定義。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Selection-Rules"&gt;Selection Rules&lt;a class="anchor-link" href="#Selection-Rules"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;Selection Rules 的用途是告訴 AWS DMS 該遷移以及不要遷移的 (MongoDB) collections 。我們可以定義一個 general rule 讓一個 task 處理某個 db 的所有 collections ；也能讓一個 task 只負責一個 collection 的遷移。後者的設定比較花時間但是彈性比較高，可以依照不同 collection 特性決定遷移的方式。&lt;/p&gt;
&lt;p&gt;下圖是定義一個 rule 告訴 AWS DMS 遷移所有在 MongoDB 的 Collections。另外如果想要排除哪個 collection 的話就新增一個 rule 並在 Action 選擇 &lt;code&gt;Exclude&lt;/code&gt;。基本上想要加幾個 Selection Rules 都可以。而 Exclude Rules 的效果是在所有 Include Rules 後套用。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/aws-dms/selection-rules.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://www.netpromoter.com/know/" target="_blank"&gt;Selection Rules&lt;/a&gt;
&lt;font color="purple"&gt;: 選擇要遷移到目標資料庫的 Tables / Collections&lt;/font&gt;
&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Transformation-Rules"&gt;Transformation Rules&lt;a class="anchor-link" href="#Transformation-Rules"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;這邊所謂的轉換並不是對欄位的實際值 (value) 進行轉換，而是針對 Table / Column 層級做&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;排除（不遷移該 Table / Column）&lt;/li&gt;
&lt;li&gt;幫 Table / Column 更名、大小寫轉換或是名稱加上 prefix / postfix&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這種操作。下圖是將 &lt;code&gt;users&lt;/code&gt; collection 裡頭不需要遷移的鍵值 &lt;code&gt;uncessary_field&lt;/code&gt; 從 Redshift 排除的 rules:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/aws-dms/transformation-rules.png" style="width:90%"/&gt;
&lt;/center&gt;&lt;p&gt;透過這個 Transformation rule，我們上面 &lt;code&gt;users&lt;/code&gt; collection 的範例文件：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nt"&gt;"user"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"leemeng"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;"favorite"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"chocolate"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="nt"&gt;"a"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nt"&gt;"b"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"For fun!"&lt;/span&gt;
    &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="nt"&gt;"unnecessary_field"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"Don't include me!"&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;就會被轉成：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;user    | favorite  | a.b     
------------------------------
leemeng | chocolate | For fun!
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;注意 &lt;code&gt;uncessary_field&lt;/code&gt; 不會被存到 Redshift 裡頭。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Debugging_1"&gt;Debugging&lt;a class="anchor-link" href="#Debugging"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;當建立並執行一個新的 replication task 後，我們可以從 Load State 看到每個 Table 載入的狀況。 Load State 有幾種可能的值：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Before Loading&lt;/li&gt;
&lt;li&gt;Full Load&lt;/li&gt;
&lt;li&gt;Table completed&lt;/li&gt;
&lt;li&gt;Table error&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;當出現 &lt;code&gt;Table error&lt;/code&gt; 時，我們可以先看 log 瞭解情況：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;2018-03-28T01:23:30 [TARGET_LOAD ]E: RetCode: SQL_ERROR SqlState: XX000 NativeError: 30 Message: [Amazon][Amazon Redshift] (30) Error occurred while trying to execute a query: [SQLState XX000] ERROR: Load into table 'users' failed. Check 'stl_load_errors' system table for details. [1022502] (ar_odbc_stmt.c:4406)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;依照不同的錯誤、不同的目標資料庫，實際的 log 內容會有所不同。以我們目標資料庫 = Redshift 的情況下，上面的 log 告訴我們 replication task 在載入 &lt;code&gt;users&lt;/code&gt; Table 時出錯，詳情可以參考 Redshift 的 &lt;code&gt;stl_load_error&lt;/code&gt; Table (&lt;a href="https://docs.aws.amazon.com/zh_cn/redshift/latest/dg/r_STL_LOAD_ERRORS.html"&gt;官方文件&lt;/a&gt;)：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;
&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="n"&gt;pg_catalog&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stl_load_errors&lt;/span&gt;
&lt;span class="k"&gt;ORDER&lt;/span&gt; &lt;span class="k"&gt;BY&lt;/span&gt; &lt;span class="n"&gt;starttime&lt;/span&gt; &lt;span class="k"&gt;DESC&lt;/span&gt;
&lt;span class="k"&gt;LIMIT&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/aws-dms/load-error-example.png" width="90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
    查看 Redshift 裡頭 stl_load_error Table 來除錯
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;就這個錯誤例子來看， err_reason 的內容告訴我們有個 &lt;code&gt;memo&lt;/code&gt; 欄位 ( colname ) 的值太長導致沒辦法載入 Redshift。這時候可以把正在運行的 replication task 暫停，用前面提到的 &lt;a href="#Transformation-Rules"&gt;Transformation Rules&lt;/a&gt; 來去除該欄位。而基本上其他錯誤也能用類似的方式解決。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;到這邊為止大致上應該可以順利把 MongoDB 的資料載入 Redshift 了。之後想到什麼再補充。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
</content><category term="aws"></category><category term="資料庫"></category><category term="資料工程"></category></entry><entry><title>Designing Data-Intensive Applications (1) - 序言</title><link href="https://leemengtaiwan.github.io/designing-data-intensive-applications-1-preface.html" rel="alternate"></link><published>2018-03-24T15:33:00+09:00</published><updated>2018-03-24T15:33:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-03-24:/designing-data-intensive-applications-1-preface.html</id><summary type="html">&lt;p&gt;最近在拜讀 Martin Kleppmann 的 Designing Data-Intensive Applications， 覺得受益匪淺，且我也相信透過 Feynman Technique 將學到的東西用最淺顯易懂的方式表達能幫助自己內化這些知識，遂嘗試把閱讀後的心得記錄在此。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;最近在拜讀 &lt;a href="http://martin.kleppmann.com/"&gt;Martin Kleppmann&lt;/a&gt; 的 &lt;a href="https://dataintensive.net/"&gt;Designing Data-Intensive Applications&lt;/a&gt;，
覺得受益匪淺，且我也相信透過 
&lt;a href="http://blog.xxc.idv.tw/km/%E8%B2%BB%E6%9B%BC%E7%9A%84%E5%AD%B8%E7%BF%92%E6%8A%80%E5%B7%A7-the-feynman-technique.html"&gt;Feynman Technique&lt;/a&gt; 
將學到的東西用最淺顯易懂的方式表達能幫助自己內化這些知識，遂嘗試把閱讀後的心得記錄在此。&lt;/p&gt;
&lt;p&gt;另外在提到書內內容時都會盡量使用英文原文，不另做名詞的翻譯，以方便對照書內內容。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="何謂-data-intensive-applications"&gt;何謂 data-intensive applications&lt;a class="anchor-link" href="#何謂-data-intensive-applications"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;所謂的 data-intensive applications 如同名稱所示，專注在如何有效率地處理、儲存&lt;a href="#何謂資料密集"&gt;密集資料&lt;/a&gt;。通常一個這樣的系統的後端要用多種方式處理資料，而不是只用一個資料庫就結束了。（雖然對 end users 來說可能看起來像這樣）&lt;/p&gt;
&lt;p&gt;舉個簡單例子，一個電子商務網頁的後端除了做為 &lt;a href="https://zh.wikipedia.org/wiki/%E7%B7%9A%E4%B8%8A%E4%BA%A4%E6%98%93%E8%99%95%E7%90%86"&gt;OLTP&lt;/a&gt; 的 NoSQL 資料庫 (e.g., MongoDB) 以外，可能還有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一個專門存放網頁快取的資料庫 (e.g. Redis) &lt;/li&gt;
&lt;li&gt;給資料科學家分析用的資料倉儲 (e.g., Redshift) &lt;/li&gt;
&lt;li&gt;處理 streaming events 的 messaging queue (e.g., Kafka)&lt;/li&gt;
&lt;li&gt;定期將 NoSQL 資料庫的資料做 &lt;a href="https://zh.wikipedia.org/wiki/ETL"&gt;ETL&lt;/a&gt; 存到 資料倉儲的批次處理 (e.g., Hive jobs)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;光是要把以上所列的資料庫 / 分散式系統 / 資料流 以有系統的方式組合起來就需要大量經驗，更遑論還要達到以下三個要求了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可靠性 (reliable): 像是 zero-down time, 很短的回應時間 etc&lt;/li&gt;
&lt;li&gt;規模性 (scalable): 即使之後資料量增加，系統也能很好地運作&lt;/li&gt;
&lt;li&gt;維護性 (maintainable): 容易改善、新增功能的系統設計&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;img src="images/ddia/jigsaw-puzzle.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="http://www.jigsaw-puzzle-club.co.uk/" target="_blank"&gt;Image Credit&lt;/a&gt;
&lt;font color="purple"&gt;: 如何了解各個 data system 的優缺點並予以組合&lt;/font&gt;&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;儘管我們不可能熟悉所有資料庫以及分散式系統的細節，了解他們背後設計的核心理念、演算法以及大致上的運作方式能讓我們了解每個 data system 的特性以及優缺點，依照不同的使用案例選擇最適合的 data system 並予以組合。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="何謂資料密集"&gt;何謂資料密集&lt;a class="anchor-link" href="#何謂資料密集"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;書中所指的「密集」資料有以下所列的特徵（一個以上）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;大量資料&lt;/li&gt;
&lt;li&gt;資料的（格式、 schema etc）變動速度很快&lt;/li&gt;
&lt;li&gt;資料有複雜結構&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;針對「資料有複雜結構」以及「資料變動很快」這點，最為人所知的 solution 就是 NoSQL 等允許彈性 schema 的資料庫的崛起；
而針對「資料量很大」這點，則端看使用案例有各式各樣的資料庫、分散式系統。舉幾個例子：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;能有效儲存大量資料的 Google BigTable&lt;/li&gt;
&lt;li&gt;以欄 (column) 為單位儲存以壓縮大量資料的資料倉儲 Redshift&lt;/li&gt;
&lt;li&gt;Amazon 的 Single-leader Replication - DynamoDB&lt;/li&gt;
&lt;li&gt;專門處理 realtime streaming data 的 Kafka, RabbitMQ etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如同前述，以上提到的系統依照它們想要解決的問題的特性，背後都會有一些假設以及 trade-off 。了解這些背後的原理可以讓我們了解哪些工具在什麼時候最 powerful 。&lt;/p&gt;
&lt;p&gt;這本書主要分成三部分來闡述，抓到大方向會比較容易閱讀：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;針對單一機器上的資料，有哪些常用的資料儲存/處理方法&lt;/li&gt;
&lt;li&gt;類似前一部份，闡述針對分散式系統的資料儲存/處理方法&lt;/li&gt;
&lt;li&gt;資料密集型應用：如何將多個 data systems 組合起來&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="一句話總結"&gt;一句話總結&lt;a class="anchor-link" href="#一句話總結"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;在資料密集的時代，我們的最終目標在於如何將各式各樣的 data systems 以有系統的方式「組合」起來，以建立一個可靠、具規模性以及維護性的系統。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="資料工程"></category></entry><entry><title>Google Data Studio 基礎</title><link href="https://leemengtaiwan.github.io/google-data-studio-basics.html" rel="alternate"></link><published>2018-03-13T16:34:00+09:00</published><updated>2018-03-13T16:34:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-03-13:/google-data-studio-basics.html</id><summary type="html">&lt;p&gt;Google Data Studio 是 Google 推出的一個儀表板服務，讓我們可以利用多種連結器將儲存在如 Google Analytics、 Google 試算表及 Google BigQuery 等特定資料來源的資料做出漂亮的 visualization ，用資料講故事而不用自己設計 UI。這篇把學到的一些技巧以及使用心得記錄下來。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;a href="https://cloud.google.com/data-studio/"&gt;Google Data Studio&lt;/a&gt; 是 Google 推出的一個 Dashboard / Reporting 的服務，讓我們可以利用多種&lt;a href="https://support.google.com/datastudio/answer/7530149?hl=en&amp;amp;ref_topic=6370347"&gt;連結器&lt;/a&gt;將儲存在如 Google Analytics、 Google 試算表及 Google BigQuery 等特定資料來源的資料做出漂亮的 visualization ，用資料講故事而不用自己設計 UI。公司內部雖然有自己的 dashboards 不過想說多試一些方案沒有壞處，而且現在 Data Studio 還是 Beta 版本，雖然介面是中文，說明文件還只有英文，想說把學到的一些技巧以及使用心得記錄下來。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="將-Google-試算表的資料可視化"&gt;將 Google 試算表的資料可視化&lt;a class="anchor-link" href="#將-Google-試算表的資料可視化"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;為了快速展示 Data Studio 的功能，我們將使用&lt;a href="https://data.gov.tw/"&gt;政府資料開放平臺&lt;/a&gt;上由交通部觀光局提供的&lt;a href="https://data.gov.tw/dataset/45444"&gt;105年來台旅客性別統計&lt;/a&gt;資料。將 CSV 檔案下載下來，稍微簡化格式後上傳到 Google 試算表以當作報表的資料來源。下圖是簡化後的資料：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/google-data-studio/table-preview.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;a href="https://data.gov.tw/dataset/45444" target="_blank"&gt;資料來源&lt;/a&gt;
&lt;font color="purple"&gt;: 2016年來台旅客性別統計&lt;/font&gt;&lt;br/&gt;
    每一列代表某地區 / 國家的訪台人數以及男女比
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="條件欄位應用"&gt;條件欄位應用&lt;a class="anchor-link" href="#條件欄位應用"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;a href="https://support.google.com/datastudio/answer/7359285"&gt;條件欄位&lt;/a&gt;讓我們可以針對試算表裡頭每一列做 IF ELSE 判斷，依照判斷結果給予不同的值。現在假設我們想知道有多少國家的男性遊客過半數，可以使用簡易的評量表來計算：&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/google-data-studio/male-over-half.png"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;font color="purple"&gt;訪台男性遊客過半國家佔全部國家的比例&lt;br/&gt;
&lt;/font&gt;&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;我們發現高達八成的國家（有些是區域）的訪台男性遊客較女性為多。我們可以調查其他國家的訪客性別比，看是不是只有台灣有此現象。要產生分母的「國家數」很直覺，我們只要新增一個欄位並計算有幾個國家即可：&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/google-data-studio/num_countries_as_metric.png"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;font color="purple"&gt;新增一個名為「國家數」的欄位&lt;br/&gt;
&lt;/font&gt;&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;但要計算分子的「男性遊客過半國家數」就稍微 tricky 了。我們想做的是，針對每一國家（每一列），只有在該國訪台男性遊客百分比過半（超過 50%)的時候才會被納入結果。而 Data Studio 的&lt;a href="https://support.google.com/datastudio/answer/7359285"&gt;條件欄位&lt;/a&gt;就是專門針對這種情況設計的。&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/google-data-studio/conditional-calculated-field.png" style="width:70%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;font color="purple"&gt;使用 CASE 語法對每一列做 IF-ELSE 判斷&lt;br/&gt;
&lt;/font&gt;&lt;/center&gt;&lt;p&gt;上面的公式用白話來說就是：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;針對每一列的國家，看它的「男性百分比」欄位的值有沒有大於50。有的話值為1，否則為0。在針對每列做完條件判斷以後再把所有 1 加起來，就等於符合條件的國家數。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="篩選器（filter）應用"&gt;篩選器（filter）應用&lt;a class="anchor-link" href="#篩選器（filter）應用"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;根據上個分析，我們知道女性遊客過半的國家只佔 20%。假設我們想確切知道是哪些國家的女性遊客過半，可以從女性百分比最高的國家開始列出男女比：&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/google-data-studio/multibar-female-over-half.png" style="width:100%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;font color="purple"&gt;訪台女性遊客過半國家&lt;br/&gt;
&lt;/font&gt;&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;我們發現女性遊客過半的都是亞洲國家，或許我們可以簡單解釋成這些國家與台灣的距離短，適合女性遊客拜訪。而為了讓圖表易讀，上面這張組合圖額外建立一個篩選器來過濾掉男性遊客比女性多的國家：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/google-data-studio/female-more-than-half.png" style="width:70%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;font color="purple"&gt;新增一個篩選器以過濾男性遊客比例較高的國家&lt;br/&gt;&lt;/font&gt;
    註：一般的長條圖可以直接透過設定限制長條圖數目
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="維度-VS-指標"&gt;維度 VS 指標&lt;a class="anchor-link" href="#維度-VS-指標"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;在 Data Studio 裡頭，了解&lt;a href="https://support.google.com/datastudio/answer/6402048?ref_topic=7441655&amp;amp;utm_source=product&amp;amp;utm_medium=cta&amp;amp;utm_campaign=wwr&amp;amp;utm_content=dims_mets"&gt;維度跟指標的差異&lt;/a&gt;很重要。&lt;/p&gt;
&lt;p&gt;以我們現在的資料集為例，每一列就是一筆紀錄（record），每一行則是一個欄位。每個欄位則是維度或指標。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;指標（Metric，底下藍色）&lt;ul&gt;
&lt;li&gt;數值型欄位，有經過「匯總」，負責 quantify 資料&lt;/li&gt;
&lt;li&gt;如「國家數」、「總人數」&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;維度（Dimension，底下綠色）&lt;ul&gt;
&lt;li&gt;分類型欄位，負責 qualify 資料&lt;/li&gt;
&lt;li&gt;如「國家」、「居住地」&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;center&gt;
&lt;img src="images/google-data-studio/metric-versus-dimension.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;center&gt;
&lt;font color="purple"&gt;fx 則代表是額外利用公式建立的欄位&lt;/font&gt;&lt;br/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;像我們前面定義的「男性遊客過半國家數」欄位因為有經過 &lt;code&gt;SUM&lt;/code&gt; 公式匯總成為一個數值，因此為一個指標（藍）。而如果我們透過 &lt;code&gt;CASE&lt;/code&gt; 語法新定義一個「男性過半」欄位如下：&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/google-data-studio/define-a-dimension-with-case-syntax.png" style="width:70%"/&gt;
&lt;/center&gt;&lt;p&gt;此欄位沒有經過匯總因此被視為維度，在上一張圖被標為綠色。因此一句話總結維度跟指標的功能就是：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;維度負責「描述」資料； 指標則負責「衡量」資料。&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="資料透視表-(Pivot-Table)"&gt;資料透視表 (Pivot Table)&lt;a class="anchor-link" href="#資料透視表-(Pivot-Table)"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;資料透視表很適合拿來看在不同條件下某個指標的表現。下圖是一個依照&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;居住地&lt;/li&gt;
&lt;li&gt;國家&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;兩個維度計算「男性人數」指標的資料透視表：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;
&lt;img src="images/google-data-studio/pivot-table.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;依照&lt;a href="https://support.google.com/datastudio/answer/7516660?hl=en"&gt;官方文件&lt;/a&gt;有幾點值得注意：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;資料透視表最多處理 50,000 筆資料，為了避免 scan 資料太花時間，可以額外建立一些篩選器 subset 資料&lt;/li&gt;
&lt;li&gt;列維度跟欄維度最多可以分別設定 2 個維度（上例列欄各設定 1 個維度）&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="限制"&gt;限制&lt;a class="anchor-link" href="#限制"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;可能因為還處在 beta 版本，在這篇文章寫的時候（2018/03）試用了一陣子發現 Data Studio 也有一些使用案例沒有辦法做到，像是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;篩選器（filter）只能設定像是「欄位 C 大於 X」這種條件，而不能做「當欄位 C1 &amp;gt; 欄位 C2」這種欄位間的比較。&lt;/li&gt;
&lt;li&gt;同上，條件欄位也只能設定像是「欄位 C 大於某固定值 X」的條件&lt;/li&gt;
&lt;li&gt;資料透視表包含的資料稍多 (&amp;gt; 2000筆)就開始變慢 ..&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="實戰演練"&gt;實戰演練&lt;a class="anchor-link" href="#實戰演練"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;這篇文章用的報表連結在&lt;a href="https://datastudio.google.com/open/19a--FnAQ9asll18anhv7negoXGO0fpyH"&gt;此&lt;/a&gt;，可以自己試試不同 visualization。有任何 feedback 也歡迎聯絡。&lt;/p&gt;
&lt;center&gt;
&lt;img src="images/google-data-studio/google-data-studio-preview.png" style="width:70%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;/div&gt;
</content><category term="資料科學"></category><category term="data-science"></category><category term="資料視覺化"></category></entry><entry><title>Pelican 實戰手冊(主題篇)</title><link href="https://leemengtaiwan.github.io/build-a-pelican-powered-blog-like-a-pro.html" rel="alternate"></link><published>2018-03-05T15:00:00+09:00</published><updated>2018-03-05T15:00:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-03-05:/build-a-pelican-powered-blog-like-a-pro.html</id><summary type="html">&lt;p&gt;Pelican 是一個用 Python 寫的靜態網頁生成器, 可以幫我們把 reStructedText, Markdown file 甚至 Jupyer notebook 轉成靜態的 HTML 檔案。 有些人可能已經注意到這個部落格是用 Pelican 所寫成並且 host 在 Github 上的。這篇主要紀錄如何使用 Jinja2 自訂主題。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;有些人可能已經注意到這個部落格是用 &lt;a href="https://github.com/getpelican/pelican"&gt;Pelican&lt;/a&gt; 所寫成並且 host 在 &lt;a href="https://github.com/leemengtaiwan/leemengtaiwan.github.io"&gt;Github&lt;/a&gt; 上。這篇主要紀錄如何使用 &lt;a href="http://jinja.pocoo.org/docs/2.10/"&gt;Jinja2&lt;/a&gt; 自訂主題。&lt;/p&gt;
&lt;p&gt;Pelican 是一個用 Python 寫的靜態網頁生成器, 可以幫我們把 reStructedText, Markdown file 甚至 &lt;a href="http://jupyter.org/"&gt;Jupyer notebook&lt;/a&gt; 轉成靜態的 HTML 檔案。 靜態網頁的好處就是我們不需要一個 web server 或者是資料庫來管理內容, 可以把 HTML 檔案 host 在想要的地方，比方說 &lt;a href="https://pages.github.com/"&gt;Github Pages&lt;/a&gt;。用 Pelican 官網一句來介紹的話就是：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;blockquote&gt;&lt;p&gt;Pelican is a static site generator, written in Python, that requires no database or server-side logic. - Pelican Blog&lt;/p&gt;&lt;/blockquote&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Google 一下你會發現除了 Pelican 以外還有很多其他像是 Jekyll, Hexo 等&lt;a href="https://www.staticgen.com/"&gt;靜態網頁生成器&lt;/a&gt;。 之所以會選擇 Pelican 是因為以下幾點：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pelican 是用 Python 寫的，讓 Python 開發者（我）很容易客製化&lt;/li&gt;
&lt;li&gt;可以把 &lt;a href="https://github.com/danielfrg/pelican-ipynb"&gt;jupyter notebook 轉成 HTML&lt;/a&gt;，這對每天寫一堆 notebooks 的資料科學家很友善&lt;/li&gt;
&lt;li&gt;主題是用強大的 &lt;a href="http://jinja.pocoo.org/docs/2.10/"&gt;Jinja2&lt;/a&gt; 模組引擎建立，可以用前人寫好的&lt;a href="http://www.pelicanthemes.com/"&gt;主題&lt;/a&gt;或是自己寫 templates，自由度很高，也是本篇重點。  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果你的需求類似而且想要自己架一個部落格，可以現在就跳入 &lt;a href="https://github.com/getpelican/pelican/blob/master/docs/quickstart.rst"&gt;Pelican Quickstart&lt;/a&gt;，有問題再回來看這篇。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;&lt;img src="images/jinja2.jpeg"/&gt;&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Jinja2 是 Python 知名的模組引擎 (templating engine)，可以有系統地產生 HTML，很常出現在 &lt;a href="http://flask.pocoo.org/"&gt;Flask&lt;/a&gt; 或是 &lt;a href="https://www.djangoproject.com/"&gt;Django&lt;/a&gt; Apps 裡頭。以下介紹在建立 Pelican blog 時常用到的功能。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="再利用-HTML-區塊"&gt;再利用 HTML 區塊&lt;a class="anchor-link" href="#再利用-HTML-區塊"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;比方說我們可以建立一個汎用的 template base.html 來定義整個部落格共用的資訊，像是 header 裡頭要 import 的 css / favicon 等等：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt; &lt;span class="na"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"en"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
{% block head %}
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;link&lt;/span&gt; &lt;span class="na"&gt;rel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"stylesheet"&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"text/css"&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"css/vendor.css"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;link&lt;/span&gt; &lt;span class="na"&gt;rel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"icon"&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"images/favicon.ico"&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"image/x-icon"&lt;/span&gt;&lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
{% endblock head %}
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    {% block content %}
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;p&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;部落格內容&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;p&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    {% endblock content %}
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;注意到上面的 &lt;code&gt;{% block head %}&lt;/code&gt; jinja2 語法。會在多個 HTML 檔案重複使用的部分我們可以用 &lt;code&gt;{% block BLOCKNAME %}&lt;/code&gt; 以及 &lt;code&gt;{% endblock BLOCKNAME %}&lt;/code&gt; 包起來，然後在獨立顯示一篇文章的 article.html 裡頭我們可以定義：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="s2"&gt;"base.html"&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;block&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;{{&lt;/span&gt; &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;}}&lt;/span&gt;
  &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="err"&gt;文章標題&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;endblock&lt;/span&gt; &lt;span class="n"&gt;head&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;block&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="err"&gt;文章內容&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;endblock&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;上面的 code 基本上是告訴 jinja2 article.html 要繼承 base.html 的所有內容，而在 &lt;code&gt;head&lt;/code&gt; block 除了用&lt;code&gt;{{ super() }}&lt;/code&gt; 繼承 base.html 的內容以外，在下面再追加新的內容。而 &lt;code&gt;content&lt;/code&gt; block 則是完全取代。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;因此最後 article.html 會被渲染成：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt; &lt;span class="na"&gt;lang&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"en"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;link&lt;/span&gt; &lt;span class="na"&gt;rel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"stylesheet"&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"text/css"&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"css/vendor.css"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;link&lt;/span&gt; &lt;span class="na"&gt;rel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"icon"&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"images/favicon.ico"&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"image/x-icon"&lt;/span&gt;&lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;文章標題&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;p&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;文章內容&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;p&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="為當前文章取得前/後一篇文章連結"&gt;為當前文章取得前/後一篇文章連結&lt;a class="anchor-link" href="#為當前文章取得前/後一篇文章連結"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;center&gt;&lt;img src="images/pagination_prev_and_next.png" style="width:70%"/&gt;&lt;/center&gt;
&lt;center&gt;&lt;font color="purple"&gt; Pagination 範例: 顯示前後文章連結 &lt;br/&gt;&lt;/font&gt;&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;依照主題不同，有些主題可能文章頁面裡頭並沒有提供前一篇/後一篇文章的連結。要像上圖為每一篇文章取得前後文章的連結，可以在 article.html 裡存取 &lt;a href="https://github.com/getpelican/pelican/blob/master/docs/themes.rst#common-variables"&gt;articles Variable&lt;/a&gt; 並使用 jinja2 &lt;a href="http://jinja.pocoo.org/docs/2.10/templates/#assignments"&gt;namespace&lt;/a&gt; 來取得前後文章(&lt;code&gt;namespace&lt;/code&gt; 要在 jinja 2.10+ 以後才能使用)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="c1"&gt;# get prev- and next-article for pagination #}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="n"&gt;ns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;namespace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;found&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;prev&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;next&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;articles&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="c1"&gt;# 要使用 break 要安裝 extension, 最佳化效率可省略 #}&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%-&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;ns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;found&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="k"&gt;break&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;endif&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="c1"&gt;# 假設文章標題不會重複, unique #}&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;article&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="n"&gt;ns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;found&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;true&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="n"&gt;ns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prev&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;loop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;previtem&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="n"&gt;ns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;loop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nextitem&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;endif&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;endfor&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;上面的 code 會 iterate 所有文章，當遇到當前文章的時候利用 &lt;code&gt;loop.previtem&lt;/code&gt; 以及 &lt;code&gt;loop.nextitem&lt;/code&gt; 把前後文章記下來。 &lt;a href="https://stackoverflow.com/questions/9486393/jinja2-change-the-value-of-a-variable-inside-a-loop"&gt;jinja2 預設是無法在 loop 裡頭改變變數的值&lt;/a&gt;，但使用 &lt;code&gt;namespace&lt;/code&gt; 即可。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;接著就能利用剛剛取得的前後 article 物件來渲染前後連結：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;{# 方便起見的 assignment %}
{% set prev_article = ns.prev %}
{% set next_article = ns.next %}

{% if prev_article %}
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"prev_article.url"&lt;/span&gt; &lt;span class="na"&gt;rel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"prev"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;Previous Post&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        {{ prev_article.title }}
    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
{% endif %}
{% if next_article %}
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"next_article.url"&lt;/span&gt; &lt;span class="na"&gt;rel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"next"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;Next Post&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;span&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
        {{ next_article.title }}
    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
{% endif %}
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="傳參數給子-template"&gt;傳參數給子 template&lt;a class="anchor-link" href="#傳參數給子-template"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;有時候多個 templates 會使用類似的 HTML，像是當首頁 index.html 以及部落格 blog.html 都用相同格式渲染最新幾篇文章時，我們可以定義一個 article_entries.html 如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="c1"&gt;# 簡化版 #}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;article&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;articles&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;article&lt;/span&gt; &lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"col-block"&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"{{ SITEURL }}/{{ article.url }}"&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{{&lt;/span&gt;&lt;span class="n"&gt;article&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;{{&lt;/span&gt; &lt;span class="n"&gt;article&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;summary&lt;/span&gt; &lt;span class="p"&gt;}}&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="o"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="n"&gt;article&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;endfor&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;注意這時候如果直接在 index.html 使用&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt; &lt;span class="s1"&gt;'article_entries.html'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;是會出現&lt;a href="https://stackoverflow.com/questions/9404990/how-to-pass-selected-named-arguments-to-jinja2s-include-context"&gt;錯誤&lt;/a&gt;的。理由是被 include 的 article_entries.html 看不到定義在 index.html 的 &lt;code&gt;articles&lt;/code&gt; 變數。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;解決方法是在 index.html 裡透過 &lt;code&gt;{% with %}&lt;/code&gt; 語法定義一個 scope：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="c1"&gt;# 選擇前五篇文章來渲染 #}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="n"&gt;articles_to_show&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;articles_page&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;object_list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="c1"&gt;# 定義 scope #}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="n"&gt;articles&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;articles_to_show&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt; &lt;span class="s1"&gt;'article_entries.html'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;endwith&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;使用 &lt;code&gt;with&lt;/code&gt; 的好處是可以把子 template article_entries.html 當作 function 來使用，我們可以依照母 template 的需要，傳進想要渲染的文章即可。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Reference"&gt;Reference&lt;a class="anchor-link" href="#Reference"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="http://jinja.pocoo.org/docs/2.9/templates/#extensions"&gt;Jinja2 Extension&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="資料科學"></category><category term="data-science"></category><category term="日誌"></category></entry><entry><title>BeautifulSoup 筆記</title><link href="https://leemengtaiwan.github.io/beautifulsoup-cheat-sheet.html" rel="alternate"></link><published>2018-03-02T15:34:00+09:00</published><updated>2018-03-02T15:34:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-03-02:/beautifulsoup-cheat-sheet.html</id><summary type="html">&lt;p&gt;Beautifulsoup 是一個可以幫助我們 parse HTML 的函式庫，不管是在寫爬蟲還是做 HTML 檔案的處理都很方便。這篇主要紀錄使用 beautifulsoup 時常用的指令。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Beautifulsoup 是一個可以幫助我們 parse HTML 的 lib, 這篇主要紀錄使用 beautifulsoup 時常用的指令。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="安裝"&gt;安裝&lt;a class="anchor-link" href="#安裝"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;pip install beautifulsoup4
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="下載一個網頁並爬出特定內容"&gt;下載一個網頁並爬出特定內容&lt;a class="anchor-link" href="#下載一個網頁並爬出特定內容"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;這邊假設我們想要把維基百科上的&lt;a href="https://zh.wikipedia.org/wiki/ISO_3166-1#cite_note-taiwan-4"&gt;「國家區域代碼」&lt;/a&gt;的表格爬下來，並轉成一個 Pandas 的 Dataframe：&lt;/p&gt;
&lt;center&gt;
&lt;img src="https://leemengtaiwan.github.io/images/beautifulsoup/wiki.png" style="width:90%"/&gt;
&lt;/center&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;取得某個頁面的 HTML 字串&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;urllib&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;bs4&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;

&lt;span class="n"&gt;html&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;urllib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;urlopen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"https://zh.wikipedia.org/zh-tw/ISO_3166-1"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;soup&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'html.parser'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;利用 class 從該 HTML 裡取得特定表格&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'table'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;'class'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'wikitable sortable'&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;產生欄位名稱&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;th&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;th&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'tr'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_all&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'th'&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="n"&gt;columns&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;['英文短名稱', '二位代碼', '三位代碼', '數字代碼', 'ISO 3166-2', '中文名稱', '獨立主權']&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;產生每個國家的對應資料&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;trs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_all&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'tr'&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
&lt;span class="n"&gt;rows&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tr&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;trs&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;rows&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;td&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\xa0&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;td&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find_all&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'td'&lt;/span&gt;&lt;span class="p"&gt;)])&lt;/span&gt;
&lt;span class="n"&gt;rows&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[['Afghanistan', 'AF', 'AFG', '004', 'ISO 3166-2:AF', '阿富汗', '是'],
 ['&amp;Aring;land Islands', 'AX', 'ALA', '248', 'ISO 3166-2:AX', '奧蘭', '否'],
 ['Albania', 'AL', 'ALB', '008', 'ISO 3166-2:AL', '阿爾巴尼亞', '是'],
 ['Algeria', 'DZ', 'DZA', '012', 'ISO 3166-2:DZ', '阿爾及利亞', '是'],
 ['American Samoa', 'AS', 'ASM', '016', 'ISO 3166-2:AS', '美屬薩摩亞', '否']]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;產生 Dataframe&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;rows&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped=""&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe table table-striped table-responsive"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;英文短名稱&lt;/th&gt;
&lt;th&gt;二位代碼&lt;/th&gt;
&lt;th&gt;三位代碼&lt;/th&gt;
&lt;th&gt;數字代碼&lt;/th&gt;
&lt;th&gt;ISO 3166-2&lt;/th&gt;
&lt;th&gt;中文名稱&lt;/th&gt;
&lt;th&gt;獨立主權&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;Afghanistan&lt;/td&gt;
&lt;td&gt;AF&lt;/td&gt;
&lt;td&gt;AFG&lt;/td&gt;
&lt;td&gt;004&lt;/td&gt;
&lt;td&gt;ISO 3166-2:AF&lt;/td&gt;
&lt;td&gt;阿富汗&lt;/td&gt;
&lt;td&gt;是&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;&amp;Aring;land Islands&lt;/td&gt;
&lt;td&gt;AX&lt;/td&gt;
&lt;td&gt;ALA&lt;/td&gt;
&lt;td&gt;248&lt;/td&gt;
&lt;td&gt;ISO 3166-2:AX&lt;/td&gt;
&lt;td&gt;奧蘭&lt;/td&gt;
&lt;td&gt;否&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;Albania&lt;/td&gt;
&lt;td&gt;AL&lt;/td&gt;
&lt;td&gt;ALB&lt;/td&gt;
&lt;td&gt;008&lt;/td&gt;
&lt;td&gt;ISO 3166-2:AL&lt;/td&gt;
&lt;td&gt;阿爾巴尼亞&lt;/td&gt;
&lt;td&gt;是&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;Algeria&lt;/td&gt;
&lt;td&gt;DZ&lt;/td&gt;
&lt;td&gt;DZA&lt;/td&gt;
&lt;td&gt;012&lt;/td&gt;
&lt;td&gt;ISO 3166-2:DZ&lt;/td&gt;
&lt;td&gt;阿爾及利亞&lt;/td&gt;
&lt;td&gt;是&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;American Samoa&lt;/td&gt;
&lt;td&gt;AS&lt;/td&gt;
&lt;td&gt;ASM&lt;/td&gt;
&lt;td&gt;016&lt;/td&gt;
&lt;td&gt;ISO 3166-2:AS&lt;/td&gt;
&lt;td&gt;美屬薩摩亞&lt;/td&gt;
&lt;td&gt;否&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="找出特定-HTML-物件"&gt;找出特定 HTML 物件&lt;a class="anchor-link" href="#找出特定-HTML-物件"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;假設我們有一個字串代表一個表格：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"""&amp;lt;div&amp;gt;&amp;lt;table border="1" class="dataframe"&amp;gt;&amp;lt;thead&amp;gt;&amp;lt;tr style="text-align:right;"&amp;gt;&amp;lt;th&amp;gt;&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;x&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;y&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/thead&amp;gt;&amp;lt;tbody&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;0&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;-2.863752&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;-1.066424&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;1&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;-0.779238&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;0.862169&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/div&amp;gt;"""&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;渲染成 HTML:&lt;/p&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe table table-striped table-responsive"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;x&lt;/th&gt;
&lt;th&gt;y&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;-2.863752&lt;/td&gt;
&lt;td&gt;-1.066424&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;-0.779238&lt;/td&gt;
&lt;td&gt;0.862169&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;實際 HTML 架構：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
   &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;table&lt;/span&gt; &lt;span class="na"&gt;border&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"1"&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"dataframe"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;thead&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
         &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt; &lt;span class="na"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"text-align: right;"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;th&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;th&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;th&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;x&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;th&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;th&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;y&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;th&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
         &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;thead&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;tbody&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
         &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;th&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;0&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;th&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;-2.863752&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;-1.066424&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
         &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
         &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;th&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;1&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;th&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;-0.779238&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;0.862169&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;td&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
         &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;tr&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;tbody&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
   &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;table&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;利用 &lt;code&gt;BeautifulSoup&lt;/code&gt; 物件 parse HTML:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;bs4&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;
&lt;span class="n"&gt;soup&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BeautifulSoup&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'html.parser'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;soup&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;lt;div&amp;gt;&amp;lt;table border="1" class="dataframe"&amp;gt;&amp;lt;thead&amp;gt;&amp;lt;tr style="text-align:right;"&amp;gt;&amp;lt;th&amp;gt;&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;x&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;y&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/thead&amp;gt;&amp;lt;tbody&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;0&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;-2.863752&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;-1.066424&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;1&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;-0.779238&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;0.862169&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/div&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;找到第一個符合條件的 &lt;code&gt;table&lt;/code&gt; 標籤&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;find&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'table'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;'class'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'dataframe'&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="n"&gt;table&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;lt;table border="1" class="dataframe"&amp;gt;&amp;lt;thead&amp;gt;&amp;lt;tr style="text-align:right;"&amp;gt;&amp;lt;th&amp;gt;&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;x&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;y&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/thead&amp;gt;&amp;lt;tbody&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;0&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;-2.863752&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;-1.066424&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;1&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;-0.779238&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;0.862169&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="設定新屬性-/-class"&gt;設定新屬性 / class&lt;a class="anchor-link" href="#設定新屬性-/-class"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;因為這時候我們取出來的 &lt;code&gt;table&lt;/code&gt; 物件是 reference 到 soup 裡頭對應的物件, 只要直接改變對應的 attr 就會直接反映結果到 &lt;code&gt;soup&lt;/code&gt; 物件:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'class'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'class'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'table'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'table-striped'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'table-responsive'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;soup&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;lt;div&amp;gt;&amp;lt;table border="1" class="dataframe table table-striped table-responsive"&amp;gt;&amp;lt;thead&amp;gt;&amp;lt;tr style="text-align:right;"&amp;gt;&amp;lt;th&amp;gt;&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;x&amp;lt;/th&amp;gt;&amp;lt;th&amp;gt;y&amp;lt;/th&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/thead&amp;gt;&amp;lt;tbody&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;0&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;-2.863752&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;-1.066424&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;th&amp;gt;1&amp;lt;/th&amp;gt;&amp;lt;td&amp;gt;-0.779238&amp;lt;/td&amp;gt;&amp;lt;td&amp;gt;0.862169&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&amp;lt;/div&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Iterate-標籤裡頭的子標籤"&gt;Iterate 標籤裡頭的子標籤&lt;a class="anchor-link" href="#Iterate-標籤裡頭的子標籤"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;children&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="si"&gt;{c.name}&lt;/span&gt;&lt;span class="s1"&gt; in &lt;/span&gt;&lt;span class="si"&gt;{table.name}&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;thead in table
tbody in table
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="移除標籤"&gt;移除標籤&lt;a class="anchor-link" href="#移除標籤"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這邊假設我們要移除表格裡頭第一行的值 ( 第2個 &lt;code&gt;tr&lt;/code&gt; 標籤 ), 可以對要移除的標籤物件使用 &lt;code&gt;extract()&lt;/code&gt; func.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe table table-striped table-responsive"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;x&lt;/th&gt;
&lt;th&gt;y&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;-2.863752&lt;/td&gt;
&lt;td&gt;-1.066424&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;-0.779238&lt;/td&gt;
&lt;td&gt;0.862169&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tr&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;enumerate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;findAll&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'tr'&lt;/span&gt;&lt;span class="p"&gt;)):&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;tr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;extract&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe table table-striped table-responsive"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;x&lt;/th&gt;
&lt;th&gt;y&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;-0.779238&lt;/td&gt;
&lt;td&gt;0.862169&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="建立新標籤"&gt;建立新標籤&lt;a class="anchor-link" href="#建立新標籤"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;假設我們想要建立一個新的 &lt;code&gt;blockquote&lt;/code&gt; 標籤，並加入一些文字：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'I love BeautifulSoup!'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;blockquote&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;soup&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;new_tag&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'blockquote'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;blockquote&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;blockquote&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&amp;lt;blockquote&amp;gt;I love BeautifulSoup!&amp;lt;/blockquote&amp;gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="python"></category><category term="beautifulsoup"></category><category term="html"></category></entry><entry><title>Seaborn 筆記</title><link href="https://leemengtaiwan.github.io/seaborn-cheat-sheet.html" rel="alternate"></link><published>2018-03-02T00:10:00+09:00</published><updated>2018-03-02T00:10:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-03-02:/seaborn-cheat-sheet.html</id><summary type="html">&lt;p&gt;這篇記錄我在使用 seaborn 做資料分析還有 visualization 時常用的 code. 一般慣例會把 seaborn 更名成 sns for reference.&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這篇記錄我在使用 &lt;a href="https://seaborn.pydata.org/"&gt;seaborn&lt;/a&gt; 做資料分析還有 visualization 時常用的 code.
一般慣例會把 seaborn 更名成 &lt;code&gt;sns&lt;/code&gt; for reference.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;matplotlib&lt;/span&gt; inline
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;seaborn&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;sns&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="基本設定"&gt;基本設定&lt;a class="anchor-link" href="#基本設定"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這邊值得注意的是要調整的參數要一次全部設定, 用好幾次 &lt;code&gt;set()&lt;/code&gt; 的話只有最後一次的 &lt;code&gt;set()&lt;/code&gt; 的結果會被保留&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;font&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'IPAPMincho'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;font_scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;1.8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Histogram"&gt;Histogram&lt;a class="anchor-link" href="#Histogram"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([-0.53267554,  0.03851161, -0.16072742, -0.70889663,  0.23085979,
       -1.61295347, -0.46508874,  0.60112507,  0.42017249, -0.73656917])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;seaborn 是建立在 matplotlib 之上, 因此 matplotlib 也可以直接拿來跟 seaborn 產生的圖互動&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Defualt style with kde'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;distplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kde&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_style&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'dark'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Dark style without kde'&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;distplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kde&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Scatter-plot"&gt;Scatter plot&lt;a class="anchor-link" href="#Scatter-plot"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
    &lt;span class="s1"&gt;'x'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; 
    &lt;span class="s1"&gt;'y'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)})&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped=""&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe table table-striped table-responsive"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;x&lt;/th&gt;
&lt;th&gt;y&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;-2.863752&lt;/td&gt;
&lt;td&gt;-1.066424&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;-0.779238&lt;/td&gt;
&lt;td&gt;0.862169&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;0.016786&lt;/td&gt;
&lt;td&gt;-0.016519&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;0.948504&lt;/td&gt;
&lt;td&gt;0.298314&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;2.029428&lt;/td&gt;
&lt;td&gt;1.211997&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;要使用 seaborn 初始設定就再呼叫一次 &lt;code&gt;set()&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;注意點：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一般用lmplot畫, 然後設定 &lt;code&gt;fit_reg=False&lt;/code&gt; 就可以讓 regression line 消失. 有時候有沒有那條線影響圖很大&lt;/li&gt;
&lt;li&gt;一樣先 &lt;code&gt;x&lt;/code&gt;, 再 &lt;code&gt;y&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;fit_reg&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
    &lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lmplot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'x'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'y'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;fit_reg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;fit_reg&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
               &lt;span class="n"&gt;scatter_kws&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"marker"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"D"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"s"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
    &lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'Show regression line'&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;fit_reg&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="s1"&gt;'Without regression line'&lt;/span&gt;
    &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;想要將兩個 &lt;code&gt;lmplot&lt;/code&gt; 並排 render 可以參考這個 &lt;a href="https://stackoverflow.com/a/33091668/3859572"&gt;stackoverflow 答案&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Correlation-matrix-/-Heatmap"&gt;Correlation matrix / Heatmap&lt;a class="anchor-link" href="#Correlation-matrix-/-Heatmap"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
    &lt;span class="s1"&gt;'x1'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s1"&gt;'x2'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
    &lt;span class="s1"&gt;'x3'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;})&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped=""&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe table table-striped table-responsive"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;x1&lt;/th&gt;
&lt;th&gt;x2&lt;/th&gt;
&lt;th&gt;x3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;1.269566&lt;/td&gt;
&lt;td&gt;0.349083&lt;/td&gt;
&lt;td&gt;-0.000743&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;-1.634587&lt;/td&gt;
&lt;td&gt;0.072568&lt;/td&gt;
&lt;td&gt;0.042596&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;-0.581238&lt;/td&gt;
&lt;td&gt;-0.337935&lt;/td&gt;
&lt;td&gt;-0.412084&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;-0.080881&lt;/td&gt;
&lt;td&gt;-1.376481&lt;/td&gt;
&lt;td&gt;1.361046&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;-0.609886&lt;/td&gt;
&lt;td&gt;-1.061285&lt;/td&gt;
&lt;td&gt;0.265788&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這邊利用 pandas 本身的 &lt;code&gt;corr()&lt;/code&gt; 計算 correlation matrix 然後使用 seaborn 做 vis.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;corr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corr&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;corr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;style scoped=""&gt;
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
&lt;/style&gt;
&lt;table border="1" class="dataframe table table-striped table-responsive"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;x1&lt;/th&gt;
&lt;th&gt;x2&lt;/th&gt;
&lt;th&gt;x3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;x1&lt;/th&gt;
&lt;td&gt;1.000000&lt;/td&gt;
&lt;td&gt;-0.034731&lt;/td&gt;
&lt;td&gt;0.032407&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;x2&lt;/th&gt;
&lt;td&gt;-0.034731&lt;/td&gt;
&lt;td&gt;1.000000&lt;/td&gt;
&lt;td&gt;-0.192169&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;x3&lt;/th&gt;
&lt;td&gt;0.032407&lt;/td&gt;
&lt;td&gt;-0.192169&lt;/td&gt;
&lt;td&gt;1.000000&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;font_scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;heatmap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;corr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Blues'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;annot&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;annot_kws&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"size"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
            &lt;span class="n"&gt;xticklabels&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;corr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;yticklabels&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;corr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="References"&gt;References&lt;a class="anchor-link" href="#References"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href="http://seaborn.pydata.org/api.html"&gt;API References&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="python"></category><category term="seaborn"></category><category term="資料視覺化"></category></entry><entry><title>SQLite 筆記</title><link href="https://leemengtaiwan.github.io/sqlite-note.html" rel="alternate"></link><published>2018-02-23T22:00:00+09:00</published><updated>2018-02-23T22:00:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2018-02-23:/sqlite-note.html</id><summary type="html">&lt;p&gt;這篇主要紀錄使用 SQLite shell 下 SQL Query 的指令。基本上在 shell 裡頭都是用 dot-command, 使用 .help 可以顯示所有可用的指令。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="Table-of-Contents"&gt;Table of Contents&lt;a class="anchor-link" href="#Table-of-Contents"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;&lt;div class="toc" style="margin-top: 1em;"&gt;&lt;ul class="toc-item" id="toc-level0"&gt;&lt;li&gt;&lt;span&gt;&lt;a data-toc-modified-id="Prettier-output-1" href="http://localhost:8890/notebooks/content/20180222-SQLite-practice-1.ipynb#Prettier-output"&gt;Prettier output&lt;/a&gt;&lt;/span&gt;&lt;ul class="toc-item"&gt;&lt;li&gt;&lt;span&gt;&lt;a data-toc-modified-id="調整每一個-column-寬度-1.1" href="http://localhost:8890/notebooks/content/20180222-SQLite-practice-1.ipynb#調整每一個-column-寬度"&gt;調整每一個 column 寬度&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a data-toc-modified-id="在-sqlite3-shell-裡清空畫面-2" href="http://localhost:8890/notebooks/content/20180222-SQLite-practice-1.ipynb#在-sqlite3-shell-裡清空畫面"&gt;在 sqlite3 shell 裡清空畫面&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a data-toc-modified-id="使用-SQL-script-建立-tables-3" href="http://localhost:8890/notebooks/content/20180222-SQLite-practice-1.ipynb#使用-SQL-script-建立-tables"&gt;使用 SQL script 建立 tables&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a data-toc-modified-id="顯示目前的-tables-4" href="http://localhost:8890/notebooks/content/20180222-SQLite-practice-1.ipynb#顯示目前的-tables"&gt;顯示目前的 tables&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a data-toc-modified-id="顯示-table-schema-5" href="http://localhost:8890/notebooks/content/20180222-SQLite-practice-1.ipynb#顯示-table-schema"&gt;顯示 table schema&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&gt;&lt;a data-toc-modified-id="顯示-indexes-6" href="http://localhost:8890/notebooks/content/20180222-SQLite-practice-1.ipynb#顯示-indexes"&gt;顯示 indexes&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;這篇主要紀錄使用 SQLite shell 下 SQL Query 的指令。基本上在 shell 裡頭都是用 dot-command, 使用 &lt;code&gt;.help&lt;/code&gt; 可以顯示所有可用的指令.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Prettier-output"&gt;Prettier output&lt;a class="anchor-link" href="#Prettier-output"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;在 command-line program 裡頭使用的 response format&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.mode column
.headers on

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Example output&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Code        Name        Price       Manufacturer
----------  ----------  ----------  ------------
7           CD drive    90          2           
9           Toner cart  66          3           

&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id="調整每一個-column-寬度"&gt;調整每一個 column 寬度&lt;a class="anchor-link" href="#調整每一個-column-寬度"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;.width 5 18 15

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;缺點是不同的 tables, 不同的 columns 需要的寬度不同, 要自己調整
要重置設定:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.width 0&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="在-sqlite3-shell-裡清空畫面_1"&gt;在 sqlite3 shell 裡清空畫面&lt;a class="anchor-link" href="#在-sqlite3-shell-裡清空畫面"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;要看 OS 決定實際的 shell command&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.shell clear

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;除了 &lt;code&gt;clear&lt;/code&gt; 以外, 其他 shell command都能使用, e.g.,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.shell cd&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="使用-SQL-script-建立-tables"&gt;使用 SQL script 建立 tables&lt;a class="anchor-link" href="#使用-SQL-script-建立-tables"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;比方我們有一個 &lt;code&gt;create_tables.sql&lt;/code&gt; 內容是：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CREATE TABLE Departments (
  Code INTEGER PRIMARY KEY,
  Name varchar(255) NOT NULL ,
  Budget decimal NOT NULL 
);

INSERT INTO Departments(Code,Name,Budget) VALUES(14,'IT',65000);

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我們可以用 &lt;code&gt;.read&lt;/code&gt; dot-command 在 shell 跑該 script 建立 &lt;code&gt;Department&lt;/code&gt; table:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;.read create_tables.sql&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="顯示目前的-tables"&gt;顯示目前的 tables&lt;a class="anchor-link" href="#顯示目前的-tables"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;.tables&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="顯示-table-schema"&gt;顯示 table schema&lt;a class="anchor-link" href="#顯示-table-schema"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;.schema &amp;lt;TABLE_NAME&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="顯示-indexes"&gt;顯示 indexes&lt;a class="anchor-link" href="#顯示-indexes"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;.indexes

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在 Table T 的 Column C 建立 index&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CREATE INDEX &amp;lt;INDEX_NAME&amp;gt; ON T(C);

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;砍掉 index&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;DROP INDEX &amp;lt;INDEX_NAME&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="SQL"></category><category term="SQLite"></category><category term="資料庫"></category></entry><entry><title>Purpose of this blog</title><link href="https://leemengtaiwan.github.io/purpose-of-this-blog.html" rel="alternate"></link><published>2017-09-17T12:30:00+09:00</published><updated>2017-09-17T12:30:00+09:00</updated><author><name>Lee Meng</name></author><id>tag:leemengtaiwan.github.io,2017-09-17:/purpose-of-this-blog.html</id><summary type="html">&lt;p&gt;第一篇文章做一點 blog 的簡介，打算把自己在學 data science 還有 machine learning 過程中寫的筆記還有在 MOOC 上課的 code (主要是 jupyter notebook) 記錄下來方便自己以後搜尋。&lt;/p&gt;</summary><content type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;第一篇文章做一點 blog 的簡介，打算把自己在學 data science 還有 machine learning 過程中寫的筆記還有在 MOOC 上課的 code (主要是 jupyter notebook) 記錄下來方便自己以後搜尋。 雖然目前為止我都將 jupyter notebook render 成 HTML 然後存到 Evernote 搜尋, 但是如果該 notebook 一直更新的話就變得很不實際..&lt;/p&gt;
&lt;p&gt;&amp;lt;/br&amp;gt;
這次利用 python 的 pelican 將 jupyter notebook 轉成靜態網頁, 讓我可以不斷更新 notebooks 而且也希望 code 可以幫助到其他也在做 data science / machine learning 的人當作一些參考。 blog 的走向目前看來應該會是中英夾雜 ..&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;This is the first post of my blog.&lt;/p&gt;
&lt;p&gt;&amp;lt;/br&amp;gt;
I decided to record my learning path toward data scientist / machine learning engineer and make it easier for my future self to review what I have learnt. This blog will include codes from the courses on MOOC like Coursera, Udacity and also some pet projects. It would also be wonderful if these code and thought can help someone who want to become a data scientist.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="python"></category><category term="pelican"></category><category term="資料科學"></category><category term="blogging"></category></entry></feed>